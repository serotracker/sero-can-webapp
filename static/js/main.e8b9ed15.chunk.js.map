{"version":3,"sources":["assets/images/Prepublication.png","assets/images/WHO-EN-C-H.png","assets/images/PubMedia/1200px-The_Economist_Logo.svg.png","assets/images/PubMedia/joule.png","assets/images/PubMedia/mckinsey_logo.png","assets/images/WHO-FR-C-H.png","assets/images/public-health-agency.svg","assets/images/University-Of-Calgary-Logo.png","assets/images/amc-joule.png","assets/images/BrokenAb.gif","assets/images/airtable-icon.svg","assets/images/YearInReview2020.png","assets/images/IndustryUpdatePre_2020.png","assets/images/SeroTrackerBloodBank_July_2020.png","assets/images/LancetIDArticle.png","assets/images/InsuringTheEconomy.png","assets/images/PlosOnePub.png","assets/images/PubMedia/3622.1582633003.png","assets/images/PubMedia/Bloomberg_Logo.jpg","assets/images/PubMedia/chi_logo_89px.png","assets/images/PubMedia/cision_logo.svg","assets/images/PubMedia/CITF-logo-BIL-700.png","assets/images/PubMedia/download.png","assets/images/PubMedia/Forbes-logo.png","assets/images/PubMedia/HIMSSlogo_Hfullcolor_RGB.png","assets/images/PubMedia/JournalQuebec_Logo2013-.png","assets/images/PubMedia/marcia news.png","assets/images/PubMedia/mars.jpg","assets/images/PubMedia/mcgill-university-logo-png-transparent-cropped.png","assets/images/PubMedia/New-York-Times-Logo8x6_0.png","assets/images/PubMedia/oxford.jpg","assets/images/PubMedia/UCalgary.svg","assets/images/PubMedia/waterloo.png","assets/images/PubMedia/covidend-global-logo.png","assets/images/SerotrackerLogo.svg","types.ts","constants.ts","utils/translate/caseChanger.ts","utils/utils.tsx","utils/translate/translateService.ts","context.tsx","utils/analyticsUtils.tsx","components/shared/WhoLogo.tsx","components/shared/Footer/Footer.tsx","components/pages/About.tsx","components/pages/NotFoundPage.tsx","components/pages/CookiePolicy.tsx","httpClient.ts","components/map/MapConfig.ts","utils/MappingUtil.tsx","components/map/Popups/CountryPopup.tsx","PartnershipsConfig.ts","components/map/Layers/Countries.tsx","components/map/Popups/StudyPopup.tsx","utils/usePrevious.ts","components/map/Layers/StudyPins.tsx","utils/GeoJsonGenerator.tsx","components/map/MapboxMap.tsx","utils/stateUpdateUtils.tsx","components/shared/InformationIcon.tsx","components/sidebar/right-sidebar/SectionHeader.tsx","components/sidebar/right-sidebar/datepicker/Handle.tsx","components/sidebar/right-sidebar/datepicker/Track.tsx","components/sidebar/right-sidebar/datepicker/TooltipRail.tsx","components/sidebar/right-sidebar/datepicker/DateSlider.tsx","components/sidebar/right-sidebar/datepicker/Datepicker.tsx","components/sidebar/right-sidebar/Filters.tsx","components/map/Legend.tsx","components/sidebar/left-sidebar/TotalStats.tsx","components/shared/DownloadButton.tsx","components/sidebar/left-sidebar/LeftSidebar.tsx","components/pages/Explore/ExploreMobile.tsx","components/shared/MaintenanceModal.tsx","components/pages/Explore/Explore.tsx","components/pages/Data.tsx","components/pages/Publications/MediaCard.tsx","components/pages/Publications/BiblioDigestCard.tsx","components/pages/Publications/PublicationsConstants.ts","components/pages/Publications/PublicationsItem.tsx","components/pages/Publications/PrivateReportsCard.tsx","components/pages/Publications/Publications.tsx","components/pages/PrivacyPolicy.tsx","components/pages/TermsOfUse.tsx","components/shared/CookieBanner.tsx","components/shared/Header.tsx","components/shared/TableauEmbed/TableauReport.jsx","components/shared/TableauEmbed/TableauEmbed.tsx","components/pages/Analyze.tsx","components/partnerships/PartnershipsMap.tsx","components/pages/Partnerships/CanadaPartnership.tsx","components/shared/PageBody.tsx","components/pages/Partnerships/Partnerships.tsx","components/shared/NewsletterPopup.tsx","App.tsx","serviceWorker.js","index.js"],"names":["module","exports","LanguageType","PageStateEnum","AggregationFactor","IconName","ANALYZE_URLS","PAGES","PAGE_HASHES","Map","ByCountry","ByPopulation","AdditionalGraphs","DataDictionary","ChangeLog","SubmitSource","DownloadCsv","AccessGithub","FAQ","DataTable","ResearchArticles","GeneralSerotrackerCommunications","BiblioDigests","PrivateSectorReports","MediaMentions","ContactUs","Team","toPascalCase","str","_","upperFirst","camelCase","language","english","getMapboxLatitudeOffset","map","mapZoom","getZoom","Math","pow","withLocaleUrl","path","Countries","EnglishCountries","FrenchCountries","GermanCountries","translations","English","French","German","getCountryName","country","optionString","code","translatedCountryName","Translate","recursiveFind","object","keys","index","nextObj","length","setLanguageType","newLanguage","setLanguage","text","specifier","substitution","addSpaces","translationDictionary","translatedString","Object","forEach","key","value","replace","RegExp","e","TranslateDate","dateString","Intl","DateTimeFormat","year","month","day","format","Date","AppContext","createContext","initialMinDate","initialMaxDate","getEmptyFilters","source_type","test_type","population_group","sex","age","overall_risk_of_bias","isotypes_reported","antibody_target","publish_date","estimate_grade","unity_aligned_only","initialState","chartAggregationFactor","explore","filters","records","estimateGradePrevalences","isLoading","legendLayers","National","Regional","Local","allFilterOptions","calendarStartDates","minDate","maxDate","updatedAt","showCookieBanner","pulsateUnityFilter","reducer","state","action","type","payload","pageStateEnum","newState","filterType","filterValue","newFilters","AppContextProvider","props","useReducer","dispatch","Provider","children","sendPageView","location","ReactGA","set","page","pathname","pageview","sendAnalyticsEvent","localStorage","getItem","event","sendFiltersAnalyticsEvent","defaultFilters","isEqual","labelString","sort","filterOptions","Array","isArray","toString","category","label","sendUnityAnalyticsEvent","GAListener","history","useHistory","useEffect","listen","process","WhoLogo","useContext","useState","undefined","imgLanguageResource","setImgLanguageResource","WhoLogoEn","french","WhoLogoFr","src","className","alt","height","Footer","useMediaQuery","maxDeviceWidth","renderMobileFooter","renderDesktopFooter","to","UpdatedAt","Citation","href","target","rel","WhoDisclaimer","Sponsers","UcalgaryLogo","HealthAgencyLogo","AmcJoule","PageLinks","Fragment","h","MobilePageLinks","activeIndex","setIndex","Accordion","fluid","styled","i","Title","active","onClick","Icon","name","Content","About","isMobileDeviceOrTablet","maxWidth","selectItem","selectLink","link","renderBioBlock","description","linkedIn","email","twitter","line","icon","faLinkedin","faTwitter","faEnvelope","id","NAME","NotFoundPage","BrokenAb","Button","push","CookiePolicy","script","document","createElement","body","appendChild","removeChild","title","RECORDS_URL","httpClient","url","useAppRoute","a","url_full","fetch","res","status","error_msg","json","console","error","response_json","data","method","headers","JSON","stringify","source_id","this","httpGet","response","record","options","parseISO","updated_at","max_publication_end_date","min_publication_end_date","min_date","max_date","reqBodyFilters","date","dates","endDate","formatISO","startDate","add","years","dateList","from","compareAsc","reverse","formatDates","sampling_start_date","sampling_end_date","estimates_subgroup","only_explore_columns","reqBody","preparePostBody","columns","httpPost","country_seroprev_summary","item","formatEstimateGradePrevalences","estimateSummary","seroprevalence_estimate_summary","numberOfStudies","n_estimates","testsAdministered","n_tests_administered","geographicalName","alpha3Code","country_iso3","localEstimate","maxEstimate","max_estimate","minEstimate","min_estimate","numEstimates","nationalEstimate","regionalEstimate","sublocalEstimate","Sublocal","include_subgeography_estimates","MapSymbology","Color","Size","Default","IsHighlighted","HasData","Opacity","Disputed","Shaded","MapResources","DefaultMapboxMapOptions","center","zoom","minZoom","maxZoom","attributionControl","scrollZoom","Expressions","Studies","prepare","styleUrl","api","getStyles","fetchedStyle","sprite","glyphs","sources","esri","tiles","maxzoom","getEsriVectorSourceStyle","style","source","l","layers","promoteId","paint","row","content","CountryPopup","onDetailsClick","properties","regions","addRegion","r","Region","Name","Divider","o","minString","toFixed","maxString","regionString","random","createPopupGeographySection","PartnershipsConfig","iso3","routeName","tableauKey","tableauUrl","mapboxMapOptions","bounds","SetMapData","getSource","removeFeatureState","sourceLayer","partnershipConfig","find","x","setFeatureState","hasData","isHighlighted","SetCountryEstimates","countryFocus","highlight","setHighlight","countriesLoaded","setCountriesLoaded","on","queryRenderedFeatures","point","filter","f","features","offset","mapboxgl","Popup","setMaxWidth","setHTML","ReactDOMServer","renderToString","setLngLat","lngLat","addTo","flyTo","lng","lat","curve","speed","getTranslatedPopulationGroup","popGroupOptions","englishPopGroup","result","popGroupWithTranslations","StudyPopup","riskLevel","source_name","serum_pos_prevalence","city","renderOutGeography","geo","trim","g","join","getGeography","denominator_value","antibodyTarget","reduce","previousValue","currentValue","slice","translateAntibodyTargets","cases_per_hundred","full_vaccinations_per_hundred","usePrevious","ref","useRef","current","togglePinBlur","selectedPinId","querySourceFeatures","isBlurred","hover","StudyPins","setSelectedPinId","prevSelectedPinId","hoveredOverId","setHoveredOverId","prevHoveredOverId","flatMap","pin_latitude","pin_longitude","geometry","coordinates","recordsToGeoJsonFeatures","generateSourceFromRecords","getLayer","addSource","addLayer","setData","setFilter","pinPopup","remove","getRecordDetails","then","getCanvas","cursor","isSelected","mapOnLoad","sourceLayerId","layer","addEsriLayersFromVectorSourceStyle","styleJson","getStyle","moveLayer","workerClass","require","default","accessToken","MapboxMap","mapConfig","countriesConfig","studyPinsConfig","mapContainerRef","setMap","baseMapStyle","mergedOptions","container","m","addControl","NavigationControl","el","updateFilters","updatedFilters","assign","fetchExploreData","clearFilters","getExploreData","InformationIcon","color","size","tooltip","tooltipHeader","position","popupSize","hoverable","onOpen","popperModifiers","preventOverflow","boundariesElement","trigger","faInfoCircle","Header","SectionHeader","header_text","tooltip_text","tooltip_header","Component","React","Handle","mouseOver","onMouseEnter","setState","onMouseLeave","domain","min","max","handle","percent","isActive","disabled","getHandleProps","left","role","aria-valuemin","aria-valuemax","aria-valuenow","backgroundColor","Track","getTrackProps","width","defaultProps","TooltipRail","addEventListener","onMouseMove","removeEventListener","activeHandleID","getEventData","getRailProps","sliderStyle","margin","DateSlider","minPossibleValue","maxPossibleValue","values","onMouseUp","onSliderMove","updatedValues","setUpdatedValues","toDateSinceMinDate","val","getTime","toDateString","getFullYear","getMonth","getDate","mode","step","rootStyle","onUpdate","update","concat","onChange","newValues","railProps","handles","right","tracks","Datepicker","earliestPublicationDate","latestPublicationDate","sliderRange","setSliderRange","filterStartDate","filterEndDate","fromDateToNumber","chosenDates","setChosenDates","registerLocale","enUS","fr","de","isStart","newDates","CustomInput","Input","placeholder","selected","onSelect","dateFormatCalendar","dateFormat","showYearDropdown","yearDropdownItemNumber","scrollableYearDropdown","showMonthDropdown","locale","customInput","onclick","withPortal","closeOnScroll","shouldCloseOnSelect","dropdownMode","todayButton","Filters","filter_type","formatOptions","formatted_options","jsonObjectString","german","alternativeString","addFilter","clearFilter","buildFilterDropdown","Dropdown","multiple","search","clearable","selection","defaultValue","checked","readOnly","Legend","hideLayers","handleLegendToggle","currentTarget","background","Checkbox","outlineWidth","outlineStyle","TotalStats","countries","setNumCountries","numStudies","setNumStudies","n","setN","pageState","b","updateCountryPrevalence","toLocaleString","DownloadButton","letDownload","setLetDownload","buttonLabelKey","downloadLink","formLink","iconName","popupText","clickButton","setItem","Promise","resolve","setTimeout","getButtonLink","airtable","textAlign","airtableLogo","LeftSidebar","airtableDownloadProps","githubDownloadProps","github","Explore","ExploreMobile","showMobileFilters","setShowFilters","showSummary","setShowSummary","showLegend","setShowLegend","handleFilterToggle","showMobile","Sidebar","Pushable","as","Segment","Menu","animation","vertical","direction","visible","faTimes","fontWeight","zIndex","top","Pusher","MaintenanceModal","isOpen","headerText","Modal","closeOnEscape","closeOnDimmerClick","open","initialFilters","showUnityBanner","setShowUnityBanner","mobileModalOpen","setMobileModalOpen","onClose","Actions","Loader","indeterminate","DataButtons","buttons","Data","DataDropdowns","setActiveIndex","handleClick","titleText","newIndex","dropdownContent","entries","TranslateObject","dropdownQuestion","answer","MediaCard","Card","img","faFile","italicize","titleKey1","titleKey2","BiblioDigestCard","screeningStartDate","screeningEndDate","publishDate","serosurveysTotal","serosurveysAFRO","serosurveysEMRO","serosurveysEURO","serosurveysPAHO","serosurveysSEARO","serosurveysWPRO","serosurveysNonMember","sourcesAdded","listOfReports","YearInReview2020","InsuringTheEconomy","BloodBank","PreprintUpdate","listOfResearchArticles","MedRxiv","publicationName","authors","PlosOnePub","LancetId","listOfMediaPublicationsProps","journalQuebec","NYT","theEconomist","cision","mckinsey","joule","taz","UCalgary","HIMSS","forbes","chi","newScientist","marcia","mars","mcgill","waterloo","CITF","oxford","bloomberg","covidend","listOfBiblioDigests","listOfPrivateSectorReports","collection","PublicationsItem","Item","Meta","PrivateReportsCard","Description","Publications","flexDirection","borderTop","getPublicationsItems","getCarousel","publications","publicationsProps","pubCollectionName","slidesToShow","dots","infinite","arrows","slidesToScroll","responsive","breakpoint","settings","sliderSettings","renderCorrectCarousel","PrivacyPolicy","TermsOfUse","CookieBanner","tab","setTab","partnershipDrownDownActive","setPartnershipDrownDownActive","languageDropdownActive","setLanguageDropdownActive","changeLanguages","useLocation","usePageViews","AppTitle","Img","renderPartnershipsDropDownMenu","p","renderLanguageDropDownMenu","toUpperCase","renderPartnershipsAccordianContent","handlePartnershipClick","handleLanguageClick","simple","marginLeft","mobileNav","getTabClass","desktopNav","tabName","includes","TableauReport","parameters","initTableau","refreshTimer","clearInterval","nextProps","isReportChanged","isFiltersChanged","shallowequal","compareArrays","isParametersChanged","loading","applyFilters","applyParameters","token","didInvalidateToken","refreshSeconds","setInterval","refresh","bind","promises","cb","all","parsed","parse","query","invalidateToken","_url","protocol","host","tokenizeUrl","REPLACE","Tableau","FilterUpdateType","hasOwnProperty","sheet","applyFilterAsync","onComplete","workbook","changeParameterValueAsync","viz","refreshDataAsync","vizUrl","getUrl","onFirstInteractive","getWorkbook","sheets","getActiveSheet","getWorksheets","onLoad","dispose","Viz","c","TableauEmbed","mobileOptions","desktopOptions","Analyze","getOffsetForGraphNum","ANALYZE_MOBILE_HEIGHT","ANALYZE_DESKTOP_HEIGHT","PartnerShipsMap","partnershipconfig","setRecords","estimateGradePrevalence","setEstimateGradePrevalence","setIsLoading","getCountryPartnershipData","getPartnershipsData","mobileMap","WEBSITE","desktopMap","mapHeight","CanadaPartnership","PageBody","includeMaintenanceModal","Partnerships","useParams","config","partnership","RenderSelectedPartnershipComponent","NewsletterPopup","hidden","setHidden","onClickHandle","visibility","frameBorder","scrolling","App","getAllFilterOptions","handleResize","vh","window","innerHeight","documentElement","setProperty","unityInitialFilters","exact","route","Boolean","hostname","match","initialize","titleCase","debug","gaOptions","cookieDomain","createBrowserHistory","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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CXC,UAAW,CAAC,cACZqB,gBAAiB,WACjBC,QAAS,8DACTngB,IAAK,6EAET,CACI8B,KAAM,aACN2c,IAAK4B,KACLzB,UAAW,wBACXC,UAAW,CAAC,YACZqB,gBAAiB,kCACjBC,QAAS,oDACTngB,IAAK,2FAET,CACI8B,KAAM,aACN2c,IAAKwB,KACLrB,UAAW,wBACXC,UAAW,CAAC,YACZqB,gBAAiB,UACjBC,QAAS,6DACTngB,IAAK,kEAIAsgB,GAAmD,CAC5D,CACIxe,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,mBACZqB,gBAAiB,uBACjBzB,IAAK8B,KACLJ,QAAS,GACTngB,IAAK,uGAET,CACI8B,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,YACZqB,gBAAiB,qBACjBC,QAAS,GACTngB,IAAK,6FACLye,IAAK+B,MAET,CACI1e,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,sBACZqB,gBAAiB,gBACjBC,QAAS,GACTngB,IAAK,2GACLye,IAAKgC,MAET,CACI3e,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,iBACZqB,gBAAiB,SACjBC,QAAS,GACTngB,IAAK,wGACLye,IAAKiC,MAET,CACI5e,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,WACZqB,gBAAiB,qBACjBC,QAAS,GACTngB,IAAK,uHACLye,IAAKkC,MAET,CACI7e,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,mBACZqB,gBAAiB,YACjBC,QAAS,GACTngB,IAAK,mDACLye,IAAKmC,MAET,CACI9e,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,mBACZqB,gBAAiB,kBACjBC,QAAS,GACTngB,IAAK,2GACLye,IAAKmC,MAET,CACI9e,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,sBACZqB,gBAAiB,qBACjBC,QAAS,GACTngB,IAAK,kNACLye,IAAKkC,MAET,CACI7e,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,iBACZqB,gBAAiB,MACjBC,QAAS,GACTngB,IAAK,oEACLye,IAAKoC,MAET,CACI/e,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,qBACZqB,gBAAiB,wBACjBC,QAAS,GACTngB,IAAK,+CACLye,IAAKqC,MAET,CACIhf,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,WACZqB,gBAAiB,QACjBC,QAAS,GACTngB,IAAK,yGACLye,IAAKsC,MAET,CACIjf,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,aACZqB,gBAAiB,SACjBC,QAAS,GACTngB,IAAK,iJACLye,IAAKuC,MAET,CACIlf,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,gBACZqB,gBAAiB,mCACjBC,QAAS,GACTngB,IAAK,gEACLye,IAAKwC,MAET,CACInf,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,WACZqB,gBAAiB,eACjBC,QAAS,GACTngB,IAAK,uHACLye,IAAKyC,MAET,CACIpf,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,cACZqB,gBAAiB,iBACjBC,QAAS,GACTngB,IAAK,gFACLye,IAAK0C,MAET,CACIrf,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,iBACZqB,gBAAiB,OACjBC,QAAS,GACTngB,IAAK,wEACLye,IAAK2C,MAET,CACItf,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,iBACZqB,gBAAiB,sBACjBC,QAAS,GACTngB,IAAK,8HACLye,IAAK4C,MAET,CACIvf,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,iBACZqB,gBAAiB,yBACjBC,QAAS,GACTngB,IAAK,4GACLye,IAAK6C,MAET,CACIxf,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,gBACZqB,gBAAiB,+BACjBC,QAAS,GACTngB,IAAK,iKACLye,IAAK8C,MAET,CACIzf,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,gBACZqB,gBAAiB,uBACjBC,QAAS,GACTngB,IAAK,8GACLye,IAAK+C,MAET,CACI1f,KAAM,aACN8c,UAAW,sBACXC,UAAW,CAAC,sBACZqB,gBAAiB,YACjBC,QAAS,GACTngB,IAAK,oHACLye,IAAKgD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","file":"static/js/main.e8b9ed15.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Prepublication.0b43b193.png\";","module.exports = __webpack_public_path__ + \"static/media/WHO-EN-C-H.92cca4d5.png\";","module.exports = __webpack_public_path__ + \"static/media/1200px-The_Economist_Logo.svg.d48720c3.png\";","module.exports = __webpack_public_path__ + \"static/media/joule.18ac378a.png\";","module.exports = __webpack_public_path__ + \"static/media/mckinsey_logo.f6f0eba5.png\";","module.exports = __webpack_public_path__ + \"static/media/WHO-FR-C-H.e509206a.png\";","module.exports = __webpack_public_path__ + \"static/media/public-health-agency.a1b9e73c.svg\";","module.exports = __webpack_public_path__ + \"static/media/University-Of-Calgary-Logo.ce61287b.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAAAgCAYAAABEmHeFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABLDSURBVHgB7VwJfFTVuf/OvTOZ7JkJAaGmZBISH+iz4NK+50MpPLVVWy0uYJEsE1Cq1aq4IoLDAD6L1AfW18rDJRuCxaVoUWhfC8XSQisK2P5YZMkEQhETkpmsZObec97/3JlJk2EmgTAxUOf/+525957tnuU73/mWc4dRHDFHevb0TG7iF6skRpEQIwTRUIYgFBqqcLIKRikkKI0YmToLCdJIYa24NhIT9cRZE67HkOJmgu1nXNtnOpG+va7u5y0UR8zAKI6YwZpTfLNgyv2g5nF4VCjmEEKQsoW4vqzpUFUVxXHGiC+AGCAz/0fputa8GgT6bfqiINhL56e03rdr1xs+iqPPUCmOM4Yl/cL/BUXeSl8kGF3W7DeZOzw7f0dx9BnxHeAMkVFQmkd+fiB6DnaMMbEPssthhAZirI6YUo/7VoVEO2ZAl7kEYxbI/1YS+iBcBzNG2dAVspigC5GcGaXyNkbsfI+73ENx9AkmiuOMoPr1r+uR+Iigj4TO722qrfpztLIZdsfdxMXVjLFD3uqyh6PlS7c7/p2RWIHbEWFJyQhjEH5PcfQJX8oFkO5cnWkh/3CdRH2Dq7CWzgCclCRJ7eEAUd/mra1yRyuXNmxKFnaG76Lkd6Da1mZnz5xTW7ukPVLeJnf5ViyCQiyCLSe/HztHHJ0Y5CwbqVBCYgr59rhdpSd6y98PloqzHwmiY5Iu+HaQz8PUT4BY4g6Ps+VNuzLN7lgGzn9UsSTUQQz6jpEAcafZ1NCSYS/ZkJbruDFSfZCT3BRHrxBkLpNzC5lw5Knkj7gAUuyOoYMHT0qNlDZ+/HiT3e5IlIF6QSifLBMtj7SZp2cX5iflT812Op0nteeyGdvMMtA5DqvdMY/r2kYm+DuYpqERssi+T1CEeNeaVzqT+glyjOVYYyGOzBh+j61rWmhu8/N/1Ouu0hsNSBqSoac6smeuTqIBxkkEZx3hmGgicdSfkrI+UoEdbvuVjVDeZMgYXnI1RQEm3I48XpnvI3fu1JPS84ofyMgt2ctM2nFmUvclaKbDSyrcreCOr4fyDJ/1ms09dNeB6qG792c6V6TTuY1rIReZoLS+G3gUm6Dgrg2m7cBUfB87QZ2Rwvm8SBVAXDoRHhjj4lRebs2dnmO1l1YsrXDXy7GGAr6blLYG7DoHDF0E2O62T5fzVad52zNzSv8jWl22EdOuD9EA5nlMePrQ/NLBoKHDko7S7aX/FqmOIfNXjG1N6/BkPlX1LA0gTloAQqfbjSuJsanDSy/sqTA8myukLBsxkTEXfhPCo1NHFA3JsBdvEJwtxUsuQFQbJn4/1MgjCOAo4oZQXl+62SSIDZKeVD8pCXQOAyLRWM7UkbD2XCWvXnfleDi1tso0WHtqve6yX2A8NgezJxmxXdDqLv+syV2RFB681RW/6e3dtuHTxwqh/UUQL5aP0jKF6x4E6VXOw/iO7l6CMZ2JpTRp0slmciEY1/Wf9fS+E5qQop2x6+Od34uUx6fpWUxKowEr14Ch2wLIzL8zG02eHHpmqpjaU2Hp3lcslv8Jj8/Ic9wthDHY3QBFL0nVlTUoOQGPENPYPckdlsGYxAKPuyJbUXgOzH+uUP7PZk+u40y7iJvFyGbXHfV0jqO5+tW9UqGVV/ksVNYqrxjHfwEn3oTbmykQUYmfU+LsvSEjb9rlXNXkTjME4RPO9HFed/lQr7tiFEKaUNg3QAS/Prmk+Lp1W9Ls8Fib3SHjcnt6J5jnjNA96r7nvPOKUsLzeOaXvIN+jhWKVkgDiG6yua7r15FsM6Nt6MXlkEd/OGzYjKePHl3eFrG0PL/CxO224cVrGw9VSjOdIfoILhYEMwjJTULZoeg9iMsVwZTCppry97xdqms8WHUIl+e6vsLjKnXTPxkgOl6G3bMQrNRhRAgqwG9BMHmV6tUeoliB62/g14rg5h2+q5uPrurGSJoOln+Iy4eRioLZz7XmTF/rqXllu3yWc8uJ5qLSbvPaFWm5d11AwncF+nSQFJaGSga3J6pyF1gZnrfBVfQnGmD8YwFgu2Mf8icMtqMrT5DKX0Qn8lstvpsQ83qkwoKJhZBp53GFLU0eNeN3bbuXH0X5p5EEsUi8jUG6FPf2zgKMlRprAnbrppqK96g3ODeabPzQI/I2Q+FLQ2atLGfVeEzONXi/BfLyzmFK0updrsnGkYBBzqqJnPORaNNvva7ibaGqQvF+ha2lKLzVqJfoajTRAtPkx6OVA2/+3uXSKIaw2UsWgYgeC6OeIxicFXj3GrlDUIxgzS0Zh77Y5T3MtfPCiT8apG6ByzK08UHswFVQdi8vKcnxQUdbizipIMPzTT+IVFYRvgeNOhh2FSFOIP9MmHvvorAFMGTB6yP8vo5J2IE+9biK35ZxUs/D7nETzL1jUM4vOK1pWFDc6UcZ5Cy/j3OW2pUWQvGC1MQG2r80UpsGO1en6uSDZMMvxjh7IX7/X+OCwj8a7Q1lSv84ZRI6nocMNd5DZb+FfXm1jEdjInbUaDApi3DZKNuQcKLjpXR7yRR0/Q6EFkbKw9jEOxcYuAe8nMLgcrCR/4FOAXZymxhTnpHBY+gHsrMrXgT/2YiBehIz9QjSqj4THXutzlV2mY4+3C7zq4KN7VpXKN4cFt/Zl7mVS4x6Bc3B46No46pPRP6+UL2xgDRxSuIP7oyLoAPMDzSOrYRYMiuWxC8BXePS0L3QtY9OoyipimUeyZOoRBc1Mj73+Ur3bHkv41RTwsLIpYTcFgzTribES1zwl4IJ41Nyi7/WNaem+QuMuSVWJJ+NcRZiB2imCtU8DAY3C4Sy1easXNSlVU92pYWu8ZjgxXayn2RtlPXqomMH6n4F9T6IfE4syM2ZzqrFMr1zATBODqMLROuMBF28HWp8Rn7ppRQFjPlLcfFImzY6/3OjDjRe2sEF6yZiWTuHSbB26gNsT624F5z5bjTyKFr4EAYPegaTziG7IrRK6iMyn6q8Cx2Rg3MMK/5RRC0x2glPq+LTkylGgOWlI3DHvBirZeBwhuiBcWqlfgDTRafsrVv4aR2XaDy4HG1UHMaDYI+DOTxp1AOmwzUt4pHsjNxpt2LMhuN2T1tN5faWmqrdaIXUbbAzKFN6ep8qNKnM56L8DqyiEsytPFV7mAn2GJjeD+kU0EptJy0A0AV0TpJH0jeBaRZirHcYXeJ0KWzCirEAbHlFw0GV14YKwev4ALamK2GBMSZMaPRAtJd6qlfWoJM/Dj5a8ZLtEG8iWQk6JwCWga9SH4CV65BXzsQPGuZPXXJ8fmGVPzH5RhDT54i+KtFZZu+tDhBhBJ+EUmq0i9NMTqY3cXszBuxzhfOpDc8U7qIYwZtp2YgJ+BUFx0lV+WNGv+SZoP6A/K4gCIvG8k+5WJDDetxlm7ATVuBWDcataampeCtqQRFU4qFaSBqSAcRsSHsK8Tvh1Inoz7HOX3kJxrsAY+LWEvk1x11FlZjbF2AkuEemY9e8nU4BfkruNreD5lSOwmW0US9Tb8NiGoYdZgwn8WmH4isil4srgReoN1BwN8Bk3I2wNBgMhwgT+i2GCBMFMOE9iw78EbsAKlRuiZRHHthCnt2Bd9CUzMypp2/XF0xuwW2e+cW/CkU1z77lOIjKsK0nCQUdZj26v7Gouw1S1qJX0tDBUXKZC5NpCzjGRsn5mZ9N4KqaCDu1Mw3udYoFPlrub6quuAkreTLavJlzCtnaF1ntJZtteY6LKYZAP3aG7rlimkh9APerUiE/jOD2aeK+aPmycmYMQ+5JwcdvhGgIO/a4QBTLyjyuR/QbKZqeF2zxuubZJcdD8Y2jLOulSYkJYZhKQV+9Hm3oClgxA2enBPvALA0OjBajjg0+5p+QJCyltqeqHg+IQCLA4bE6YMlhd4cCtsAHjNcyltrVtBXhVcLS2nadzoyTie6ouRhbEby16mnqT8Jt3b1DSEdRcubclRd1jw4QEtrvwaCHtufuxCRYROKqb8trD4hUzKQYtvIA8efaW/dh4H+KLPNMGo/s6+gjvNXlb2Ah3Kia1DGB5tMWDHI252JrVL9KH2DoFIIMQwDj/H44HidHyhfJTNlZR+0rDQmtbReaW9SvtddWHomWz690SCZqFtLB1oWGjCDoY5lHJ/+jEQszFqjXYGD/wKBPTlwAopX24EPBjM3Gr5rYOZfWhStyQKFDIrdK+XugerohRPyJxzJuNFFCMtop9ZhCU3oBPHV+Ljmc10eWx9rcy492rQL2ack5JoBSv49rVK9dXd0bLfBj9vi5Hib+v7AtSu7wPbTqrowcx9WClTyvCFYLhdAGoRUKKvtP76CEAsktI1TxKsI85Fs7aE7VTKGIdiyqQulMwSAdbFxQsiVz4au1wmeegfZOhwJ1HGmbsX9PBCcyFo20cHAInKQzOeA5duY2NQl1JdojTbeDIWbNFWbKrT6SJC0KuXL7bHx6+mbqB/h0Xo/tqBXy9XMmhY1BG+eoCWYpHsbQ52EG0fuhXLMh6Pwv0nMc31WYkEYOH9jPVxRBN7YFDtnNjlaDMbe9AHT6gJDsmtRFTe6yiq5p6TnFh5D+PnKNT4KvqX3/y90OIDbQ+dtsdGQfxn48LEHvQ0R5FiJTFnRFQ1EVTAnWJ6T4dTHTtEpw79lY1VBBDZO7wcjN1KbplOaTrVEpIS+xybwO3ua/Yab/FfPugwi0qGOoZ4pJsCcDjWavKTA2GW5wZHinraY78Rt5OAsphJdADBpPZ4iUjoQ7sCJ/Fhy1PDTueexxb4GoX0aMNJOm2Brbh0Uqm860RWiIVJbssKP/EhWsl/4EPP+dc/1bxmDOmQbFiZ4wqocCBafGuxjIaV3rUTjbHrgTNzeR+mKD8tUf470B2VawBWgTHEfsWqkUq6z/vvJKTOCq/B4AC/R5mGhn491PeqA8UgzhrXm5GqxX7pBu+QwiK8JcVoAJrYKfBz4XMR7UM+p06vSHWWGsOcWXYPGCKwufULV14fmzU9rlRzsNCIpZ0+86qULXBA00MVEqvZiH67EoN4I5Sf+FHZP4pmfeHS/IbMlWixS1pQXRjjlayYTyGuYoL1RNCiVr2Ek/kPdwxL7VnuabrHK6DY+HpNcZGjEcfkzSGRgbW9e4K2GxCQl/BjfYg1UVUbnJSkj7zTGteZa8VxShqop5r1/TjGe33a31dEYRK/dpDExKVxNc0Kl2X1pu8U9BiJOQ5wJFcAWKjldR+Yak9qT10RxvQdvvt62uyiKmsW8xRcijEn/VqWNZ08I7G0L5GhYU/Xeqc8V6M4l7MdFDkOdTiDNJ2C1y4eyrblzo+Nj6VGUxqG8SF2wrzZ+gofBtiCtCnmtQJgE70nbB/MsbXKX98rFJWo5jmuYT0sSXjgX6jqr7FzfWvvZX6gd4D1fID3Zy03JLbsJAXyVPn2Je4BJh+3WFb2g+WGXscJIWdGKzeqsvOTm55URbm5EP8/aZGd5kjOMsplBty4HKz8Pzy88204aXloAAL4IPrSFSnQ2uwl1WZ9k4TKl0ml0FQm/BLvDL4y54jF2BQwW1D02WxoJx1rmVDjC2642PiZj4C3aXyxCf6ia3lkkFi8FQscnRaF3313ieLt0LMWkc89PtMIBcoXOqV4WyrmHh1LeDfT57YXeWJTYJk2EhgUPG5uknYjwTYFd0YOMvC4/3uiuijm16nqOAcfEpCP8FcOQppKjXew++uo16gDxZKQ+XhcdjoV4HkePXdI4Bdvjr0Ph1EMPWNLqKbqYBwpfye4CBBriwVObdjPFWsCCPrun9YwaNo1ec1QugmSz20L2VTs8EdjZDmoQTklMuhpVNHorLUFXmhEh4AX2JoCrifHll0ss0gDhrP4m0OategCITOkq781Q+bzubIEUWeYQ5WnrdLuMPrsqtOSW3ah3s3qGpdU3NPdRnJu088U/wJx4ZzlWXq+S/R9eZ8S8a8EH1fiasH3H27gCC7oRs/RWED3QuBkxG7BXBf3UIB+T196z2aaN7Ky4UZVNWomjev39dR7Q8VnvRNzlTV0d8PecDykFPFybSskla5aC8QHl9xuOaWk4DiLN2B/BpJ+ypPkvLsZ8U98s5mZjBkvgHOtEW6XjwpYL0HRl2xzFYJeBUY/VYzNUwUByHCVeeAvfAVqfJD+JhFpkIZToRVu1UxikD+c7D0rDBIgWxSMgPVrIifR2Aspqu+v9G5xCO0/61Kcw+bFhWc+P+++/voAFG/H+BYgA49FbDHDeJvmgwes5bXfEIxdFnxK1AMYBqTrsT/H8tfYGA+bDSe3nb4xTHGSG+A8QQtrxpU+HRhadTfJP6AYY7n+hP8ohAU035+xTHGSO+APoBtrwZGX7RMVrlagG0VHkMORcC+yBcrdgpsoQ8Di0olXX5XsL4h4fAR+ot4O4tkPlrIePXMUU5DC9gtaKyPWpT/c76+nebKY6Y4f8B5zD5XmTZGfAAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/BrokenAb.a9aeed43.gif\";","module.exports = __webpack_public_path__ + \"static/media/airtable-icon.72f20372.svg\";","module.exports = __webpack_public_path__ + \"static/media/YearInReview2020.fd7fe07a.png\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdatePre_2020.a93736ac.png\";","module.exports = __webpack_public_path__ + \"static/media/SeroTrackerBloodBank_July_2020.669b184d.png\";","module.exports = __webpack_public_path__ + \"static/media/LancetIDArticle.9c54a7db.png\";","module.exports = __webpack_public_path__ + \"static/media/InsuringTheEconomy.14c5681c.png\";","module.exports = __webpack_public_path__ + \"static/media/PlosOnePub.69693f7a.png\";","module.exports = __webpack_public_path__ + \"static/media/3622.1582633003.73b9602c.png\";","module.exports = __webpack_public_path__ + \"static/media/Bloomberg_Logo.3ee92577.jpg\";","module.exports = __webpack_public_path__ + \"static/media/chi_logo_89px.8628d1b7.png\";","module.exports = __webpack_public_path__ + \"static/media/cision_logo.62e4fbc9.svg\";","module.exports = __webpack_public_path__ + \"static/media/CITF-logo-BIL-700.4149acbd.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Forbes-logo.c6a3b406.png\";","module.exports = __webpack_public_path__ + \"static/media/HIMSSlogo_Hfullcolor_RGB.fdc4df40.png\";","module.exports = __webpack_public_path__ + \"static/media/JournalQuebec_Logo2013-.58cfe948.png\";","module.exports = __webpack_public_path__ + \"static/media/marcia news.18b7513f.png\";","module.exports = __webpack_public_path__ + \"static/media/mars.f902dbfa.jpg\";","module.exports = __webpack_public_path__ + \"static/media/mcgill-university-logo-png-transparent-cropped.46394929.png\";","module.exports = __webpack_public_path__ + \"static/media/New-York-Times-Logo8x6_0.48a0e045.png\";","module.exports = __webpack_public_path__ + \"static/media/oxford.18734b66.jpg\";","module.exports = __webpack_public_path__ + \"static/media/UCalgary.1fe9c1ca.svg\";","module.exports = __webpack_public_path__ + \"static/media/waterloo.31e73eb2.png\";","module.exports = __webpack_public_path__ + \"static/media/covidend-global-logo.40d97435.png\";","module.exports = __webpack_public_path__ + \"static/media/SerotrackerLogo.157d7250.svg\";","export type AirtableRecord = {\n  source_id: string | null;\n  source_name: string | null;\n  lead_organization?: string | null;\n  first_author: string | null;\n  source_type: string | null;\n  test_type: string | null;\n  isotypes_reported: string[] | null;\n  test_manufacturer: string[] | null;\n  sensitivity: number | null;\n  specificity: number | null;\n  country: string | null;\n  state: string[] | null;\n  city: string[] | null;\n  population_group: string | null;\n  sex: string | null;\n  age: string | null;\n  denominator_value: number | null;\n  serum_pos_prevalence: number | null;\n  publish_date: string[] | string | null;\n  publisher: string | null;\n  overall_risk_of_bias: string | null;\n  pin_latitude: number;\n  pin_longitude: number;\n  pin_region_type: string | null;\n  study_type: string | null;\n  sampling_method: string | null;\n  sampling_start_date: string | null;\n  sampling_end_date: string | null;\n  summary: string | null;\n  url: string | null;\n  estimate_grade: string | null;\n  vaccination_policy: number | null;\n  full_vaccinations_per_hundred: number | null;\n  cases_per_hundred: number | null;\n  antibody_target: string[] | null;\n};\n\nexport type AggregatedRecord = {\n  error: number[];\n  n: number;\n  name: string;\n  numStudies: number;\n  seroprevalence: number;\n};\n\nexport type FiltersConfig = {\n  source_type: string[];\n  test_type: string[];\n  country: string[];\n  population_group: Record<string, string>[];\n  sex: string[];\n  age: string[];\n  overall_risk_of_bias: string[];\n  isotypes_reported: string[];\n  antibody_target: string[],\n  publish_date: Date[];\n  estimate_grade: string[];\n  unity_aligned_only: boolean;\n};\n\nexport type StudiesFilters = {\n  country: any;\n};\n\nexport type FilterType =\n  | \"country\"\n  | \"population_group\"\n  | \"sex\"\n  | \"age\"\n  | \"test_type\"\n  | \"source_type\"\n  | \"overall_risk_of_bias\"\n  | \"isotypes_reported\"\n  | \"antibody_target\"\n  | \"estimate_grade\"\n  | \"unity_aligned_only\";\n\nexport enum LanguageType {\n  french = \"fr\",\n  english = \"en\",\n  german = \"de\",\n}\n\nexport enum PageStateEnum {\n  // TODO: replace analyze with data here\n  // once our data page uses filters\n  explore = \"explore\",\n}\n\nexport type State = {\n  chartAggregationFactor: AggregationFactor;\n  explore: PageState;\n  allFilterOptions: FiltersConfig;\n  updatedAt: string;\n  calendarStartDates: StartDates;\n  language: LanguageType;\n  showCookieBanner: boolean;\n  pulsateUnityFilter: boolean;\n};\n\nexport type StartDates = {\n  minDate: Date;\n  maxDate: Date;\n};\n\nexport type NavHashes = { \n  Explore: string[];\n  Analyze: string[];\n  Data: string[];\n  Publications: string[];\n  About: string[]; \n}\n\nexport type LegendLayersEnum = {\n  National: \"National\",\n  Regional: \"Regional\",\n  Local: \"Local\",\n}\n\nexport type LegendLayers = {\n  National: boolean;\n  Regional: boolean;\n  Local: boolean;\n}\n\nexport type PageState = {\n  filters: FiltersConfig;\n  records: AirtableRecord[];\n  isLoading: boolean;\n  estimateGradePrevalences: EstimateGradePrevalence[];\n  legendLayers: LegendLayers;\n};\n\nexport type CountriesMapConfig = {\n  estimateGradePrevalences?: EstimateGradePrevalence[];\n  countryFocus?: string;\n}\n\nexport type StudyPinsMapConfig = {\n  records: AirtableRecord[];\n}\n\nexport type EstimateGradePrevalence = {\n  testsAdministered: number;\n  geographicalName: string;\n  alpha3Code: string;\n  numberOfStudies: number;\n  localEstimate?: RegionalPrevalenceEstimate;\n  nationalEstimate?: RegionalPrevalenceEstimate;\n  regionalEstimate?: RegionalPrevalenceEstimate;\n  sublocalEstimate?: RegionalPrevalenceEstimate;\n};\n\nexport type RegionalPrevalenceEstimate = {\n  maxEstimate: number;\n  minEstimate: number;\n  numEstimates: number;\n};\n\nexport type Partnerships = { \n  [key: string]: Partnership \n};\n\nexport type Partnership = {\n  iso3: string;\n  routeName: string,\n  tableauKey: string;\n  tableauUrl: { [language: string]: string }\n  mapboxMapOptions: any\n};\n\nexport type PartnershipMapOptions = {\n/**\n * Bounds represent the initial extent of the map by 2 coordinates\n * The first coordinate is the Southwest extent\n * The second coordinate is the Northeast extent\n */\n  bounds?: [[number, number],[number, number]],\n  /**\n * maxBounds represents the hard limit to map extent, users cannot move past these\n */\n  maxBounds?: [[number, number],[number, number]],\n};\n\nexport enum AggregationFactor {\n  country = \"country\",\n  population_group = \"population_group\",\n  sex = \"sex\",\n  age = \"age\",\n  test_type = \"test_type\",\n  source_type = \"source_type\",\n  overall_risk_of_bias = \"overall_risk_of_bias\",\n  isotypes_reported = \"isotypes_reported\",\n}\n\n\nexport type publicationCarouselCollectionNames = \"Media\" | \"BiblioDigest\" | \"PrivateReports\"\n\nexport enum IconName {\n  airtable = \"\",\n  github = \"github\"\n}\n\n","export const mobileDeviceOrTabletWidth = 1200;\r\nexport const mobileDeviceWidth = 600;\r\nexport const isMaintenanceMode = false;\r\nexport const mapZIndex = {\r\n    CountriesTileLayer: 50,\r\n    DisputedAreasAndBorders: 70,\r\n    Labels: 800\r\n}\r\n\r\nexport const ANALYZE_URLS = {\r\n    \"en\": \"https://public.tableau.com/views/SeroTrackerAnalyzeEN/GlobalAnalyze?:language=en-US&:display_count=n&:origin=viz_share_link\",\r\n    \"fr\": \"https://public.tableau.com/views/SeroTrackerAnalyseFR/GlobalAnalyse?:language=en-US&publish=yes&:display_count=n&:origin=viz_share_link\",\r\n    \"de\": \"https://public.tableau.com/views/SeroTrackerAnalyseDE/GlobalAnalyse?:language=de-DE&publish=yes&:display_count=n&:origin=viz_share_link\"\r\n}\r\nexport const CANADA_URLS = {\r\n    \"en\": \"https://public.tableau.com/views/CanadaEN/Canadiancharts?:language=en-US&publish=yes&:display_count=n&:origin=viz_share_link\",\r\n    \"fr\": \"https://public.tableau.com/views/CanadaFR/Canadiancharts?:language=en-US&:display_count=n&:origin=viz_share_link\"\r\n}\r\n\r\n\r\nexport const PAGES = {\r\n    Explore: \"Explore\",\r\n    Analyze: \"Analyze\",\r\n    Data: \"Data\",\r\n    Publications: \"Publications\",\r\n    About: \"About\"\r\n}\r\n\r\nexport const PAGE_HASHES = {\r\n    [PAGES.Explore]: {\r\n        Map: \"Map\",\r\n    },\r\n    [PAGES.Analyze]: {\r\n        ByCountry: \"ByCountry\",\r\n        ByPopulation: \"ByPopulation\",\r\n        AdditionalGraphs: \"AdditionalGraphs\"\r\n    },\r\n    [PAGES.Data]: {\r\n        DataDictionary: \"DataDictionary\",\r\n        ChangeLog: \"ChangeLog\",\r\n        SubmitSource: \"SubmitSource\",\r\n        DownloadCsv: \"DownloadCsv\",\r\n        AccessGithub: \"AccessGithub\",\r\n        FAQ: \"FAQ\",\r\n        DataTable: \"DataTable\"\r\n\r\n    },\r\n    [PAGES.Publications]: {\r\n        ResearchArticles: \"ResearchArticles\",\r\n        GeneralSerotrackerCommunications: \"GeneralSerotrackerCommunications\",\r\n        BiblioDigests: \"BiblioDigests\",\r\n        PrivateSectorReports: \"PrivateSectorReports\",\r\n        MediaMentions: \"MediaMentions\"\r\n    },\r\n    [PAGES.About]: {\r\n        ContactUs: \"ContactUs\",\r\n        Team: \"Team\"\r\n    }\r\n}\r\n","import _ from \"lodash\";\r\n\r\nexport const toPascalCase = (str: string) => _.upperFirst(_.camelCase(str));","import { formatISO, add } from \"date-fns\";\r\nimport Translate from 'utils/translate/translateService';\r\nimport { LanguageType } from \"../types\";\r\nimport { compareAsc } from \"date-fns\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nlet language = LanguageType.english;\r\n\r\nexport const setLanguage = (newLanguage: LanguageType) => {\r\n  language = newLanguage;\r\n}\r\n\r\nexport const formatDates = (dates: Array<Date> | null) => {\r\n  let endDate = formatISO(new Date());\r\n  let startDate = formatISO(add(new Date(endDate), { years: -2 }));\r\n  if (dates) {\r\n    const dateList = Array.from(dates);\r\n    if (compareAsc(dateList[0], dateList[1]) === 1) {\r\n      dateList.reverse();\r\n    }\r\n    endDate = dateList[1] ? formatISO(dateList[1] as Date) : endDate;\r\n    startDate = dateList[0] ? formatISO(dateList[0] as Date) : startDate;\r\n\r\n  }\r\n  return [startDate, endDate]\r\n}\r\n\r\nexport const getGeography = (city: string[] | null | undefined, state: string[] | null | undefined, country: string | null) => {\r\n  if (!country) {\r\n    return Translate(\"Not Reported\");\r\n  }\r\n\r\n  function renderOutGeography(geo: string[] | string | null | undefined) {\r\n    if (!geo || geo.length === 0) {\r\n      return \"\"\r\n    }\r\n    if (typeof geo === \"string\"){\r\n      return geo.trim() + \", \"\r\n    }\r\n    else {\r\n      const geoTrimmed = geo.map((g) => g.trim())\r\n      return geoTrimmed.join(\", \") + \", \";\r\n    }\r\n  }\r\n\r\n  return \"\" + renderOutGeography(city) + renderOutGeography(state)  + country\r\n}\r\n\r\nexport const getMapboxLatitudeOffset = (map: mapboxgl.Map | undefined) => {\r\n  // Map seems to zoom in in powers of 2, so reducing offset by powers of 2 keeps the modal apprximately\r\n  // in the same center everytime\r\n  if(map){\r\n    // offset needs to reduce exponentially with zoom -- higher zoom x smaller offset\r\n    let mapZoom = map.getZoom();\r\n\r\n    return 80/(Math.pow(2, mapZoom))\r\n  }\r\n  return 0\r\n}\r\n\r\nexport const withLocaleUrl = (path: string) => {\r\n  return `/${language}/${path}`;\r\n}\r\n\r\nexport const translateAntibodyTargets = (antibodyTarget: string | string[]) => {\r\n  if (typeof antibodyTarget == \"string\") {\r\n    return Translate(\"AntibodyTargetOptions\", [antibodyTarget.replace(/\\s/g, \"\")])\r\n  }\r\n  else {\r\n    const initialValue = \"\"\r\n    let returnString = antibodyTarget.reduce((previousValue, currentValue) => previousValue\r\n        + Translate(\"AntibodyTargetOptions\", [currentValue.replace(/\\s/g, \"\")]) + \", \", initialValue)\r\n    return returnString.slice(0, -2)\r\n  }\r\n}","import { LanguageType } from \"../../types\";\n\nimport * as Countries from \"i18n-iso-countries\";\nimport EnglishCountries from \"i18n-iso-countries/langs/en.json\";\nimport FrenchCountries from \"i18n-iso-countries/langs/fr.json\";\nimport GermanCountries from 'i18n-iso-countries/langs/de.json'\n\nimport English from \"./en.json\";\nimport French from \"./fr.json\";\nimport German from './de.json'\nimport { toPascalCase } from \"./caseChanger\";\nimport { setLanguage } from \"../utils\";\n\ninterface TranslateStringProps {\n  text: string;\n}\n\n// Recursive Typings for nested JSON objects\ntype JsonRecord<T> = Record<string, T | string>;\ninterface Json extends JsonRecord<Json> {}\n\nCountries.registerLocale(EnglishCountries);\nCountries.registerLocale(FrenchCountries);\nCountries.registerLocale(GermanCountries);\n\nconst translations = {\n  \"en\": English,\n  \"fr\": French,\n  \"de\": German\n}\n\nexport const getCountryName = (\n  country: string,\n  language: LanguageType,\n  optionString: string\n) => {\n  const code = Countries.getAlpha2Code(country, \"en\"); //TODO: Review our strategy for country name language localization\n  const translatedCountryName = Countries.getName(code, language);\n  const displayText = translatedCountryName\n    ? translatedCountryName\n    : Translate(optionString, [toPascalCase(country)]) || country;\n  return displayText;\n};\n\nconst recursiveFind = (object: any, keys: string[], index: number): string => {\n  const key = keys[index];\n  const nextObj = object[key];\n\n  if (index + 1 === keys.length) {\n    return nextObj;\n  }\n  return recursiveFind(nextObj, keys, index + 1);\n};\n\nlet language: LanguageType = LanguageType.english;\n\nexport const getLanguageType = () => {\n  return language;\n}\n\nexport const setLanguageType = (newLanguage: LanguageType) => {\n  setLanguage(newLanguage);\n  language = newLanguage;\n};\n\n/**\n * Used to translate JSON based on language and return a string\n * @param text\n * @param specifier\n * @param substitution\n * @param addSpaces\n * @returns string\n */\nexport default function Translate(\n  text: string,\n  specifier: string[] | null = null,\n  substitution: Record<string, string | number> | null = null,\n  addSpaces: [boolean, boolean] | null = null\n): string {\n  let translationDictionary: Json = translations[language] as Json;\n\n  try {\n    let translatedString = translationDictionary[text];\n\n    if (!translatedString) {\n      return specifier ? specifier[specifier.length - 1] : text;\n    }\n\n    if (specifier) {\n      translatedString = recursiveFind(translatedString, specifier, 0);\n    }\n\n    if (substitution) {\n      Object.keys(substitution).forEach((key) => {\n        const value = substitution[key];\n        const replace = new RegExp(key, \"g\");\n        translatedString = (translatedString as string).replace(\n          replace,\n          `${value}`\n        );\n      });\n    }\n\n    if (addSpaces && addSpaces[0]) {\n      translatedString = \" \" + translatedString;\n    }\n\n    if (addSpaces && addSpaces[1]) {\n      translatedString += \" \";\n    }\n    return translatedString as string;\n  } catch (e) {\n    return `No translation for string ${text}`;\n  }\n}\n\n/**\n * Used to translate JSON based on language and return an object\n * @param text\n * @returns object\n */\nexport function TranslateObject(text: string): object {\n\n  let translationDictionary: Json = translations[language] as Json;\n\n  try {\n    return translationDictionary[text] as object;\n  } catch (e) {\n    return { error: `No translation object for string ${text}` };\n  }\n}\n\n/**\n * Used to translate and localize dates\n * @param dateString with format `{YYYY-MM-DD}T{HH:MM:SS}`\n * @returns string\n */\n export function TranslateDate(dateString: string): string {\n\n  const dateTimeFormat = new Intl.DateTimeFormat(language, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n  });\n  \n  return dateTimeFormat.format(new Date(dateString))\n}\n","import React, { createContext, Dispatch, useReducer } from \"react\";\nimport { AggregationFactor, FiltersConfig, FilterType, LanguageType, PageState, State } from \"./types\";\n\nexport const AppContext = createContext({} as [State, Dispatch<Record<string, any>>]);\n\nconst initialMinDate = new Date(2019, 1, 1, 1);\nconst initialMaxDate = new Date();\n\nexport function getEmptyFilters(): FiltersConfig {\n  return {\n    source_type: [],\n    test_type: [],\n    country: [],\n    population_group: [],\n    sex: [],\n    age: [],\n    overall_risk_of_bias: [],\n    isotypes_reported: [],\n    antibody_target: [],\n    publish_date: [initialMinDate, initialMaxDate],\n    estimate_grade: [],\n    unity_aligned_only: false\n  };\n}\n\n// Note: filters = elements that user has chosen to filter by\n// filter_options = all the elements that users could filter by\nconst initialState: State = {\n  chartAggregationFactor: AggregationFactor.country,\n  explore: {\n    filters: getEmptyFilters(),\n    records: [],\n    estimateGradePrevalences: [],\n    isLoading: false,\n    legendLayers: {\n      National: true,\n      Regional: true,\n      Local: true,\n    },\n  },\n  // TODO: replace this with an obj\n  // representing the data page once\n  // we put filters there\n  allFilterOptions: getEmptyFilters(),\n  calendarStartDates: {\n    // Important, the fact that we use an hour here tells us that we are using a default value\n    minDate: initialMinDate,\n    maxDate: initialMaxDate,\n  },\n  language: LanguageType.english,\n  updatedAt: \"\",\n  showCookieBanner: false,\n  pulsateUnityFilter: false,\n};\n\nconst reducer = (state: State, action: Record<string, any>): State => {\n  switch (action.type) {\n    case \"CLOSE_COOKIE_BANNER\":\n      return {\n        ...state,\n        showCookieBanner: false,\n      };\n    case \"OPEN_COOKIE_BANNER\":\n      return {\n        ...state,\n        showCookieBanner: true,\n      };\n    case \"UPDATE_ESTIMATE_PREVALENCES\": {\n      const { pageStateEnum, estimateGradePrevalences } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.estimateGradePrevalences = estimateGradePrevalences;\n      return newState;\n    }\n    case \"SELECT_LANGUAGE\":\n      return {\n        ...state,\n        language: action.payload,\n      };\n    case \"GET_ALL_FILTER_OPTIONS\":\n      return {\n        ...state,\n        allFilterOptions: action.payload,\n      };\n    case \"GET_AIRTABLE_RECORDS\": {\n      const { pageStateEnum, records } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.records = records;\n      return newState;\n    }\n    case \"UPDATED_AT\":\n      return {\n        ...state,\n        updatedAt: action.payload,\n      };\n    case \"UPDATE_FILTER\": {\n      const { pageStateEnum, filterType, filterValue } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.filters[filterType as FilterType] = filterValue;\n      return newState;\n    }\n    case \"UPDATE_ALL_FILTERS\": {\n      const { pageStateEnum, newFilters } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.filters = newFilters;\n      return newState;\n    }\n    case \"CLEAR_ALL_FILTERS\": {\n      const { pageStateEnum } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.filters = getEmptyFilters();\n      return newState;\n    } \n    case \"MAX_MIN_DATES\":\n      const { minDate, maxDate } = action.payload;\n      return {\n        ...state,\n        calendarStartDates: {\n          minDate,\n          maxDate,\n        },\n      };\n    case \"CHANGE_LOADING\": {\n      const { pageStateEnum, isLoading } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.isLoading = isLoading;\n      return newState;\n    }\n    case \"UPDATE_AGGREGATION_FACTOR\":\n      return { ...state, chartAggregationFactor: action.payload };\n    case \"TOGGLE_NATIONAL_PIN_LAYER\": {\n      return {\n        ...state,\n        explore: {\n          ...state.explore,\n          legendLayers: {\n            ...state.explore.legendLayers,\n            National: !state.explore.legendLayers.National,\n          },\n        },\n      };\n    }\n    case \"TOGGLE_REGIONAL_PIN_LAYER\": {\n      return {\n        ...state,\n        explore: {\n          ...state.explore,\n          legendLayers: {\n            ...state.explore.legendLayers,\n            Regional: !state.explore.legendLayers.Regional,\n          },\n        },\n      };\n    }\n    case \"TOGGLE_LOCAL_PIN_LAYER\": {\n      return {\n        ...state,\n        explore: {\n          ...state.explore,\n          legendLayers: {\n            ...state.explore.legendLayers,\n            Local: !state.explore.legendLayers.Local,\n          },\n        },\n      };\n    }\n    case \"SET_UNITY_FILTER_PULSATE\": {\n      return {\n        ...state,\n        pulsateUnityFilter: action.payload\n      }\n    }\n    default:\n      return state;\n  }\n};\n\nexport const AppContextProvider = (props: Record<string, any>) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <AppContext.Provider value={[state, dispatch]}>\n      {props.children}\n    </AppContext.Provider>\n  );\n};\n","import { Location, LocationListener, UnregisterCallback } from 'history'\r\nimport { useEffect } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { useHistory } from 'react-router-dom'\r\nimport _ from \"lodash\";\r\nimport { FiltersConfig, FilterType } from \"../types\";\r\nimport { getEmptyFilters } from \"../context\"\r\n\r\nconst sendPageView: LocationListener = (location: Location): void => {\r\n  ReactGA.set({ page: location.pathname })\r\n  ReactGA.pageview(location.pathname)\r\n}\r\ninterface eventSenderProps {\r\n  /** Typically the object that was interacted with (e.g. 'Video') */\r\n  category: string,\r\n  /** The type of interaction (e.g. 'play') */\r\n  label: string,\r\n  /** Useful for categorizing events (e.g. 'Fall Campaign') */\r\n  action: string\r\n}\r\n\r\nexport const sendAnalyticsEvent = (props: eventSenderProps) => {\r\n  const cookieAcceptance = localStorage.getItem('acceptedCookies');\r\n  if (cookieAcceptance) {\r\n    ReactGA.event(props);\r\n  }\r\n}\r\n\r\n// Send filters analytics event if filters have been updated\r\nexport const sendFiltersAnalyticsEvent = (newFilters: FiltersConfig) => {\r\n  // Only send event if they are\r\n  const defaultFilters = getEmptyFilters();\r\n  if(!_.isEqual(newFilters, defaultFilters)){\r\n    // Construct label string\r\n    // Format: \"FilterTypeA - OptionA,OptionB; FilterTypeB - OptionA,OptionB\"\r\n    // Filter types and options within filter types should be listed in alpha order\r\n    // to ensure that the same filter combination always shows up as the same event on GA\r\n    let labelString = \"\";\r\n    Object.keys(newFilters).sort().forEach(key => {\r\n      const filterOptions = newFilters[key as FilterType];\r\n      // Handle single/multi select filters\r\n      if(Array.isArray(filterOptions)){\r\n        if(!_.isEqual(filterOptions, defaultFilters[key as FilterType])){\r\n          labelString += `${key.toString()} - ${filterOptions.sort()};`\r\n        }\r\n      }\r\n      // Handle checkbox filters\r\n      // we only want to log that a checkbox filter was used \r\n      // if it = true (i.e. it was applied)\r\n      else if(filterOptions === true){\r\n        labelString += `${key.toString()};`\r\n      }\r\n    });\r\n    sendAnalyticsEvent({\r\n      category: 'Filter',\r\n      action: 'selection',\r\n      label: labelString\r\n    })\r\n  }\r\n}\r\n\r\n// `sendFilterAnalyticsEvent` will overreport the number of times \r\n// the Unity filter was applied (it gets called whenever any of the filters change)\r\n// so we need to track when the Unity filter was hit specifically through another event\r\nexport const sendUnityAnalyticsEvent = () => {\r\n  sendAnalyticsEvent({\r\n    category: 'WHO Unity Filter',\r\n    action: 'checked',\r\n    label: \"\"\r\n  })\r\n}\r\n\r\ninterface Props {\r\n  children: JSX.Element;\r\n}\r\nconst GAListener = ({ children }: Props): JSX.Element => {\r\n  const isDev = process.env.NODE_ENV === \"development\";\r\n  const history = useHistory()\r\n  useEffect((): UnregisterCallback | void => {\r\n    sendPageView(history.location, 'REPLACE')\r\n    return history.listen(sendPageView)\r\n  }, [history, isDev])\r\n\r\n  return children\r\n}\r\n\r\nexport default GAListener","import React, { useContext, useEffect, useState } from \"react\";\nimport { AppContext } from \"context\";\nimport { LanguageType } from \"types\";\nimport WhoLogoEn from \"assets/images/WHO-EN-C-H.png\";\nimport WhoLogoFr from \"assets/images/WHO-FR-C-H.png\";\n\n// Note: Consider abstracting this component into a generic TranslationImage and passing the image resource in as props if \n// more images need to be translated in the future.\n\ninterface WhoLogoProps {\n    className?: string | undefined;\n    height?: string;\n}\n\nconst WhoLogo = (props :  WhoLogoProps) => {\n  const [state] = useContext(AppContext);\n  const [imgLanguageResource, setImgLanguageResource] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    // uses a switch statement so we can support more languages in the future if needed\n    switch (state.language) {\n      case LanguageType.english:\n            setImgLanguageResource(WhoLogoEn);\n        break;\n      case LanguageType.french:\n            setImgLanguageResource(WhoLogoFr);\n        break;\n      default:\n        setImgLanguageResource(WhoLogoEn);\n    }\n  }, [state.language]);\n\n  return <img src={imgLanguageResource} className={props?.className} alt=\"World Health Organization\" height={props.height}></img>;\n};\n\nexport default WhoLogo;\n","import React, { useContext, useState } from 'react'\nimport { useMediaQuery } from 'react-responsive'\nimport { Link } from 'react-router-dom'\nimport { HashLink } from 'react-router-hash-link';\nimport { Accordion, Icon } from 'semantic-ui-react'\nimport { mobileDeviceOrTabletWidth } from '../../../constants'\nimport Translate, {TranslateDate} from '../../../utils/translate/translateService'\nimport { AppContext } from \"../../../context\"\nimport { withLocaleUrl } from \"../../../utils/utils\";\nimport { PAGE_HASHES } from '../../../constants'\nimport WhoLogo from \"components/shared/WhoLogo\";\nimport HealthAgencyLogo from 'assets/images/public-health-agency.svg';\nimport UcalgaryLogo from 'assets/images/University-Of-Calgary-Logo.png';\nimport AmcJoule from 'assets/images/amc-joule.png';\nimport './Footer.scss';\n\nconst lancetId = \"https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30631-9/fulltext#%20\"\n\ntype UpdatedAtProps = {\n  updatedAt: string;\n}\n\nexport const Footer = () => {\n  const [{updatedAt}] = useContext(AppContext);\n\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth });\n\n  return isMobileDeviceOrTablet ? renderMobileFooter(updatedAt) : renderDesktopFooter(updatedAt)\n}\n\nconst renderDesktopFooter = (updatedAt: string) => (\n  <footer className={'container-fluid mx-0 footer'}>\n      <div className=\"footer__visible-section row justify-content-between d-flex align-items-center text-center\">\n        <div className=\"col-2\">\n          <UpdatedAt updatedAt={updatedAt}/>\n        </div>\n        <div className=\"col-2\">\n            <Citation/>\n        </div>\n      </div>\n      <div className=\"row justify-content-center mt-3\">\n        <div className=\"col-8\">\n          <div className=\"row\">\n            <PageLinks/>\n          </div>\n        </div>\n      </div>\n      <div className=\"row justify-content-center mt-5\">\n        <div className=\"col-8\">\n          <div className=\"footer__sponsers-pill my-2\">\n            <Sponsers/>\n          </div>\n          <WhoDisclaimer/>\n        </div>\n      </div>\n      <div className=\"row justify-content-center py-5 text-center\">\n          <Link className=\"footer__link px-1\" to={withLocaleUrl(\"PrivacyPolicy\")}>{Translate('PrivacyPolicy')}</Link>\n        |\n          <Link className=\"footer__link px-1\" to={withLocaleUrl(\"CookiePolicy\")}>{Translate('CookiePolicy')}</Link>\n        |\n          <Link className=\"footer__link px-1\" to={withLocaleUrl(\"TermsOfUse\")}>{Translate('TermsOfUse')}</Link>\n      </div>\n    </footer>\n)\n\nconst renderMobileFooter = (updatedAt: string) => (\n  <footer className={'container-fluid mx-0 footer'}>\n      <div className=\"footer__visible-section row d-flex p-2\">\n          <UpdatedAt updatedAt={updatedAt}/>\n          <Citation/>\n      </div>\n      <div className=\"row justify-content-center mt-5\">\n        <div className=\"col-10 \">\n          <MobilePageLinks />\n        </div>\n      </div>\n      <div className=\"row justify-content-center mt-5\">\n        <div className=\"col-8\">\n          <div className=\"footer__sponsers-pill row\">\n            <Sponsers/>\n          </div>\n          <WhoDisclaimer/>\n        </div>\n      </div>\n      <div className=\"row justify-content-center mt-5 pb-5 text-center\">\n        <div>\n          <Link className=\"footer__link px-1\" to={withLocaleUrl(\"PrivacyPolicy\")}>{Translate('PrivacyPolicy')}</Link>\n        </div>\n        |\n        <div>\n          <Link className=\"footer__link px-1\" to={withLocaleUrl(\"CookiePolicy\")}>{Translate('CookiePolicy')}</Link>\n        </div>\n        |\n        <div>\n          <Link className=\"footer__link px-1\" to={withLocaleUrl(\"TermsOfUse\")}>{Translate('TermsOfUse')}</Link>\n        </div>\n      </div>\n    </footer>\n)\n\n\nconst UpdatedAt = ({updatedAt}: UpdatedAtProps) => {\n  // only renders 'last updated' when we have a valid date\n  return updatedAt ? (\n  <span className='pr-2'>\n    {Translate(\"Footer\", [\"LastUpdated\"])}: <b className='updated-at-bold'>{TranslateDate(updatedAt)}</b>\n  </span>\n  ): null\n}\n\nconst Citation = () => (\n  <span className=\"text-right\">\n    {Translate(\"Footer\", [\"CiteAs\"])}\n    <a href={lancetId} target=\"__blank\" rel=\"noopener noreferrer\" className=\"cite-link\">\n      <i>{Translate(\"Footer\", [\"LancetInfDis\"])}</i> {Translate(\"Footer\", [\"Article\"])}\n    </a> \n  </span>\n)\n\nconst WhoDisclaimer = () => (\n  <small className=\"whoDisclaimer\">\n    {Translate('WhoSerotrackAndPartnersDisclaimerSmall')}\n  </small>\n)\n\nexport const Sponsers = () => (\n  <div className=\"d-flex justify-content-around row\">\n    <a href=\"https://www.covid19immunitytaskforce.ca/\" target=\"__blank\" rel=\"noopener noreferrer\" className=\"footer__image-wrapper col-lg-auto justify-content-center\">\n      <img src=\"https://www.covid19immunitytaskforce.ca/wp-content/themes/pena-lite-child/CITF_logo_ENG.svg\" className=\"footer__image d-flex\" alt=\"COVID-19 Immunity Task Force Logo\"></img>\n    </a>\n    <a href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\" target=\"__blank\" rel=\"noopener noreferrer\" className=\"footer__image-wrapper col-lg-auto justify-content-center\">\n      <img src={UcalgaryLogo} className=\"footer__image d-flex\" alt=\"Centre for Health Informatics\"></img>\n    </a>\n    <a href=\"https://www.canada.ca/en/public-health.html/\" target=\"__blank\" rel=\"noopener noreferrer\" className=\"footer__image-wrapper col-lg-auto justify-content-center\">\n      <img src={HealthAgencyLogo} className=\"footer__image d-flex\" alt=\"Public Health Agency Logo\"></img>\n    </a>\n    <a href=\"https://www.who.int/\" target=\"__blank\" rel=\"noopener noreferrer\" className=\"footer__image-wrapper col-lg-auto justify-content-center\">\n      <WhoLogo className=\"footer__image d-flex\" />\n    </a>\n    <a href=\"https://joulecma.ca/\" target=\"__blank\" rel=\"noopener noreferrer\" className=\"footer__image-wrapper col-lg-auto justify-content-center\">\n      <img src={AmcJoule} className=\"footer__image d-flex\" alt=\"CMA Joule\"></img>\n    </a>\n  </div>\n)\n\nconst PageLinks = () => (\n  <React.Fragment>\n    {\n      Object.keys(PAGE_HASHES).map((page) => {\n        return(\n        <div className=\"col mx-2\">\n          <h3 className=\"row\">{Translate(page)}</h3>\n          {\n          Object.keys(PAGE_HASHES[page]).map(h => (\n          <HashLink to={`${withLocaleUrl(page)}#${h}`} className=\"row mt-3 footer__link\">\n            {Translate(h)}\n          </HashLink>))\n          }\n        </div>)})\n    }\n  </React.Fragment>)\n\nconst MobilePageLinks = () => {\n  const [activeIndex, setIndex] = useState(0);\n\n  return (<Accordion fluid styled className='footer-accordion'>\n    {\n      Object.keys(PAGE_HASHES).map((page, i) => {\n        return(\n          <>\n          <Accordion.Title\n            className='footer accordion__title footer__link'\n            active={activeIndex === i}\n            index={i}\n            onClick={\n              ()=>setIndex(i)\n            }\n          >\n            <Icon name='dropdown' />\n            {Translate(page)}\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === i}>\n            {\n            Object.keys(PAGE_HASHES[page]).map(h => (\n              <HashLink to={`${withLocaleUrl(page)}#${h}`} className=\"row mt-3 footer__link\">\n                {Translate(h)}\n              </HashLink>))\n            }\n          </Accordion.Content>\n          </>)})\n    }\n  </Accordion>)\n  }","import { faLinkedin, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { mobileDeviceOrTabletWidth, PAGE_HASHES } from \"../../constants\";\nimport Translate from \"../../utils/translate/translateService\";\nimport WhoLogo from \"components/shared/WhoLogo\";\nimport \"./static.css\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport {Sponsers} from \"../shared/Footer/Footer\"\nimport HealthAgencyLogo from \"../../assets/images/public-health-agency.png\";\nimport UcalgaryLogo from \"../../assets/images/University-Of-Calgary-Logo.png\";\n\nexport default function About() {\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxWidth: mobileDeviceOrTabletWidth,\n  });\n\n  const selectItem = (label: string, name: string) => {\n    sendAnalyticsEvent({\n      category: \"Social Media Link\",\n      action: \"click\",\n      label: `${label} - ${name}`,\n    });\n  };\n\n  const selectLink = (link: string) => {\n    sendAnalyticsEvent({\n      category: \"About Page Link\",\n      action: \"click\",\n      label: link,\n    });\n  };\n\n  function renderBioBlock(\n    name: string,\n    description: string[],\n    linkedIn: string | null = null,\n    email: string | null = null,\n    twitter: string | null = null\n  ) {\n    return (\n      <div>\n        <b>{name}</b>\n        <br />\n        {description.map((line) => {\n          return (\n            <div key={line}>\n              {line}\n              <br />\n            </div>\n          );\n        })}\n        {linkedIn ? (\n          <a href={linkedIn} onClick={() => selectItem(\"LinkedIn\", name)} target=\"_blank\" rel=\"noopener noreferrer\">\n            <FontAwesomeIcon icon={faLinkedin} className=\"mr-2 linked-in\" />\n          </a>\n        ) : null}\n        {twitter ? (\n          <a href={twitter} onClick={() => selectItem(\"Twitter\", name)} target=\"_blank\" rel=\"noopener noreferrer\">\n            <FontAwesomeIcon icon={faTwitter} className=\"mr-2 twitter\" />\n          </a>\n        ) : null}\n        {email ? (\n          <a href={`mailto:${email}`} onClick={() => selectItem(\"Email\", name)}>\n            <FontAwesomeIcon icon={faEnvelope} className=\"mr-2 email\" />\n          </a>\n        ) : null}\n      </div>\n    );\n  }\n  return (\n    <div className=\"page col-12\">\n      <div className={isMobileDeviceOrTablet ? \"pb-2 static-mobile\" : \"static-content pb-2\"}>\n        <h1>{Translate(\"AboutPage\", [\"Headers\", \"AboutSeroTracker\"])}</h1>\n        <p>\n        <b>{Translate(\"AboutPage\", [\"AboutSection\", \"PartOne\"])}</b>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"PartTwo\"], null, [true, false])}\n        </p>\n        <Sponsers />\n        <p>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"SupportedBy\"])}\n          <a target=\"_blank\" rel=\"noreferrer noopener\" onClick={() => selectLink(\"Public Health Agency\")} href=\"https://www.canada.ca/en/public-health.html\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"PublicHealthAgency\"], null, [true, true])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"ThroughThe\"])}\n          <a target=\"_blank\" rel=\"noreferrer noopener\" onClick={() => selectLink(\"ITF Website\")} href=\"https://www.covid19immunitytaskforce.ca/\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"Covid19ImmunityTaskForce\"], null, [true, true])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"HostedAt\"])}\n          <a\n            onClick={() => selectLink(\"Centre for Health Informatics\")}\n            href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\"\n            target=\"_blank\" rel=\"noreferrer noopener\"\n          >\n            {Translate(\"AboutPage\", [\"AboutSection\", \"HealthInformatics\"], null, [true, true])}\n          </a>\n        </p>\n        <p>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"WHO1\"])}\n          <a onClick={() => selectLink(\"WorldHealthOrganization\")} href=\"https://www.who.int/\" target=\"_blank\" rel=\"noreferrer noopener\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"WorldHealthOrganization\"], null, [true, true])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"WHO2\"])}\n          <a target=\"_blank\" rel=\"noreferrer noopener\" onClick={() => selectLink(\"UnityStudies\")} href=\"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/technical-guidance/early-investigations\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"UnityStudies\"], null, [true, false])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"WHO3\"], null, [true, true])}\n        </p>\n        <p>\n          <a onClick={() => selectLink(\"Mapbox\")} href=\"https://www.mapbox.com/\" target=\"_blank\" rel=\"noreferrer noopener\">\n            Mapbox\n          </a>{\" \"}\n          {Translate(\"AboutPage\", [\"Mapbox\"])}\n        </p>\n        <h2 id={PAGE_HASHES.About.ContactUs}>{Translate(\"AboutPage\", [\"Headers\",\"ContactUs\"])}</h2>\n        <div>\n          <p>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartOne\"], null, [true, true])}\n            <a target=\"_blank\" rel=\"noreferrer noopener\" href=\"mailto:rahul.arora@balliol.ox.ac.uk\">rahul.arora@balliol.ox.ac.uk</a>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartTwo\"], null, [true, true])}\n            <a target=\"_blank\" rel=\"noreferrer noopener\" href=\"mailto:tingting.yan@mail.utoronto.ca\">tingting.yan@mail.utoronto.ca</a>.\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartThree\"], null, [true, true])}\n            <a target=\"_blank\" rel=\"noreferrer noopener\" href=\"mailto:media@covid19immunitytaskforce.ca\">media@covid19immunitytaskforce.ca</a>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartFour\"], null, [true, true])}\n            <a target=\"_blank\" rel=\"noreferrer noopener\" href=\"mailto:kelly.johnston2@ucalgary.ca\">kelly.johnston2@ucalgary.ca</a>.\n          </p>\n          <p>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointFive\", \"PartOne\"])}\n            <b>{Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointFive\", \"PartTwo\"], null, [true, false])}</b>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointFive\", \"PartThree\"], null, [true, true])}\n            <a\n              onClick={() => selectLink(\"Form Open\")}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n              href=\"https://forms.gle/XWHQ7QPjQnzQMXSz8\"\n            >\n              {Translate(\"ThisForm\")}\n            </a>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointFive\", \"PartFour\"], null, [true, true])}\n          </p>\n        </div>\n        <h1 id={PAGE_HASHES.About.Team}>{Translate(\"AboutPage\", [\"Headers\",\"OurTeam\"])}</h1>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"TeamLead\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Rahul Arora\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }), Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            \"https://www.linkedin.com/in/rahularorayyc/\",\n            \"rahularoradfs@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Tingting Yan\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n            \"https://www.linkedin.com/in/tingting-yan/\",\n            \"\",\n            \"https://twitter.com/TingtingYan_\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"DataCuration\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n              \"Anabel Selemon\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              null,\n              \"anabel.selemon@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n              \"Caseng Zhang\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McMaster\" })],\n              \"www.linkedin.com/in/caseng\",\n              \"zhangcaseng@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Claire Donnici\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              null,\n              \"claire.donnici@ucalgary.ca\",\n              \"https://twitter.com/ClaireDonnici\"\n          )}\n          {renderBioBlock(\n              \"Dayoung Kim\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              \"https://www.linkedin.com/in/dayoung-kim-448425198/\",\n              \"dayoung.kim1@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n              \"Emma Loeschnik\",\n              [Translate(\"BlankUniversity\", null, {NAME: \"Western\"}), Translate(\"BlankUniversity\", null, { NAME: \"Brock\" })],\n              \"https://www.linkedin.com/in/emma-loeschnik-97bb48220\",\n              \"eloeschn@uwo.ca\",\n              \"https://twitter.com/emma_loeschnik\"\n          )}\n          {renderBioBlock(\n              \"Kim Nol\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n              \"https://www.linkedin.com/in/kim-noel-aa27821b8\",\n              \"kim.noel@mail.mcgill.ca\"\n          )}\n          {renderBioBlock(\n              \"Mercedes Yanes\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" }), \"Universidad Autonoma de San Luis Potosi\"],\n              \"https://www.linkedin.com/in/mercedes-yanes-lane-64b25a19b\",\n              \"mercedes.yaneslane@mcgill.ca\",\n              null\n          )}\n          {renderBioBlock(\n              \"Natalie Duarte\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n              null,\n              \"natalieaduarte@gmail.com\")}\n          {renderBioBlock(\n              \"Natasha Ilincic\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" }), Translate(\"UniversityOf\", null, { NAME: \"Guelph\" })],\n              \"https://www.linkedin.com/in/natasha-ilincic/\",\n              \"natasha.ilincic@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Niklas Bobrovitz \",\n            [Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }), Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n            \"https://www.linkedin.com/in/nik-bobrovitz-19a117179/\",\n            \"niklas.bobrovitz@mail.utoronto.ca\",\n            \"https://twitter.com/nikbobrovitz\"\n          )}\n          {renderBioBlock(\n              \"Sara Perlman-Arrow\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n              \"https://www.linkedin.com/in/sara-perlman-arrow-5075421b6/\",\n              \"sara.perlman-arrow@mail.mcgill.ca\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"DataInfrastructure\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n              \"Christian Cao\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              \"https://ca.linkedin.com/in/christian-cao-275b78190\",\n              \"ccao.canada@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Gabriel Deveaux\",\n              [Translate(\"MemorialUniversityOfNewfoundland\")],\n              \"https://www.linkedin.com/in/grdeveaux/\",\n              \"grdeveaux@mun.ca\"\n          )}\n          {renderBioBlock(\n              \"Harriet Ware\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" }), Translate(\"BlankUniversity\", null, { NAME: \"Queen's\"})],\n              null,\n              \"ware.harriet@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Judy Chen\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n              null,\n              \"judy.chen@mail.mcgill.ca\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"GlobalPartnerships\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n              \"Harriet Ware\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" }), Translate(\"BlankUniversity\", null, { NAME: \"Queen's\"})],\n              null,\n              \"ware.harriet@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Mairad Whelan\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }), Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              \"https://www.linkedin.com/in/mairead-whelan\",\n              \"mairead.whelan@ucalgary.ca\",\n              \"https://twitter.com/Mairead_GWhelan\"\n          )}\n          {renderBioBlock(\n              \"Xiaomeng Ma\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n              \"https://www.linkedin.com/in/xiaomeng-simone-ma-6a8156b9/\",\n              \"xiaomeng.ma@mail.utoronto.ca\"\n          )}\n          {renderBioBlock(\n              \"Zihan Li\",\n              [Translate(\"UniversityOf\", null, {NAME: \"Waterloo\"})],\n              \"https://www.linkedin.com/in/zihanli/\",\n              \"zihan.li@uwaterloo.ca\",\n              \"https://twitter.com/emma_loeschnik\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"DevelopmentTeam\"])}</h2>\n\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Austin Atmaja\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/austinatmaja\",\n            \"atatmaja@uwaterloo.ca\",\n            \"https://twitter.com/atatmaja_\"\n          )}\n          {renderBioBlock(\n              \"Flora Guo\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/floraguolr/\",\n              \"floraguolr@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Himanshu Ranka\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n              \"https://www.linkedin.com/in/himanshu-ranka-635a02181/\",\n              \"himanshu.ranka@mail.mcgill.ca\"\n          )}\n          {renderBioBlock(\n            \"Simona Rocco\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/simona-rocco/\",\n            \"serocco@uwaterloo.ca\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"Alumni\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n              \"Abel Joseph\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/abel-joseph/\",\n              \"abel.joseph@uwaterloo.ca\"\n          )}\n          {renderBioBlock(\n              \"Abhinav Pillai\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              null,\n              \"abhinav.arunpillai@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n              \"Brett Dziedzic\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Lethbridge\" })],\n              \"https://www.linkedin.com/in/brett-dziedzic/\",\n              \"brettdziedzic@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Emily Boucher\",\n              [Translate(\"SchoolName\", [\"Cumming\"]), Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              null,\n              \"emily.boucher@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n              \"Ewan May\",\n              [Translate(\"SchoolName\", [\"Schulich\"]), Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              \"https://www.linkedin.com/in/ewan-may\",\n              \"ewan.may@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n              \"Hannah Rahim\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              \"https://www.linkedin.com/in/hannah-rahim/\",\n              \"hannahrahim2@gmail.com\",\n              \"https://twitter.com/Hannah_Rahim1\"\n          )}\n          {renderBioBlock(\n              \"Jordan Van Wyk\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/jordanvanwyk/\",\n              \"jordanvanwyk@outlook.com\",\n              \"https://twitter.com/jordanvw_\"\n          )}\n          {renderBioBlock(\n              \"Lucas Penny\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n              \"https://www.linkedin.com/in/lucaspenny/\",\n              \"lucas.penny@mail.utoronto.ca\",\n              \"https://twitter.com/lucasjpenny\"\n          )}\n          {renderBioBlock(\n              \"Michael Liu\",\n              [\n                Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }),\n                Translate(\"BlankUniversity\", null, { NAME: \"Harvard\" }),\n              ],\n              \"https://www.linkedin.com/in/michael-liu-8728249a/\",\n              \"liu.michael222@gmail.com\",\n              \"https://twitter.com/mliu_canada\"\n          )}\n          {renderBioBlock(\n              \"Mitchell Segal\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n              null,\n              \"mitchell.segal@mail.utoronto.ca\"\n          )}\n          {renderBioBlock(\n              \"Nathan Duarte\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\"}), Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/duartenathan/\",\n              \"nathanduarte1@gmail.com\",\n              \"https://twitter.com/niduarte_canada\"\n          )}\n          {renderBioBlock(\n              \"Noel Loo\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Cambridge\" })],\n              null,\n              \"noel.loo.188@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Prannoy Lal\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/prannoylal/\",\n              \"p4lal@uwaterloo.ca\"\n          )}\n          {renderBioBlock(\n              \"Sean D'Mello\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/dmellosean/\",\n              \"sean.dmello@uwaterloo.ca\",\n              \"https://twitter.com/SeanDMello1\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"ScientificAdvisors\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\"Tim Evans\", [\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n            Translate(\"COVIDImmunityTaskForce\"),\n          ])}\n          {renderBioBlock(\"Tyler Williamson\", [\n            Translate(\"CentreHealthInformatics\"),\n            Translate(\"UniversityOf\", null, {NAME: \"Calgary\"}),\n          ])}\n          {renderBioBlock(\"Matthew Cheng\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n          ])}\n          {renderBioBlock(\"David Naylor\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"UniversityOf\", null, {NAME: \"Toronto\"}),\n          ])}\n          {renderBioBlock(\"David Buckeridge\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n          ])}\n          {renderBioBlock(\"Bruce Mazer\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n          ])}\n          {renderBioBlock(\"Jesse Papenburg\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n          ])}\n          {renderBioBlock(\"Catherine Hankins\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n          ])}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"ProjectStaff\"])}</h2>\n        <div className=\"bio-grid-container mb-5\">\n          {renderBioBlock(\"Erin O'Connor\", [\n            Translate(\"CentreHealthInformatics\"),\n            Translate(\"UniversityOf\", null, {NAME: \"Calgary\"}),\n          ])}\n          {renderBioBlock(\"Catherine Eastwood\", [\n            Translate(\"CentreHealthInformatics\"),\n            Translate(\"UniversityOf\", null, {NAME: \"Calgary\"}),\n          ])}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBiohazard } from \"@fortawesome/free-solid-svg-icons\";\nimport { Button } from 'semantic-ui-react'\nimport React, { useContext } from \"react\";\nimport { AppContext } from \"../../context\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\nimport Translate from \"../../utils/translate/translateService\";\nimport \"./static.css\";\nimport { useHistory } from 'react-router-dom';\nimport BrokenAb from '../../assets/images/BrokenAb.gif'\n\nexport default function NotFoundPage(){\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxWidth: mobileDeviceOrTabletWidth,\n  });\n\n  const history = useHistory();\n\n  const [{ language }, _] = useContext(AppContext);\n\n  return (\n    <div className=\"page col-12\">\n      <div className=\"center-container\">\n        <img src={BrokenAb} height={\"30%\"} alt=\"\" />\n        <p className=\"not-found-subheader\">{Translate(\"NotFound\", [\"PartOne\"])}</p>\n        <p>{Translate(\"NotFound\", [\"PartTwo\"])}</p>\n        <Button \n          className=\"not-found-button\"\n          onClick={() => history.push(`/${language}/Explore`)}>\n            {Translate(\"NotFound\", [\"Button\"])}\n        </Button>\n      </div>\n    </div>\n  );\n}","import React, { useEffect } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function CookiePolicy() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n\r\n    script.text = \"(function(d, s, id) { var js, tjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = 'https://app.termly.io/embed-policy.min.js'; tjs.parentNode.insertBefore(js, tjs); }(document, 'script', 'termly-jssdk'));\"\r\n\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n      <div className={isMobileDeviceOrTablet ? \"policy-div-mobile\" : \"policy-div-desktop\"}>\r\n        <iframe title=\"CookiePolicy\" className={isMobileDeviceOrTablet ? \"policy-frame-mobile\" : \"policy-frame-desktop\"} src=\"https://app.termly.io/embed/terms-of-use/4cfb8f90-983a-40b4-bea2-2cdd373f14b5\"></iframe>\r\n      </div>\r\n  )\r\n}\r\n","import { AirtableRecord, FiltersConfig, StudiesFilters } from \"./types\";\nimport { formatDates } from \"./utils/utils\";\nimport {parseISO, format } from \"date-fns\";\n\nconst RECORDS_URL = \"/data_provider/records\";\nconst RECORD_DETAILS_URL = \"/data_provider/record_details\";\nconst FILTER_OPTIONS_URL = \"/data_provider/filter_options\";\n\n// Making this a global constant so that we can easily change this\n// in case our estimate selection strategy changes in the future\nconst ESTIMATES_SUBGROUP = \"primary_estimates\";\n\n\nexport default class httpClient {\n\n    async httpGet(url: string, useAppRoute: boolean) {\n        let url_full = url;\n        if (useAppRoute && process.env.REACT_APP_ROUTE) {\n            url_full = process.env.REACT_APP_ROUTE + url_full;\n        }\n        const res = await fetch(url_full);\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async httpPost(url: string, data: Record<string, any>) {\n        let url_full = url;\n        if (process.env.REACT_APP_ROUTE) {\n            url_full = process.env.REACT_APP_ROUTE + url_full;\n        }\n        const res = await fetch(url_full, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n        });\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async getStyles(url: string) {\n\n        const res = await fetch(url);\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async getRecordDetails(source_id : string) {\n        const response = await this.httpGet(`${RECORD_DETAILS_URL}/${source_id}`, true);\n        if (!response) {\n            return null;\n        }\n        const record: AirtableRecord = response as AirtableRecord;\n        return record;\n    }\n\n    async getAllFilterOptions() {\n        const response = await this.httpGet(FILTER_OPTIONS_URL, true);\n\n        const options: Record<string, any> = response;\n        // We know that only these 3 isotypes will ever be reported, thus we can hardcode\n        options.isotypes_reported = [\"IgG\", \"IgA\", \"IgM\"];\n        const updatedAt = format(parseISO(response.updated_at), \"yyyy/MM/dd\");\n\n        const maxDate = parseISO(response.max_publication_end_date);\n        const minDate = parseISO(response.min_publication_end_date);\n        delete options.min_date;\n        delete options.max_date;\n\n        return { options, updatedAt, maxDate, minDate };\n    }\n\n\n    preparePostBody(filters: FiltersConfig){\n        const reqBodyFilters = {...filters} as Record<string, any>;\n        const date = filters.publish_date as Array<Date>;\n        const unity_aligned_only = filters.unity_aligned_only;\n        const [startDate, endDate] = formatDates(date);\n        delete reqBodyFilters.publish_date;\n        delete reqBodyFilters.unity_aligned_only;\n\n        const reqBody: Record<string, any> = {\n            filters: reqBodyFilters,\n            sampling_start_date: startDate,\n            sampling_end_date: endDate,\n            unity_aligned_only,\n            estimates_subgroup: ESTIMATES_SUBGROUP\n        }\n        return reqBody;\n    }\n\n    async getExploreData(filters: FiltersConfig,\n        only_explore_columns: Boolean=false) {\n        const reqBody: Record<string, any> = this.preparePostBody(filters);\n\n        if( only_explore_columns ){\n            reqBody.columns = [\"source_id\", \"estimate_grade\", \"pin_latitude\", \"pin_longitude\"];\n        }\n\n        const response = await this.httpPost(RECORDS_URL, reqBody)\n        if (!response || !response.records || !response.country_seroprev_summary) {\n            return {\n                records: [],\n                estimateGradePrevalences: []\n            };\n        }\n\n        const records = response.records!.map((item: Record<string, any>) => {\n            // Convert response to AirtableRecord type\n            const record: AirtableRecord = item as AirtableRecord;\n            return record;\n        });\n\n        const estimateGradePrevalences = this.formatEstimateGradePrevalences(response);\n\n        return { records, estimateGradePrevalences };\n    }\n\n    formatEstimateGradePrevalences(response: any) {\n        const estimateGradePrevalences = response.country_seroprev_summary!.map((record: Record<string, any>) => {\n            // Convert response to AlternateAggregatedRecord type         \n            const estimateSummary = record.seroprevalence_estimate_summary;\n            return {\n                numberOfStudies: record.n_estimates,\n                testsAdministered: record.n_tests_administered,\n                geographicalName: record.country,          \n                alpha3Code: record.country_iso3,\n                localEstimate: {\n                    maxEstimate: estimateSummary.Local.max_estimate,\n                    minEstimate: estimateSummary.Local.min_estimate,\n                    numEstimates: estimateSummary.Local.n_estimates,\n                },\n                nationalEstimate: {\n                    maxEstimate: estimateSummary.National.max_estimate,\n                    minEstimate: estimateSummary.National.min_estimate,\n                    numEstimates: estimateSummary.National.n_estimates,\n                },\n                regionalEstimate: {\n                    maxEstimate: estimateSummary.Regional.max_estimate,\n                    minEstimate: estimateSummary.Regional.min_estimate,\n                    numEstimates: estimateSummary.Regional.n_estimates,\n                },\n                sublocalEstimate: {\n                    maxEstimate: estimateSummary.Sublocal.max_estimate,\n                    minEstimate: estimateSummary.Sublocal.min_estimate,\n                    numEstimates: estimateSummary.Sublocal.n_estimates,\n                }\n            }\n        });\n        return estimateGradePrevalences;\n    }\n\n    async getCountryPartnershipData(filters: StudiesFilters) {\n\n        const reqBody: Record<string, any> = {\n            filters: filters,\n            include_subgeography_estimates: true,\n            estimates_subgroup: ESTIMATES_SUBGROUP\n        }\n\n        const response = await this.httpPost(RECORDS_URL, reqBody)\n        if (!response || !response.records || !response.country_seroprev_summary) {\n            return {\n                records: [],\n                estimateGradePrevalences: []\n            };\n        }\n\n        const records = response.records!.map((item: Record<string, any>) => {\n            return item as AirtableRecord;\n        });\n\n        const estimateGradePrevalences = this.formatEstimateGradePrevalences(response);\n\n        return {records, estimateGradePrevalences};\n    }\n}\n","import mapboxgl from \"mapbox-gl\";\n\nexport const MapSymbology = {\n    StudyFeature: {\n        National: {\n            Color: '#094180',\n            Size: 11\n        },\n        Regional: {\n            Color: '#F19E66',\n            Size: 9\n        },\n        Local: {\n            Color: '#E15759',\n            Size: 6\n        },\n        Sublocal: {\n            Color: '#E15759',\n            Size: 5\n        },\n        Default: {\n            Color: '#FFFFFF',\n            Size: 0\n        }\n    },\n    CountryFeature: {\n        IsHighlighted: {\n            Color: '#b0c8d4'\n        },\n        HasData: {\n            Color: '#97b1bd',\n            Opacity: 0.5 \n        },\n        Disputed: {\n            Color: '#E1E1E1',\n            Opacity: 1 \n        },\n        Shaded: {\n            Color: '#707070',\n        },\n        Default: {\n            Color: '#FFFFFF',\n            Opacity: 0 \n        }\n    },\n    Border: {\n        Color: \"#455a64\"\n    }\n}\n\nexport const MapResources = {\n    WHO_BASEMAP : \"https://tiles.arcgis.com/tiles/5T5nSi527N4F7luB/arcgis/rest/services/WHO_Polygon_Basemap_no_labels/VectorTileServer\",\n    WHO_COUNTRY_VECTORTILES : \"https://tiles.arcgis.com/tiles/5T5nSi527N4F7luB/arcgis/rest/services/Countries/VectorTileServer\"\n}\n\nexport const DefaultMapboxMapOptions = {\n    center: [10, 30],\n    zoom: 2,\n    minZoom: 2,\n    maxZoom: 14,\n    attributionControl: false,\n    scrollZoom: false\n}\n\nexport const Expressions = {\n    Studies: {\n        \"circle-color\": [\n          \"match\",\n          [\"get\", \"estimate_grade\"],\n          \"National\",\n          MapSymbology.StudyFeature.National.Color,\n          \"Regional\",\n          MapSymbology.StudyFeature.Regional.Color,\n          \"Local\",\n          MapSymbology.StudyFeature.Local.Color,\n          \"Sublocal\",\n          MapSymbology.StudyFeature.Sublocal.Color,\n          MapSymbology.StudyFeature.Default.Color,\n        ],\n        \"circle-radius\": [\n          \"match\",\n          [\"get\", \"estimate_grade\"],\n          \"National\",\n          MapSymbology.StudyFeature.National.Size,\n          \"Regional\",\n          MapSymbology.StudyFeature.Regional.Size,\n          \"Local\",\n          MapSymbology.StudyFeature.Local.Size,\n          \"Sublocal\",\n          MapSymbology.StudyFeature.Sublocal.Size,\n          MapSymbology.StudyFeature.Default.Size,\n        ],\n        'circle-stroke-color':[\n            'case',\n            ['boolean', ['feature-state', 'isSelected'], false],\n            'black',\n            'white'\n        ],\n        'circle-stroke-width': 3,\n        'circle-stroke-opacity': [\n            'case',\n            ['boolean', ['feature-state', 'hover'], false],\n            1,\n            [\n                'case',\n                ['boolean', ['feature-state', 'isSelected'], false],\n                1,\n                0\n            ],\n        ],\n        'circle-opacity': [\n            'case',\n            ['boolean', ['feature-state', 'isBlurred'], false],\n            0.2,\n            0.6\n        ]\n      },\n\n      Countries : {\n        'fill-color': [\n          'case',\n          ['boolean', ['feature-state', 'isHighlighted'], true], MapSymbology.CountryFeature.IsHighlighted.Color,\n          ['boolean', ['feature-state', 'hasData'], true], MapSymbology.CountryFeature.HasData.Color,\n          MapSymbology.CountryFeature.Default.Color\n        ],\n        'fill-opacity': [\n          'case',\n          ['boolean', ['feature-state', 'hasData'], false], MapSymbology.CountryFeature.HasData.Opacity,  \n          MapSymbology.CountryFeature.Default.Opacity\n        ]\n      }\n}","import mapboxgl, { LngLat } from \"mapbox-gl\";\nimport httpClient from \"../httpClient\";\nimport { Expressions } from \"components/map/MapConfig\"\n\n// Params: url - to an esri vector tile service\n// Returns: Modified style object with attributes for Mapbox GL JS compatability \nasync function prepare(url: string) {\n\n  const styleUrl = url + \"/resources/styles/root.json\";\n\n  const api = new httpClient()\n\n  let fetchedStyle = await api.getStyles(styleUrl);\n  fetchedStyle.sprite = url + \"/resources/sprites/sprite\";\n  fetchedStyle.glyphs = url + \"/resources/fonts/{fontstack}/{range}.pbf\";\n  fetchedStyle.sources.esri = {\n    type: 'vector',\n    tiles: [url + \"/tile/{z}/{y}/{x}.pbf\"],\n    maxzoom: 23,\n  };\n\n  return fetchedStyle;\n};\n\n// Params: url - to an esri vector tile service\n// Returns: Mapbox style object with applied serotracker styling expressions\nexport async function getEsriVectorSourceStyle(url: string) {\n    let style = await prepare(url)\n\n    var source = style.sources.esri as mapboxgl.VectorSource;\n\n    const l = style.layers[0] as mapboxgl.Layer;\n    if (l.id === \"Countries\") {\n      source.promoteId = { \"Countries\": \"CODE\" }\n      l.paint = Expressions.Countries as any\n    }\n\n    return style\n}\n\n// Params: mapbox style object, mapbox instance to add layers to\nexport function addEsriLayersFromVectorSourceStyle(style: any, map: mapboxgl.Map) {\n  const sourceLayerId = style?.layers[0][\"source-layer\"] as string;\n\n  map.addSource(sourceLayerId, style.sources.esri);\n  \n  if (sourceLayerId === \"Countries\"){\n    const layer = style?.layers[0]\n    layer.source = sourceLayerId;\n    map.addLayer(layer)\n  }\n  else{\n  style.layers.forEach((layer: any) => {\n    if (layer.source !== \"DISPUTED_AREAS\" && layer.source !== \"DISPUTED_BORDERS\")\n    {\n      layer.source = sourceLayerId;\n      map.addLayer(layer);\n    }\n  });\n}\n}\n\nfunction getBoundingBox(coordinates: any[]) {\n  let bbox: any = {\n    xMin: undefined,\n    xMax: undefined,\n    yMin: undefined,\n    yMax: undefined,\n  }\n\n  coordinates.forEach((c)=>{\n    const longitude = c[0];\n    const latitude = c[1];\n    bbox.xMin = Math.min(bbox.xMin, longitude);\n    bbox.xMax = Math.max(bbox.xMax, longitude);\n    bbox.yMin = Math.min(bbox.yMin , latitude);\n    bbox.yMax = Math.max(bbox.yMax , latitude);\n  })\n  return bbox;\n}\n\nexport function getFeatureBoundingBox(feature: GeoJSON.Feature): mapboxgl.LngLatBounds | undefined {\n  let extent = undefined\n  \n  if(feature.geometry.type === 'Polygon')\n  {\n    extent = getBoundingBox(feature.geometry.coordinates[0]);\n  }\n  else if (feature.geometry.type === 'MultiPolygon')\n  {\n    extent = getBoundingBox(feature.geometry.coordinates[0][0]);\n  }\n\n  return extent ? new mapboxgl.LngLatBounds(\n    new mapboxgl.LngLat(extent.xMin, extent.yMin),\n    new mapboxgl.LngLat(extent.xMax, extent.yMax)\n    ) : undefined;\n}\n\n","import React from \"react\";\nimport { RegionalPrevalenceEstimate } from \"types\";\nimport { LanguageType } from \"types\";\nimport {Button, Divider} from 'semantic-ui-react'\nimport Translate, { getCountryName } from 'utils/translate/translateService';\n\nfunction row(title: string, content: JSX.Element | string | string[] | null | undefined) {\n    return (\n        <div className={\"d-flex justify-content-between mb-2\"}>\n            <div className={\"country-popup-heading\"}>\n                {title}\n            </div>\n            <div className={\"country-popup-text\"}>\n                {content}\n            </div>\n        </div>\n    )\n}\n\nconst createPopupGeographySection = (regionalEstimate: RegionalPrevalenceEstimate, title: string) => {\n  const minString = `${(regionalEstimate.minEstimate * 100).toFixed(2)}%`\n  const maxString = `${(regionalEstimate.maxEstimate * 100).toFixed(2)}%`\n  const regionString = minString === maxString ? minString : `${minString} - ${maxString}`;\n\n  return (\n    <div key={Math.random()}>\n        <div key={Math.random()} className=\"country-popup-header pt-1 mb-2\">\n            {title}\n        </div>\n        {row(Translate('EstimateRange'), (<b>{regionString}</b>))}\n        {row(Translate('NumberEstimates'), (<b>{regionalEstimate.numEstimates}</b>))}\n    </div>\n  )\n}\n\nconst CountryPopup = (country : any, language : LanguageType, onDetailsClick?: any) => {\n\n  const properties = country?.state\n\n  if (properties.testsAdministered) {\n    const regions: Array<any> = []\n    let addRegion = (r: RegionalPrevalenceEstimate, name: string) => { \n      return (r !== undefined && r.numEstimates !== 0 ? regions.push({Region: r, Name: name}) : null) \n    }\n    addRegion(properties.nationalEstimate, Translate('NationalEstimates'));\n    addRegion(properties.regionalEstimate, Translate('RegionalEstimates'));\n    addRegion(properties.localEstimate, Translate('LocalEstimates'));\n    addRegion(properties.sublocalEstimate, Translate('SublocalEstimates'));\n\n    return (\n      <div className=\"country-popup-content p-4\" >\n        <div className=\"country-popup-title\">\n            {getCountryName(properties.geographicalName, language, \"CountryOptions\")}\n        </div>\n          <Divider />\n        {row(Translate(\"TestsAdministered\"), <b>{properties?.testsAdministered}</b>)}\n        {row(Translate('NumSeroprevalenceEstimates'), <b>{properties?.numberOfStudies}</b>)}\n        {regions.map((o) => createPopupGeographySection(o.Region, o.Name))}\n        {onDetailsClick ? \n            <Button className=\"not-found-button mt-2\" onClick={()=>{ onDetailsClick()}}>\n              {Translate(\"ViewPartnership\")}\n            </Button> : \"\"\n        }\n      </div>)\n  }\n\n  return (\n    <div className=\"country-popup-content\">\n      <div className=\"country-popup-title\">{getCountryName(properties.geographicalName, language, \"CountryOptions\")}</div>\n      <div className=\"col-12 p-0 flex country-popup-text\">{Translate('NoData')}</div>\n    </div>)\n}\n\nexport default CountryPopup;","import { Partnership } from './types';\nimport { CANADA_URLS } from \"./constants\";\n\nconst PartnershipsConfig: Partnership[] = [\n        {\n            iso3: 'CAN',\n            routeName: \"Canada\",\n            tableauKey: \"CanadianTableau\",\n            tableauUrl: CANADA_URLS,\n            mapboxMapOptions: {\n                bounds: [\n                    [-148, 39], // Southwest coordinates\n                    [-50, 75] // Northeast coordinates\n                ],\n                /*\n                maxBounds: [\n                    [-147, 37], // Southwest coordinates\n                    [-48, 86] // Northeast coordinates\n                ]\n                */\n            }\n        }\n    ]\n\nexport default PartnershipsConfig;","import { useState, useEffect, useContext } from \"react\"\nimport { AppContext } from \"context\";\nimport ReactDOMServer from \"react-dom/server\";\nimport { EstimateGradePrevalence, CountriesMapConfig } from \"types\";\nimport mapboxgl from \"mapbox-gl\";\nimport CountryPopup from 'components/map/Popups/CountryPopup'\nimport PartnershipsConfig from '../../../PartnershipsConfig'\nimport { useHistory } from 'react-router-dom';\nimport { sendAnalyticsEvent } from \"../../../utils/analyticsUtils\";\nimport {getMapboxLatitudeOffset} from \"../../../utils/utils\";\n\nconst COUNTRY_LAYER_ID = 'Countries';\n\n// Maps estimate grade prevalence data to a match ISO3 code in the countries feature layer\nfunction SetCountryEstimates(map: mapboxgl.Map, estimateGradePrevalences: EstimateGradePrevalence[]) {\n\n    map.removeFeatureState({\n        source: COUNTRY_LAYER_ID,\n        sourceLayer: COUNTRY_LAYER_ID\n        });\n\n    estimateGradePrevalences.forEach((country: EstimateGradePrevalence) => {\n        if (country && country.testsAdministered && country.alpha3Code) {\n\n            const partnershipConfig = PartnershipsConfig.find(x => x.iso3 === country.alpha3Code)\n\n            map.setFeatureState(\n                {\n                    source: COUNTRY_LAYER_ID,\n                    sourceLayer: COUNTRY_LAYER_ID,\n                    id: country.alpha3Code,\n                },\n                {\n                    hasData: true,\n                    isHighlighted: false,\n                    testsAdministered: country.testsAdministered,\n                    geographicalName: country.geographicalName,\n                    numberOfStudies: country.numberOfStudies,\n                    localEstimate: country.localEstimate,\n                    nationalEstimate: country.nationalEstimate,\n                    regionalEstimate: country.regionalEstimate,\n                    sublocalEstimate: country.sublocalEstimate,\n                    partnershipConfig: partnershipConfig\n                }\n            );\n        }\n    });\n}\n\nfunction SetMapData(map: mapboxgl.Map, estimateGradePrevalences: EstimateGradePrevalence[]) {\n    if(map.getSource(COUNTRY_LAYER_ID))\n    {\n    SetCountryEstimates(map, estimateGradePrevalences);\n    }\n}\n\nconst Countries = (map: mapboxgl.Map | undefined, {estimateGradePrevalences, countryFocus}: CountriesMapConfig) => {\n\n    const [state] = useContext(AppContext);\n    const [highlight, setHighlight] = useState<string | undefined>(undefined);\n    const [countriesLoaded, setCountriesLoaded] = useState<boolean>(false);\n    const history = useHistory();\n\n    // If estimates are updated, maps estimate data to country features\n    useEffect(() => {\n        if (map && estimateGradePrevalences && countriesLoaded)\n        {\n            SetMapData(map, estimateGradePrevalences);\n        }\n    }, [map, estimateGradePrevalences, countryFocus, countriesLoaded]);\n\n    // Waits until map is loaded\n    useEffect(() => {\n        if (map)\n        {\n            if (!map.getSource(COUNTRY_LAYER_ID)) \n            {\n                map.on('styledata', ()=>setCountriesLoaded(true));\n            }\n            else\n            {\n                setCountriesLoaded(true);\n            }\n        }\n    }, [map]);\n\n\n    // wait until map is loaded then creates and binds popup to map events\n    useEffect(() => {\n        if (map) {\n            map.on('click', COUNTRY_LAYER_ID, function(e: any) {\n                if (map.queryRenderedFeatures(e.point).filter((f) => f.source === \"study-pins\").length === 0) {\n                    const country = e.features[0];\n                    const offset = getMapboxLatitudeOffset(map)\n                   \n                    new mapboxgl.Popup({offset: 25, className: \"pin-popup\",})\n                      .setMaxWidth(\"370px\")\n                      .setHTML(ReactDOMServer.renderToString(CountryPopup(country, state.language)))\n                      .setLngLat(e.lngLat)\n                      .addTo(map);\n                    map.flyTo({\n                        center: [e.lngLat.lng, e.lngLat.lat - offset],\n                        curve: 0.5,\n                        speed: 0.5,\n                    });\n                    sendAnalyticsEvent({\n                        category: \"Country popup\",\n                        action: \"open\",\n                        label: e.features[0].id,\n                    });\n                }\n            });\n        }\n    }, [map, state.language, history])\n\n    useEffect(() => {\n        if (map) {\n            map.on('mousemove', COUNTRY_LAYER_ID, function(e: any){\n                if(e.features && e.features.length > 0 && e.features[0].state.hasData) {\n                    if (highlight !== undefined){\n                        map.setFeatureState(\n                            { source: COUNTRY_LAYER_ID, sourceLayer: COUNTRY_LAYER_ID, id: highlight },\n                            { isHighlighted: false }\n                        );\n                    }    \n                    \n                    setHighlight(e.features[0].id)\n                    map.setFeatureState(\n                        { source: COUNTRY_LAYER_ID, sourceLayer: COUNTRY_LAYER_ID, id: e.features[0].id },\n                        { isHighlighted: true }\n                    );\n                }\n            })\n            map.on('mouseleave', COUNTRY_LAYER_ID, function(){\n                if (highlight !== undefined){\n                    map.setFeatureState(\n                        { source: COUNTRY_LAYER_ID, sourceLayer: COUNTRY_LAYER_ID, id: highlight },\n                        { isHighlighted: false }\n                    );\n                }\n                setHighlight(undefined)\n            })\n        }\n    }, [map, highlight])\n\n    return;\n}\n\nexport default Countries;","import React from \"react\";\nimport { AirtableRecord } from \"types\";\nimport Translate, { TranslateDate, getLanguageType } from 'utils/translate/translateService';\nimport {getGeography, translateAntibodyTargets} from 'utils/utils';\n\n/**\n * @param title: left column of study modal: title of content\n * @param content: right content of study modal: the actual content for this record\n */\nfunction row(title: string, content: JSX.Element | string | string[] | null | undefined) {\n    return (\n        <div className={\"d-flex justify-content-between mb-2\"}>\n            <div className={\"popup-heading\"}>\n                {title}\n            </div>\n            <div className={\"popup-text\"}>\n                {content}\n            </div>\n        </div>\n    )\n}\n\nfunction riskTag(riskLevel: string) {\n    return(\n        <div className={\"popup-risk-tag popup-risk-\" + riskLevel}>\n            {Translate(\"RiskOfBiasOptions\", [riskLevel])} {Translate(\"RiskOfBias\")}\n        </div>\n    )\n}\n\n/**\n * @param popGroupOptions: List of population group options, each option being a dictionary with key = language and value = translated option string\n * @param englishPopGroup: English population group string\n */\nfunction getTranslatedPopulationGroup(popGroupOptions: Record<string, string>[], englishPopGroup: string){\n    let result = englishPopGroup;\n    const popGroupWithTranslations = popGroupOptions.find(x => x.english === englishPopGroup)\n    // TODO: refactor so that popGroupOptions keys directly map to languages on the frontend\n    const languageTypeMapping = {\n      'en': 'english',\n      'fr': 'french',\n      'de': 'german'\n    }\n\n    if(popGroupWithTranslations){\n      const lang = languageTypeMapping[getLanguageType()]\n      result = popGroupWithTranslations[lang]\n    }\n    return result\n}\n\nexport default function StudyPopup(record: AirtableRecord, popGroupOptions: Record<string, string>[]) {\n    return (\n        <div className=\"popup-content pt-2\" >\n            {/*Header section*/}\n            <div className={\"popup-section\"}>\n                <div className=\"popup-title\">\n                    {Translate(`${record.estimate_grade}StudyDetails`)}\n                </div>\n                <div className=\"popup-subtitle\">\n                    {record.url ? <a href={record.url} target=\"_blank\" rel=\"noopener noreferrer\">{record.source_name}</a> : record.source_name}\n                </div>\n            </div>\n            {/*SeroPrev section*/}\n            <div className={\"popup-seroprev-level popup-section\"}>\n                <div className={\"popup-heading\"}>\n                    {Translate(\"BestSeroprevalenceEstimate\")}: <b> {record.serum_pos_prevalence ? `${(record.serum_pos_prevalence * 100).toFixed(1)}%` : \"N/A\"}</b>\n                </div>\n                <div className={\"popup-text\"}>\n                    {(record.sampling_start_date && record.sampling_end_date) && (\n                        <>\n                            {`${TranslateDate(record.sampling_start_date)} ${Translate(\"DateRangeTo\")} ${TranslateDate(record.sampling_end_date)}`}\n                        </>)\n                    }\n                </div>\n            </div>\n            {/*Content section*/}\n            <div className={\"popup-section\"}>\n                {row(Translate(\"PopulationGroup\"), record.population_group ? getTranslatedPopulationGroup(popGroupOptions, record.population_group) : Translate(\"NotReported\"))}\n                {row(Translate(\"Location\"), getGeography(record.city, record.state, record.country))}\n                {row(Translate(\"SampleSize\"), record.denominator_value?.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, Translate(\",\")))}\n                {row(Translate(\"AntibodyTarget\"), record.antibody_target && record.antibody_target.length > 0 ? translateAntibodyTargets(record.antibody_target) : \"N/A\")}\n                {row(Translate(\"PositiveCases\"), (record.cases_per_hundred ? record.cases_per_hundred.toFixed(1) + Translate(\"Per100\") : \"N/A\"))}\n                {row(Translate(\"Vaccinations\"), (record.full_vaccinations_per_hundred ? record.full_vaccinations_per_hundred.toFixed(1) + Translate(\"Per100\") : \"N/A\"))}\n            </div>\n            {/*RiskTag section*/}\n            {riskTag(`${record.overall_risk_of_bias}`)}\n        </div>)\n}\n","import { useEffect, useRef } from \"react\";\n\nfunction usePrevious(value: any) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport default usePrevious;","import { useState, useEffect, useContext } from \"react\"\nimport ReactDOMServer from \"react-dom/server\";\nimport StudyPopup from \"components/map/Popups/StudyPopup\";\nimport { AppContext } from \"context\";\nimport { StudyPinsMapConfig } from \"types\";\nimport httpClient from \"httpClient\";\nimport usePrevious from \"utils/usePrevious\"\nimport mapboxgl from \"mapbox-gl\";\nimport generateSourceFromRecords from \"utils/GeoJsonGenerator\";\nimport {Expressions} from \"components/map/MapConfig\"\nimport { sendAnalyticsEvent } from \"../../../utils/analyticsUtils\";\nimport {getMapboxLatitudeOffset} from \"../../../utils/utils\";\nimport {useMediaQuery} from \"react-responsive\";\nimport {mobileDeviceOrTabletWidth} from \"../../../constants\";\n\n// Checks and blurs all pins that are not selected whgen a certain pin is clicked\nconst togglePinBlur = (map: mapboxgl.Map, selectedPinId?: string) => {\n  const features = map.querySourceFeatures('study-pins', {\n    sourceLayer: 'study-pins'\n    });\n  \n  features.forEach(x => {\n    const isBlurred = !(selectedPinId === x?.id || selectedPinId === undefined)\n    if (x && x.id)\n    {\n      map.setFeatureState(\n        {\n          source: \"study-pins\",\n          id: x.id,\n        },\n        {\n          isBlurred: isBlurred,\n          // a safety net because sometimes the hover state is skipped on click, makes sure to reset the map everytime something is clicked\n          hover: false\n        }\n      );\n    }\n  })\n}\n\nconst StudyPins = (map: mapboxgl.Map | undefined, {records}: StudyPinsMapConfig) => {\n\n  const [state] = useContext(AppContext);\n  const [api] = useState(new httpClient());\n  const [selectedPinId, setSelectedPinId] = useState<string | undefined>(undefined);\n  const prevSelectedPinId = usePrevious(selectedPinId)\n  const [hoveredOverId, setHoveredOverId] = useState<string | undefined>(undefined);\n  const prevHoveredOverId = usePrevious(hoveredOverId)\n\n  useEffect(() => {\n    if(map){\n      const src = generateSourceFromRecords(records);\n      if(map.getLayer(\"study-pins\") === undefined){\n        map.addSource(\"study-pins\", src);\n        map.addLayer({\n          id: \"study-pins\",\n          type: \"circle\",\n          source: \"study-pins\",\n          paint: Expressions.Studies as mapboxgl.CirclePaint\n        });\n      }\n      else{\n        const studyPinsSource = map.getSource(\"study-pins\") as any;\n        studyPinsSource.setData(src.data);\n      }\n    }\n  }, [map, records]);\n\n  useEffect(() => {\n    if (map) {\n      map?.setFilter('study-pins',\n      [\n        \"match\",\n        [\"get\", \"estimate_grade\"],\n        \"National\", state.explore.legendLayers.National,\n        \"Regional\", state.explore.legendLayers.Regional,\n        \"Local\", state.explore.legendLayers.Local,\n        \"Sublocal\", state.explore.legendLayers.Local,\n        false,\n      ]\n      );\n    }\n  }, [map, state.explore.legendLayers]);\n\n  useEffect(() => {\n    if (map) {\n      let pinPopup: mapboxgl.Popup | undefined = undefined;\n\n      map.on(\"click\", \"study-pins\", function (e: mapboxgl.MapMouseEvent & mapboxgl.EventData) {\n        if (pinPopup !== undefined)\n        {\n          pinPopup.remove()\n        }\n        const source_id = e.features[0].properties.source_id;\n        const offset = getMapboxLatitudeOffset(map)\n        api.getRecordDetails(source_id).then((record) => {\n          if (record !== null) {\n            setSelectedPinId(source_id);\n            togglePinBlur(map, source_id);\n            pinPopup = new mapboxgl.Popup({ offset: 5, className: \"pin-popup\" })\n              .setLngLat(e.lngLat)\n              .setMaxWidth(\"480px\")\n              .setHTML(ReactDOMServer.renderToString(StudyPopup(record, state.allFilterOptions.population_group)))\n              .addTo(map);\n            map.flyTo({\n              center: [e.lngLat.lng, e.lngLat.lat - offset],\n              curve: 0.5,\n              speed: 0.5,\n              });\n            sendAnalyticsEvent({\n              category: \"Study pin popup\",\n              action: \"open\",\n              label: `${source_id} - ${record.source_name}`,\n            });\n            pinPopup.on(\"close\",()=>{\n              setSelectedPinId(undefined);\n              togglePinBlur(map);\n            })\n          }\n        });\n      });\n\n      map.on(\"mouseenter\", \"study-pins\", function () {\n        map.getCanvas().style.cursor = \"pointer\";\n      });\n      map.on(\"mouseleave\", \"study-pins\", function () {\n        map.getCanvas().style.cursor = \"\";\n      });\n\n      // Toggles the hover state\n      map.on(\"mousemove\", \"study-pins\", function (e: mapboxgl.MapMouseEvent & mapboxgl.EventData) {\n        setHoveredOverId(e.features[0].properties.source_id)\n      })\n    }\n  }, [map, api])\n\n  // Changes hover state of each circle\n  useEffect(() => {\n    if(map){\n      if(hoveredOverId && !selectedPinId){\n        map.setFeatureState(\n            {\n              source: \"study-pins\",\n              id: hoveredOverId,\n            },\n            {\n              hover: true,\n            }\n        )\n\n        map.setFeatureState(\n            {\n              source: \"study-pins\",\n              id: prevHoveredOverId,\n            },\n            {\n              hover: false,\n            }\n        )\n      }\n    }\n\n  }, [map, hoveredOverId])\n\n  // changes select state styling of each circle\n  useEffect(() => {\n    if (map) {\n      if (prevSelectedPinId) {\n        map.setFeatureState(\n          {\n            source: \"study-pins\",\n            id: prevSelectedPinId,\n          },\n          {\n            isSelected: false,\n          }\n        );\n      }\n\n      if(selectedPinId)\n      {\n        map.setFeatureState(\n          {\n            source: \"study-pins\",\n            id: selectedPinId,\n          },\n          {\n            isSelected: true,\n          }\n        );\n      }\n    }\n  }, [map, selectedPinId, prevSelectedPinId]);\n\n  return;\n}\n\nexport default StudyPins;","import { AirtableRecord } from \"../types\";\n\n// Please refer to GeoJSON spec rfc7946 if adding addiontal members: https://tools.ietf.org/html/rfc7946#section-3.1.1\nfunction recordsToGeoJsonFeatures(records: AirtableRecord[]): GeoJSON.Feature[] {\n    return records.flatMap((record) => {\n        if (!record.pin_latitude && !record.pin_longitude){\n            return [];\n        }\n        return {\n            type: \"Feature\",\n            properties: { // We can add any properties here to modify how we want to render the pin - helpful for WHO data\n                estimate_grade: record.estimate_grade,\n                source_id: record.source_id ?? undefined\n            },\n            geometry: {\n                type: \"Point\",\n                coordinates: [record.pin_longitude, record.pin_latitude],\n            },\n        };\n    });\n}\n\nexport default function generateSourceFromRecords(records: AirtableRecord[]): mapboxgl.GeoJSONSourceRaw {\n    const f = recordsToGeoJsonFeatures(records);\n    const source = {\n        type: \"geojson\",\n        promoteId: 'source_id',\n        data: {\n            type: \"FeatureCollection\",\n            features: f,\n        },\n    } as mapboxgl.GeoJSONSourceRaw;\n\n    return source;\n}","import React, { useContext, useEffect, useRef, useState, Dispatch } from \"react\";\nimport { AppContext } from \"context\";\nimport { getEsriVectorSourceStyle, addEsriLayersFromVectorSourceStyle } from \"utils/MappingUtil\";\nimport Countries from \"components/map/Layers/Countries\";\nimport StudyPins from \"components/map/Layers/StudyPins\";\nimport { MapResources, DefaultMapboxMapOptions } from 'components/map/MapConfig'\nimport { CountriesMapConfig, StudyPinsMapConfig } from \"types\";\n// @ts-ignore\n// eslint-disable-next-line\nimport mapboxgl, { Style } from '!mapbox-gl';\nimport \"components/map/MapboxMap.scss\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\n\n// @ts-ignore\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API_KEY as string;\n\nfunction mapOnLoad(map: mapboxgl.Map, dispatch: Dispatch<any>) {\n  getEsriVectorSourceStyle(MapResources.WHO_COUNTRY_VECTORTILES).then((style: mapboxgl.Style) => {\n    addEsriLayersFromVectorSourceStyle(style, map);\n    const styleJson: Style = map.getStyle();\n    let CountryPolygonsMoved = false;\n    if (styleJson && styleJson.layers) {\n      for (let layer of styleJson.layers as any) {\n        const source = layer[\"source-layer\"];\n        if (source === \"DISPUTED_AREAS\") {\n          if (!CountryPolygonsMoved)\n          {\n            map.moveLayer(\"Countries\", layer.id); // HACK for now, moves countries layer behind border once loaded.\n          }\n\n          map.on(\"mouseenter\", layer.id, function (e: any) {\n            dispatch({ type: 'HIDE_COUNTRY_HOVER' })\n          });\n          map.on(\"mouseleave\", layer.id, function (e: any) {\n            dispatch({ type: 'SHOW_COUNTRY_HOVER' })\n          });\n        }\n      }\n    }\n  });\n}\n\ninterface MapboxMapProps {\n  mapConfig?: any\n  countriesConfig: CountriesMapConfig,\n  studyPinsConfig: StudyPinsMapConfig\n}\n\nconst MapboxMap = ( {mapConfig, countriesConfig, studyPinsConfig}: MapboxMapProps ): any => {\n  const mapContainerRef = useRef<HTMLDivElement>(null);\n  const [state, dispatch] = useContext(AppContext);\n  const [map, setMap] = useState<mapboxgl.Map | undefined>(undefined);\n\n  // Creates map, only runs once\n  useEffect(() => {\n    (async () => {\n      const baseMapStyle = await getEsriVectorSourceStyle(MapResources.WHO_BASEMAP);\n\n      const mergedOptions = { // Merges options together to configure map\n        ...{\n          container: mapContainerRef.current,\n          style: baseMapStyle,\n        },\n        ...DefaultMapboxMapOptions,\n        ...mapConfig,\n      };\n\n      const m = new mapboxgl.Map(mergedOptions).addControl(new mapboxgl.NavigationControl());\n\n      m.on(\"load\", () => {\n        mapOnLoad(m, dispatch);\n        setMap(m);\n      });\n    })();\n\n    return () => map?.remove();\n  }, []);\n\n  // Adds country data to map and binds pin behaviour with map popups\n  Countries(map, countriesConfig);\n  // Adds pins to map and binds pin behaviour with map popups\n  StudyPins(map, studyPinsConfig);\n\n  return (\n    //@ts-ignore\n    <div className=\"w-100 h-100 overflow-hidden\" ref={(el) => (mapContainerRef.current = el)}></div>\n  );\n};\n\nexport default MapboxMap;\n","import httpClient from '../httpClient'\r\nimport { FiltersConfig, FilterType } from '../types'\r\nimport { sendFiltersAnalyticsEvent } from \"../utils/analyticsUtils\";\r\nimport { getEmptyFilters} from \"../context\";\r\n\r\nexport const updateFilters = async (\r\n  dispatch: any,\r\n  filters: FiltersConfig,\r\n  filterType: FilterType,\r\n  filterValue: any,\r\n  page: string) => {\r\n  dispatch({\r\n    type: 'UPDATE_FILTER',\r\n    payload: {\r\n      filterType,\r\n      filterValue,\r\n      pageStateEnum: page\r\n    }\r\n  });\r\n\r\n  const updatedFilters: FiltersConfig = Object.assign({}, filters);\r\n  updatedFilters[filterType] = filterValue;\r\n  sendFiltersAnalyticsEvent(updatedFilters);\r\n\r\n  fetchExploreData(dispatch, updatedFilters, page);\r\n}\r\n\r\nexport const clearFilters = async (\r\n  dispatch: any,\r\n  page: string) => {\r\n  dispatch({\r\n    type: 'CLEAR_ALL_FILTERS',\r\n    payload: {\r\n      pageStateEnum: page\r\n    }\r\n  });\r\n\r\n  fetchExploreData(dispatch, getEmptyFilters(), page);\r\n}\r\n\r\nexport const fetchExploreData = async (dispatch: any, filters: FiltersConfig, page: string) => {\r\n\r\n  const api = new httpClient()\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: true\r\n    }\r\n  })\r\n  \r\n  const { records, estimateGradePrevalences } = await api.getExploreData(filters, true);\r\n\r\n  dispatch({\r\n    type: 'GET_AIRTABLE_RECORDS',\r\n    payload: { pageStateEnum: page, records }\r\n  });\r\n  dispatch({\r\n    type: 'UPDATE_ESTIMATE_PREVALENCES',\r\n    payload: { pageStateEnum: page, estimateGradePrevalences }\r\n  });\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: false\r\n    }\r\n  })\r\n}","import { faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport { Popup } from \"semantic-ui-react\";\r\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\r\n\r\ninterface InformationIconProps {\r\n  color: string;\r\n  size: \"xs\" | \"lg\" | \"sm\" | \"1x\" | \"2x\" | \"3x\" | \"4x\" | \"5x\" | \"6x\" | \"7x\" | \"8x\" | \"9x\" | \"10x\" | undefined,\r\n  position?: \"top left\" | \"top right\" | \"bottom right\" | \"bottom left\" | \"right center\" | \"left center\" | \"top center\" | \"bottom center\" | undefined,\r\n  tooltip: string | React.ReactNode;\r\n  tooltipHeader?: string;\r\n  offset: string | number;\r\n  popupSize?: \"mini\" | \"tiny\" | \"small\" | \"large\" | \"huge\";\r\n}\r\n\r\nexport default function InformationIcon(props: InformationIconProps) {\r\n  const { color, size, tooltip, tooltipHeader, offset, position, popupSize = \"small\" } = props;\r\n  \r\n  return (\r\n    <div className=\"px-2\">\r\n      <Popup\r\n        key={Math.random()}\r\n        offset={offset}\r\n        position={position}\r\n        size={popupSize}\r\n        hoverable\r\n        onOpen={() => {\r\n          sendAnalyticsEvent({\r\n            category: 'Tooltip',\r\n            action: 'opening',\r\n            label: tooltipHeader || \"Unknown tooltip\"\r\n          })\r\n        }}\r\n        //fix for janky popup positioning due to overflow styling\r\n        popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }}\r\n        trigger={\r\n          <FontAwesomeIcon\r\n            icon={faInfoCircle}\r\n            color={color}\r\n            size={size} />}>\r\n        {tooltipHeader && (\r\n\r\n          <Popup.Header className=\"flex left\">{tooltipHeader}</Popup.Header>\r\n        )}\r\n        <Popup.Content className=\"flex left\">{tooltip}</Popup.Content>\r\n      </Popup>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport InformationIcon from \"../../shared/InformationIcon\";\n\ninterface SectionHeaderProps {\n    header_text: string,\n    tooltip_text?: string | React.ReactNode,\n    tooltip_header?: string\n}\n\nexport default function SectionHeader({header_text, tooltip_text, tooltip_header}: SectionHeaderProps){\n    return (\n        <div className=\"pb-2 flex\">\n        <div className=\"filter-section-header\">{header_text}</div>\n        {tooltip_text && (\n            <div className=\"tooltip-vert-adj\">\n            <InformationIcon\n                offset={10}\n                position=\"bottom right\"\n                color=\"#455a64\"\n                tooltipHeader={tooltip_header ? tooltip_header : header_text}\n                popupSize=\"small\"\n                size=\"sm\"\n                tooltip={tooltip_text} />\n            </div>\n        )}\n        </div>\n    )\n}","import * as React from \"react\";\nimport { SliderItem } from \"react-compound-slider\";\n\n\nconst { Component, Fragment } = React;\n\ninterface HandleProps {\n    key: string;\n    handle: SliderItem;\n    isActive: Boolean;\n    disabled?: Boolean;\n    domain: number[];\n    getHandleProps: (id: string, config: object) => object;\n}\n\nexport default class Handle extends Component<HandleProps> {\n    static defaultProps = {\n      disabled: false\n    };\n  \n    state = {\n      mouseOver: false\n    };\n  \n    onMouseEnter = () => {\n      this.setState({ mouseOver: true });\n    };\n  \n    onMouseLeave = () => {\n      this.setState({ mouseOver: false });\n    };\n  \n    render() {\n      const {\n        domain: [min, max],\n        handle: { id, value, percent },\n        isActive,\n        disabled,\n        getHandleProps\n      } = this.props;\n      const { mouseOver } = this.state;\n  \n      return (\n        <Fragment>\n          {(mouseOver || isActive) && !disabled ? (\n            <div\n                className={\"active-handle-style\"}\n              style={{\n                left: `${percent}%`\n              }}\n            >\n              <div className=\"tooltip\">\n                <span className=\"tooltiptext\">Value: {value}</span>\n              </div>\n            </div>\n          ) : null}\n          <div\n            role=\"slider\"\n            aria-valuemin={min}\n            aria-valuemax={max}\n            aria-valuenow={value}\n            className={\"handle-style\"}\n            style={{\n              left: `${percent}%`,\n              backgroundColor: disabled ? \"#666\" : \"#f1f5f7\",\n            }}\n            {...getHandleProps(id, {\n              onMouseEnter: this.onMouseEnter,\n              onMouseLeave: this.onMouseLeave\n            })}\n          />\n        </Fragment>\n      );\n    }\n  }","import * as React from \"react\";\nimport { SliderItem } from \"react-compound-slider\";\n\ninterface TrackProps {\n    source: SliderItem;\n    target: SliderItem;\n    disabled?: Boolean;\n    getTrackProps: () => object;\n}\n\nexport default function Track({\n    source,\n    target,\n    getTrackProps,\n    disabled = false\n  }: TrackProps) {\n    return (\n      <div\n        className={\"track-style\"}\n        style={{\n          backgroundColor: disabled ? \"#999\" : \"#455a6a\",\n          left: `${source.percent}%`,\n          width: `${target.percent - source.percent}%`\n        }}\n        {...getTrackProps()}\n      />\n    );\n  }","import * as React from \"react\";\n\nconst { Component, Fragment } = React;\n\ninterface TooltipRailProps {\n  activeHandleID: string;\n  getRailProps: (props: object) => object;\n  getEventData: (e: Event) => object;\n}\n\nexport default class TooltipRail extends Component<TooltipRailProps> {\n  state = {\n    value: null,\n    percent: null\n  };\n\n  static defaultProps = {\n    disabled: false\n  };\n\n  onMouseEnter = () => {\n    document.addEventListener(\"mousemove\", this.onMouseMove);\n  };\n\n  onMouseLeave = () => {\n    this.setState({ value: null, percent: null });\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\n  };\n\n  onMouseMove = (e: Event) => {\n    const { activeHandleID, getEventData } = this.props;\n\n    if (activeHandleID) {\n      this.setState({ value: null, percent: null });\n    } else {\n      this.setState(getEventData(e));\n    }\n  };\n\n  render() {\n    const { value, percent } = this.state;\n    const { activeHandleID, getRailProps } = this.props;\n\n    return (\n      <Fragment>\n        {!activeHandleID && value ? (\n          <div\n              className={\"handle-style\"}\n            style={{\n              left: `${percent}%`,\n            }}\n          >\n            <div className=\"tooltip\">\n              <span className=\"tooltiptext\">Value: {value}</span>\n            </div>\n          </div>\n        ) : null}\n        <div\n          className={\"rail-style\"}\n          {...getRailProps({\n            onMouseEnter: this.onMouseEnter,\n            onMouseLeave: this.onMouseLeave\n          })}\n        />\n        <div className={\"rail-center-style\"} />\n      </Fragment>\n    );\n  }\n}","import * as React from \"react\";\nimport { Slider, Rail, Handles, Tracks } from \"react-compound-slider\";\nimport Handle from './Handle';\nimport Track from './Track';\nimport TooltipRail from './TooltipRail';\nimport {useEffect, useState} from \"react\";\n\n//TODO: not sure if I can remove this one - heman\nconst sliderStyle: React.CSSProperties = {\n  position: \"relative\",\n  width: \"80%\",\n  margin: \"5% 10%\"\n};\n\ninterface DateSliderProps {\n  minPossibleValue: number; //minimum possible value for slider in milliseconds - unix time\n  maxPossibleValue: number; //maximum possible value for slider in milliseconds - unix time\n  values: number[];\n  minDate: Date;\n  onMouseUp: (isStart: Boolean, date: Date) => void;\n  onSliderMove: (dates: number[]) => void;\n}\n\nexport default function DateSlider({minPossibleValue, maxPossibleValue, minDate, values, onMouseUp, onSliderMove}: DateSliderProps) {\n  const milliSecondsPerDay = 86400000;\n  const [updatedValues, setUpdatedValues] = useState([minPossibleValue, maxPossibleValue])\n  // min date and max date\n  const domain = [minPossibleValue, maxPossibleValue]\n  //running update\n  const onUpdate = (update: ReadonlyArray<number>) => {\n    setUpdatedValues(update.concat());\n    onSliderMove(updatedValues)\n  };\n\n  useEffect(() => {\n      setUpdatedValues(values)\n  }, [values])\n\n  //set update\n  const onChange = (newValues: ReadonlyArray<number>) => {\n      if (newValues[0] === values[0]){\n          onMouseUp(false, toDateSinceMinDate(newValues.concat()[1]))\n      }\n      else{\n          onMouseUp(true, toDateSinceMinDate(newValues.concat()[0]))\n      }\n  };\n\n  const toDateSinceMinDate = (val: number) => {\n    return new Date(minDate.getTime() + (val*milliSecondsPerDay));\n  }\n\n  const toDateString = (date: Date) => {\n    return \"\" + date.getFullYear() + \"/\" + (date.getMonth()+1) + \"/\" + (date.getDate());\n  }\n\n  return(\n      <div style={{ height: 10  , width: \"100%\" }}>\n        <Slider\n          mode={1}\n          step={1}\n          domain={domain}\n          rootStyle={sliderStyle}\n          onUpdate={onUpdate}\n          onChange={onChange}\n          values={values}\n        >\n          <Rail>{railProps => <TooltipRail {...railProps} />}</Rail>\n          <Handles>\n            {({ handles, activeHandleID, getHandleProps }) => (\n              <div className=\"slider-handles\">\n                {handles.map(handle => (\n                  <Handle\n                    key={handle.id}\n                    handle={handle}\n                    domain={domain}\n                    isActive={handle.id === activeHandleID}\n                    getHandleProps={getHandleProps}\n                  />\n                ))}\n              </div>\n            )}\n          </Handles>\n          <Tracks left={false} right={false}>\n            {({ tracks, getTrackProps }) => (\n              <div className=\"slider-tracks\">\n                {tracks.map(({ id, source, target }) => (\n                  <Track\n                    key={id}\n                    source={source}\n                    target={target}\n                    getTrackProps={getTrackProps}\n                  />\n                ))}\n              </div>\n            )}\n          </Tracks>\n        </Slider>\n        <div className={\"pt-4 d-flex justify-content-between\"}>\n          <div>\n            {toDateString(toDateSinceMinDate(updatedValues[0]))}\n          </div>\n          <div>\n            {toDateString(toDateSinceMinDate(updatedValues[1]))}\n          </div>\n         </div>\n    </div>\n  )\n}\n\n\n","import React, { useContext, useEffect, useState } from \"react\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Input } from \"semantic-ui-react\";\nimport { AppContext } from \"../../../../context\";\nimport { FilterType, PageState, State } from '../../../../types';\nimport { updateFilters } from \"../../../../utils/stateUpdateUtils\";\nimport Translate from \"../../../../utils/translate/translateService\";\nimport SectionHeader from \"../SectionHeader\";\nimport {enUS, fr, de} from 'date-fns/locale'\nimport DateSlider from './DateSlider';\nimport '../datepicker/DateSlider.css'\n\ninterface DatepickerProps {\n  page: string\n}\n\nexport default function Datepicker({ page }: DatepickerProps) {\n\n  const [state, dispatch] = useContext(AppContext);\n  const filters = (state[page as keyof State] as PageState).filters;\n  const earliestPublicationDate = state.calendarStartDates.minDate;\n  const latestPublicationDate = state.calendarStartDates.maxDate;\n  const millisecondsPerDay = 86400000;\n  const [sliderRange, setSliderRange] = useState<number>((latestPublicationDate.getTime()-earliestPublicationDate.getTime())/millisecondsPerDay); //in days\n  const [filterStartDate, filterEndDate]: Date[] = Array.from(filters.publish_date);\n\n  const fromDateToNumber = (date: Date) => {\n    return (date.getTime()-earliestPublicationDate.getTime())/millisecondsPerDay\n  }\n  const toDateSinceMinDate = (val: number) => {\n    return new Date(earliestPublicationDate.getTime() + (val*millisecondsPerDay));\n  }\n\n  //dates as number of days since mindate\n  const [chosenDates, setChosenDates] = useState<number[]>([fromDateToNumber(filterStartDate), fromDateToNumber(filterEndDate)])\n\n  useEffect(() => {\n    registerLocale(\"en\", enUS)\n    registerLocale(\"fr\", fr)\n    registerLocale(\"de\", de)\n  }, [])\n\n  useEffect(() => {\n    const [filterStartDate, filterEndDate]: Date[] = Array.from(filters.publish_date);\n    setChosenDates([fromDateToNumber(filterStartDate), fromDateToNumber(filterEndDate)]);\n  }, [filters.publish_date])\n\n  useEffect(() => {\n    setSliderRange(fromDateToNumber(latestPublicationDate));\n    }, [latestPublicationDate, earliestPublicationDate])\n\n  const onChange = (dates: number[]) => {\n      setChosenDates(dates)\n  }\n\n  const onUpdate = (isStart: Boolean, date: Date) => {\n    let newDates: Date[];\n\n    if (isStart) {\n      newDates = [date, toDateSinceMinDate(chosenDates[1])];\n      setChosenDates([fromDateToNumber(date), chosenDates[1]])\n    }\n    else {\n      newDates = [toDateSinceMinDate(chosenDates[0]), date];\n      setChosenDates([chosenDates[0], fromDateToNumber(date)])\n    }\n\n    updateFilters(dispatch,\n        filters,\n        \"publish_date\" as FilterType,\n        newDates,\n        page)\n  }\n\n  const CustomInput = ({ value, onClick, text }: any) => (\n      <div className=\"col-12 p-0 flex input-seperate\">\n        <Input className=\"col-12 p-0 cursor\"\n               value={value}\n               fluid={true}\n               type=\"text\"\n   \n               placeholder={Translate('SelectDate')}\n               onClick={onClick} />\n      </div>\n  )\n\n  return (\n      <div className=\"row justify-content-center\">\n        <div className=\"col-10 col align-items-center p-0\">\n          <div className=\"pb-1\">\n            <div>\n              <SectionHeader header_text={Translate('DateRange')} tooltip_text={Translate('DateRangeTooltip')} />\n            </div>\n            <DateSlider maxPossibleValue={sliderRange} minPossibleValue={0} onMouseUp={onUpdate} onSliderMove={onChange} values={chosenDates} minDate={earliestPublicationDate}/>\n            <div className=\"space-between mt-3 mb-3\">\n              <DatePicker\n                  selected={toDateSinceMinDate(chosenDates[0])}\n                  onChange={() => { }}\n                  onSelect={(date: Date) => onUpdate(true, date)}\n                  dateFormatCalendar={\"MMMM yyyy \"}\n                  dateFormat=\"yyyy/MM/dd\"\n                  minDate={earliestPublicationDate}\n                  maxDate={toDateSinceMinDate(chosenDates[1])}\n                  showYearDropdown\n                  yearDropdownItemNumber={5}\n                  scrollableYearDropdown\n                  showMonthDropdown\n                  locale={state.language}\n                  customInput={<CustomInput value={toDateSinceMinDate(chosenDates[0])} onClick={onclick} />}\n                  withPortal\n                  closeOnScroll={true}\n                  shouldCloseOnSelect={false}\n                  dropdownMode=\"select\"\n                  // TODO: also add translation in german.json\n                  todayButton={Translate(\"Today\")}\n              />\n               <DatePicker\n                  selected={toDateSinceMinDate(chosenDates[1])}\n                  onChange={() => { }}\n                  onSelect={(date: Date) => onUpdate(false, date)}\n                  dateFormat=\"yyyy/MM/dd\"\n                  dateFormatCalendar={\"MMM yyyy\"}\n                  minDate={toDateSinceMinDate(chosenDates[0])}\n                  maxDate={latestPublicationDate}\n                  showYearDropdown\n                  yearDropdownItemNumber={5}\n                  scrollableYearDropdown\n                  showMonthDropdown\n                  locale={state.language}\n                  customInput={<CustomInput value={toDateSinceMinDate(chosenDates[1])} onClick={onclick} />}\n                  withPortal\n                  closeOnScroll={true}\n                  shouldCloseOnSelect={false}\n                  dropdownMode=\"select\"\n                  todayButton=\"Today\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n  )\n}","import React, { useContext, useState } from \"react\";\r\nimport { Dropdown, Button } from 'semantic-ui-react';\r\nimport { AppContext } from \"../../../context\";\r\nimport { FilterType, PageState, State } from '../../../types';\r\nimport { sendUnityAnalyticsEvent } from \"../../../utils/analyticsUtils\";\r\nimport { updateFilters, clearFilters } from \"../../../utils/stateUpdateUtils\";\r\nimport { toPascalCase } from \"../../../utils/translate/caseChanger\";\r\nimport Translate, { getCountryName } from \"../../../utils/translate/translateService\";\r\nimport InformationIcon from \"../../shared/InformationIcon\";\r\nimport SectionHeader from \"./SectionHeader\";\r\nimport Datepicker from './datepicker/Datepicker';\r\nimport \"./Filters.css\";\r\nimport { LanguageType } from \"../../../types\";\r\n\r\ninterface FilterProps {\r\n  page: string,\r\n}\r\n\r\ninterface PopulationGroupFilterOption {\r\n  german: string;\r\n  english: string,\r\n  french: string\r\n}\r\n\r\nexport default function Filters({ page }: FilterProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const filters = (state[page as keyof State] as PageState).filters;\r\n\r\n  const formatOptions = (options: any, filter_type: FilterType) => {\r\n    if (!options) {\r\n      return\r\n    }\r\n    const formatted_options: Record<string, string>[] = [];\r\n    const optionString = toPascalCase(filter_type.toString());\r\n    const jsonObjectString = `${optionString}Options`;\r\n    switch (filter_type) {\r\n      case 'country':\r\n        options.forEach((o: string) => {\r\n          formatted_options.push({\r\n            key: o,\r\n            text: getCountryName(o, state.language, jsonObjectString),\r\n            value: o\r\n          })\r\n        });\r\n        break;\r\n      case 'population_group':\r\n         // This code block will be deprecated once as this becomes the standardized filter option logic\r\n        options.forEach((o: PopulationGroupFilterOption) => {\r\n          o = o as PopulationGroupFilterOption;\r\n          let optionString = \"\"\r\n          if (state.language === LanguageType.english) {\r\n            optionString = o.english;\r\n          } else if (state.language === LanguageType.french) {\r\n            optionString = o.french;\r\n          } else if (state.language === LanguageType.german) {\r\n            optionString = o.german;\r\n          }\r\n          formatted_options.push({\r\n            key: optionString,\r\n            text: optionString,\r\n            value: optionString\r\n          })\r\n        })\r\n        break;\r\n      default:\r\n        options.forEach((o: string) => {     \r\n            const translatedString = Translate(jsonObjectString, [toPascalCase(o as string)]);\r\n            const alternativeString = Translate(jsonObjectString, [(o as string).replace(/ /g, '')]);\r\n            let text = !alternativeString && !translatedString ? o as string : (translatedString ? translatedString : alternativeString);\r\n            formatted_options.push({\r\n              key: o as string,\r\n              text: text,\r\n              value: o as string\r\n            })\r\n        });\r\n    };\r\n    return formatted_options;\r\n  }\r\n\r\n  const addFilter = (data: any, filterType: FilterType) => {\r\n    updateFilters(\r\n      dispatch,\r\n      filters,\r\n      filterType,\r\n      data,\r\n      page)\r\n  }\r\n\r\n  const clearFilter = async () => {\r\n    // remove filters in backend\r\n    clearFilters(\r\n      dispatch,\r\n      page\r\n    )\r\n  }\r\n\r\n  const buildFilterDropdown = (filter_type: FilterType, placeholder: string) => {\r\n    return (\r\n      <div className=\"pb-3\">\r\n        <Dropdown\r\n          text={placeholder}\r\n          fluid\r\n          multiple\r\n          search\r\n          clearable\r\n          selection\r\n          options={formatOptions(state.allFilterOptions[filter_type], filter_type)}\r\n          onChange={(e: any, data: any) => {\r\n            addFilter(data.value, filter_type)\r\n          }}\r\n          value={filters[filter_type] as string[]}\r\n          defaultValue={filters[filter_type] as string[]}\r\n        />\r\n \r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  const buildFilterCheckbox = (filter_type: FilterType, label: string, title?: string, link?: string) => {\r\n    return(\r\n      <div title={title ? title: label} className={\"checkbox-item pb-3 \" } id=\"National\" onClick={(e: React.MouseEvent<HTMLElement>) => {\r\n        if(filter_type === \"unity_aligned_only\" && filters[filter_type]){\r\n          sendUnityAnalyticsEvent();\r\n        }\r\n        addFilter(\r\n          !filters[filter_type], \r\n          filter_type\r\n        )\r\n      }}>\r\n        <input className={\"ui checkbox \" + (state.pulsateUnityFilter ? \"pulse\" : \"\")} type=\"checkbox\" onClick={() => {dispatch({type: \"SET_UNITY_FILTER_PULSATE\", payload: false})}} checked={filters[filter_type] as boolean} readOnly />\r\n        <label><a href={link}\r\n                  target=\"_blank\" rel=\"noopener noreferrer\">{label}</a></label>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-12 p-0\">\r\n      <div className=\"py-3 center flex\">\r\n        <h3>\r\n          {Translate(\"Filter\")}\r\n        </h3>\r\n        <div className=\"tooltip-vert-adj\">\r\n          <InformationIcon\r\n            offset={10}\r\n            position=\"bottom right\"\r\n            color=\"#455a64\"\r\n            tooltipHeader={Translate(\"Filter\")}\r\n            popupSize=\"small\"\r\n            size=\"sm\"\r\n            tooltip={Translate('FilterTooltip')} />\r\n        </div>\r\n      </div>\r\n      <div className=\"row justify-content-center\">   \r\n        <div className=\"col-10 col align-items-center p-0\">\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              {\r\n                <SectionHeader \r\n                  header_text={Translate('StudyInformation')} \r\n                  tooltip_text={\r\n                  <div>\r\n                    <p>{Translate('StudyInformationTooltip', ['FirstParagraph'])}</p>\r\n                    <p>\r\n                      <b>{Translate('StudyInformationTooltip', ['SecondParagraph', 'PartOne'], null, [false, true])}</b>\r\n                      {Translate('StudyInformationTooltip', ['SecondParagraph', 'PartTwo'])}\r\n                    </p>\r\n                    <p>\r\n                      <b>{Translate('StudyInformationTooltip', ['ThirdParagraph', 'PartOne'], null, [false, true])}</b>\r\n                      {Translate('StudyInformationTooltip', ['ThirdParagraph', 'PartTwo'], null, [false, true])}\r\n                      <a href=\"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/technical-guidance/early-investigations\" \r\n                      target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        {Translate('StudyInformationTooltip', ['ThirdParagraph', 'PartThree'], null, [false, true])}\r\n                      </a>\r\n                      {Translate('StudyInformationTooltip', ['ThirdParagraph', 'PartFour'])}\r\n                    </p>\r\n                  </div>\r\n                  }\r\n                />\r\n              }\r\n            </div>\r\n        \r\n            <div>\r\n              {buildFilterCheckbox('unity_aligned_only', Translate('UnityStudiesOnly'), Translate('UnityStudiesOnlyLong'), \"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/technical-guidance/early-investigations\")}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('source_type', Translate('SourceType'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('overall_risk_of_bias', Translate('OverallRiskOfBias'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('Demographics')} tooltip_text={Translate('DemographicsTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('population_group', Translate('PopulationGroup'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('sex', Translate('Sex'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('age', Translate('Age'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"pb-1\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('TestInformation')} tooltip_text={Translate('TestInformationTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('test_type', Translate('TestType'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('isotypes_reported', Translate('IsotypesReported'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('antibody_target', Translate('AntibodyTarget'))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      \r\n      </div>\r\n      <Datepicker page={page}/>\r\n      <div className=\"row justify-content-center\">   \r\n        <div className=\"col-10 col align-items-center p-0\">\r\n          <div className=\"pb-3\">\r\n          <Button  className=\"clear-filters-btn\" size=\"medium\" onClick={clearFilter}> {Translate('ClearAllFilters')}</Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport { AppContext } from \"../../context\";\r\nimport \"./Legend.css\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport { MapSymbology } from \"components/map/MapConfig\"\r\nimport { Checkbox } from 'semantic-ui-react'\r\n\r\ninterface LegendProps {\r\n  hideLayers?: boolean\r\n}\r\n\r\nexport default function Legend({hideLayers}: LegendProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const handleLegendToggle = (e: React.MouseEvent<HTMLElement>) => {\r\n    const layerName: string = e.currentTarget.id;\r\n    switch (layerName) {\r\n      case \"National\": {\r\n        return dispatch({ type: \"TOGGLE_NATIONAL_PIN_LAYER\" });\r\n      }\r\n      case \"Regional\": {\r\n        return dispatch({ type: \"TOGGLE_REGIONAL_PIN_LAYER\" });\r\n      }\r\n      case \"Local\": {\r\n        return dispatch({ type: \"TOGGLE_LOCAL_PIN_LAYER\" });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex legend-container\" key={Math.random()}>\r\n      <div className=\"legend-item\" id=\"National\" onClick={handleLegendToggle}>\r\n        <i className=\"circleBase legend-icon\" style={{ background: MapSymbology.StudyFeature.National.Color }}></i>\r\n        <label className='legend-label'>{Translate(\"NationalStudies\")}</label>\r\n        <Checkbox className=\"legend-checkbox\" checked={state.explore.legendLayers.National}/>\r\n      </div>\r\n      <div className=\"legend-item\" id=\"Regional\" onClick={handleLegendToggle}>\r\n        <i className=\"circleBase legend-icon\" style={{ background: MapSymbology.StudyFeature.Regional.Color }}></i>\r\n        <label className='legend-label'>{Translate(\"RegionalStudies\")}</label>\r\n        <Checkbox className=\"legend-checkbox\" checked={state.explore.legendLayers.Regional}/>\r\n      </div>\r\n      <div className=\"legend-item mb-1\" id=\"Local\" onClick={handleLegendToggle}>\r\n        <i className=\"circleBase legend-icon\" style={{ background: MapSymbology.StudyFeature.Local.Color }}></i>\r\n        <label className='legend-label'>{Translate(\"LocalStudies\")}</label>\r\n        <Checkbox className=\"legend-checkbox\" checked={state.explore.legendLayers.Local}/>\r\n      </div>\r\n      { hideLayers ? null : \r\n      <>\r\n      <div className=\"legend-item\">\r\n        <i className=\"block legend-icon\" style={{ background: MapSymbology.CountryFeature.HasData.Color, outlineWidth: 1, outlineStyle: \"solid\" }}></i>\r\n        <label>{Translate(\"CountryEstimatesExist\")}</label>\r\n      </div>\r\n      <div className=\"legend-item\">\r\n        <i className=\"block legend-icon\" style={{ background: MapSymbology.CountryFeature.Default.Color, outlineWidth: 1, outlineStyle: \"solid\" }}></i>\r\n        <label>{Translate(\"CountryEstimatesNotExist\")}</label>\r\n      </div>\r\n      <div className=\"legend-item\">\r\n        <i className=\"block legend-icon\" style={{ background: MapSymbology.CountryFeature.Disputed.Color, outlineWidth: 1, outlineStyle: \"solid\" }}></i>\r\n        <label>{Translate(\"NotApplicable\")}</label>\r\n      </div>\r\n      </>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AppContext } from \"../../../context\";\r\nimport { State, PageState } from \"../../../types\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport \"./TotalStats.css\";\r\n\r\ninterface TotalStatsProps {\r\n  page: string;\r\n}\r\n\r\nexport default function TotalStats({ page }: TotalStatsProps) {\r\n  const [state] = useContext(AppContext);\r\n  const [countries, setNumCountries] = useState(0);\r\n  const [numStudies, setNumStudies] = useState(0);\r\n  const [n, setN] = useState(0);\r\n  const pageState = state[page as keyof State] as PageState;\r\n\r\n  useEffect(() => {\r\n    const updateCountryPrevalence = async () => {\r\n      setNumCountries(pageState.estimateGradePrevalences.length);\r\n      setN(\r\n        pageState.estimateGradePrevalences\r\n          .map((o: Record<string, any>) => o.testsAdministered)\r\n          .reduce((a: number, b: number) => a + b, 0)\r\n      );\r\n      setNumStudies(\r\n        pageState.estimateGradePrevalences\r\n          .map((o: Record<string, any>) => o.numberOfStudies)\r\n          .reduce((a: number, b: number) => a + b, 0)\r\n      );\r\n    };\r\n    updateCountryPrevalence();\r\n  }, [pageState.estimateGradePrevalences]);\r\n\r\n  return (\r\n    <div className=\"col-12 p-0 stats-container\">\r\n      <h3 className=\"mt-3 mb-2 center\">\r\n        {Translate(\"SummaryStatistics\")}\r\n      </h3>\r\n      <div className=\"flex middle py-2\">\r\n        <div className=\"secondary-statistic\">{numStudies}</div>\r\n        <div className=\"secondary-statistic-title px-1 center\">\r\n          {Translate(\"SeroprevalenceStudies\")}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex middle py-2\">\r\n        <div className=\"secondary-statistic-title px-1 center\">\r\n          {Translate(\"CountriesIncluded\", [\"PartOne\"])}\r\n        </div>\r\n        <div className=\"secondary-statistic\">{countries}</div>\r\n        <div className=\"secondary-statistic-title px-1 center\">\r\n          {Translate(\"CountriesIncluded\", [\"PartTwo\"])}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex middle py-2\">\r\n        <div className=\"secondary-statistic-title center px-1\">\r\n          {Translate(\"IncludingParticipants\", [\"PartOne\"])}\r\n        </div>\r\n        <div className=\"secondary-statistic center\">{n.toLocaleString()}</div>\r\n        <div className=\"secondary-statistic-title px-1 center \">\r\n          {Translate(\"IncludingParticipants\", [\"PartTwo\"])}\r\n        </div>\r\n      </div>\r\n      <br />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\nimport Translate from \"../../utils/translate/translateService\";\nimport { sendAnalyticsEvent } from '../../utils/analyticsUtils';\nimport { Button, Popup } from \"semantic-ui-react\";\nimport { Icon } from 'semantic-ui-react';\nimport { SemanticICONS } from \"semantic-ui-react/dist/commonjs/generic\";\nimport airtableLogo from '../../assets/images/airtable-icon.svg';\nimport { IconName } from '../../types';\ninterface DownloadButtonProps {\n    buttonLabelKey?: string;\n    downloadLink?: string;\n    formLink?: string;\n    iconName: IconName;\n    popupText: string;\n    id?: string;\n  }\n\nexport default function DownloadButton(props: DownloadButtonProps) {\n    const [letDownload, setLetDownload] = useState(false);\n    const { buttonLabelKey,\n            downloadLink ,\n            formLink,\n        iconName, popupText} = props;\n    \n    useEffect(() => {\n        const doneSurvey = localStorage.getItem(\"DownloadFormCompleted\");\n        if (doneSurvey) {\n            setLetDownload(true);\n        }\n    }, [])\n\n    const clickButton = async () => {\n        sendAnalyticsEvent({ category: 'Data Link Click', action: 'click', label: buttonLabelKey as string})\n        localStorage.setItem('DownloadFormCompleted', \"true\");\n        // Only allow users to access download form 3 mins after they clicked the original link\n        // to deter users from getting data without actually filling out the form\n        await new Promise(resolve => { setTimeout(resolve, 60 * 3 * 1000) });\n        setLetDownload(true);\n    }\n\n\n    const getButtonLink = () => {\n        return letDownload ? downloadLink : formLink;\n    }\n    \n    return (\n        iconName === IconName.airtable ?       \n        <Popup  popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }} content={Translate(popupText)} size=\"small\" style={{textAlign: \"left\"}} position=\"top left\" trigger={\n            <Button key={buttonLabelKey} size=\"large\" iconName={iconName} className=\"download-data-btn mb-2\" id={props.id} >\n                <a\n                    onClick={() => clickButton()}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    href={getButtonLink()}\n                    className='d-flex align-items-center'\n                >\n                    <span className=\"button-text\"> {Translate(buttonLabelKey as string)}</span>\n                    <img className=\"ml-3\" src={airtableLogo} alt=\"airtable-logo\" width=\"24\" height=\"24\"/>\n                </a>\n            </Button>\n        }/>\n  \n    :  \n\n    <Popup  popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }} id={props.id} size=\"small\" style={{textAlign: \"left\"}}content={Translate(popupText)} position=\"top left\" trigger={\n        <Button id={props.id} key={buttonLabelKey}  size=\"large\" iconName={iconName} className=\"download-data-btn mb-2\">\n            <a\n                onClick={() => clickButton()}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href={getButtonLink()}\n                className='d-flex align-items-center'\n            >\n                <span className=\"button-text\"> {Translate(buttonLabelKey as string)}</span>\n                <Icon\n                    name={iconName as SemanticICONS}\n                    size=\"large\"\n                    className=\"ml-3\"\n                />\n            </a>\n        </Button>\n    }/>\n    );\n  }\n  ","import React from \"react\";\r\nimport Translate from \"utils/translate/translateService\";\r\nimport TotalStats from \"./TotalStats\";\r\nimport { Divider } from 'semantic-ui-react'\r\nimport DownloadButton from \"components/shared/DownloadButton\";\r\nimport { PAGE_HASHES } from \"../../../constants\";\r\nimport {IconName} from \"../../../types\";\r\nimport \"../sidebar.scss\";\r\n\r\ninterface SideBarProps {\r\n  page: string\r\n}\r\n\r\nexport default function LeftSidebar({ page }: SideBarProps) {\r\n\r\n  const airtableDownloadProps = {\r\n    buttonLabelKey: \"DownloadCsv\", \r\n    downloadLink: \"https://airtable.com/shraXWPJ9Yu7ybowM/tbljN2mhRVfSlZv2d?backgroundColor=blue&viewControls=on\" ,\r\n    formLink: \"https://docs.google.com/forms/d/e/1FAIpQLSdGd_wlq8YSyVPs2AOi1VfvxuLzxA8Ye5I3HkQwW_9yrumsCg/viewform\" ,\r\n    iconName: IconName.airtable,\r\n    popupText: \"DownloadAirtable\"\r\n  }\r\n\r\n  const githubDownloadProps = {\r\n    buttonLabelKey: \"AccessGithub\", \r\n    downloadLink: \"https://github.com/serotracker/sars-cov-2-data\" ,\r\n    formLink: \"https://docs.google.com/forms/d/e/1FAIpQLSdGd_wlq8YSyVPs2AOi1VfvxuLzxA8Ye5I3HkQwW_9yrumsCg/viewform\" ,\r\n    iconName: IconName.github,\r\n    popupText: \"DownloadGithub\"\r\n  }\r\n\r\n  return (\r\n    <div className=\"sidebar-container flex left-sidebar\">\r\n      <TotalStats page={page} />\r\n      <Divider/>\r\n      <div>\r\n        <p>{Translate('ExploreBlurb', ['FirstParagraph'])}</p>\r\n        {\"\\n\"}\r\n        <p>{Translate('ExploreBlurb', ['SecondParagraph'])}</p>\r\n        {\"\\n\"}\r\n        <p>{Translate('ExploreBlurb', ['ThirdParagraph'])}</p>\r\n      </div>\r\n      <div className=\"d-flex justify-content-center mt-3\">\r\n      <span style={{margin: \"0\"}} >\r\n        <DownloadButton\r\n        {...airtableDownloadProps}\r\n        />\r\n  \r\n      </span>\r\n      </div>\r\n      <div className=\"d-flex justify-content-center mt-1\">\r\n      <span style={{margin: \"0\"}} id={PAGE_HASHES.Explore.AccessGithub}>\r\n        <DownloadButton\r\n        {...githubDownloadProps}\r\n        />\r\n      </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, {useState, useContext, useEffect} from \"react\";\nimport { AppContext } from \"context\";\nimport { Menu, Segment, Sidebar, Icon } from \"semantic-ui-react\";\nimport { PageStateEnum } from \"../../../types\";\nimport MapboxMap from \"components/map/MapboxMap\"\nimport Datepicker from \"../../sidebar/right-sidebar/datepicker/Datepicker\";\nimport Filters from \"../../sidebar/right-sidebar/Filters\";\nimport Legend from \"components/map/Legend\";\nimport LeftSidebar from \"../../sidebar/left-sidebar/LeftSidebar\";\nimport './Explore.scss';\n\nexport default function ExploreMobile() {\n  const [showMobileFilters, setShowFilters] = useState(false);\n  const [showSummary, setShowSummary] = useState(false);\n  const [showLegend, setShowLegend] = useState(false);\n  const [state] = useContext(AppContext);\n\n  const handleFilterToggle = (showMobile: boolean = false, showSummary: boolean = false, showLegend: boolean = false) => {\n    setShowFilters(showMobile);\n    setShowSummary(showSummary);\n    setShowLegend(showLegend);\n  }\n\n  useEffect(() => {\n    setShowFilters(state.pulsateUnityFilter);\n  }, [state.pulsateUnityFilter])\n\n  return (\n    <div className=\"fill flex explore\" style={{height: \"100%\"}}>\n      <Sidebar.Pushable as={Segment} className=\"fill flex\">\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showMobileFilters}\n          width='wide'\n        >\n        <Filters page={PageStateEnum.explore} />\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle()}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n        </Sidebar>\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showSummary}\n          width='wide'\n        >\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle()}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n          <LeftSidebar page={PageStateEnum.explore}/>\n        </Sidebar>\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          visible={showLegend}\n          width='wide'\n        >\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle()}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n            <div className='m-3 mt-5'>\n              <Legend/>\n            </div>\n        </Sidebar>\n        <Sidebar.Pusher className=\"fill flex\">\n          <MapboxMap\n              countriesConfig={{\n                estimateGradePrevalences: state.explore.estimateGradePrevalences\n              }}\n              studyPinsConfig={{\n                records: state.explore.records\n              }}\n              />\n          {/* Icons */}\n          <div className=\"sidebar__info-btn\">\n             <Icon\n             name='filter'\n             size='large'\n             className='ml-1 mt-1'\n             onClick={() => handleFilterToggle(!showMobileFilters, false, false)}\n             />\n          </div>\n          <div className=\"sidebar__filter-btn\">\n          <Icon\n             name='question circle'\n             size='large'\n             className='ml-1 mt-1'\n             onClick={() => handleFilterToggle(false, !showSummary, false)}\n             />\n          </div>\n          <div className=\"sidebar__map-btn\">\n          <Icon\n             name='map'\n             size='large'\n             className='ml-1 mt-1'\n             onClick={() => handleFilterToggle(false, false, !showMobileFilters)}\n             />\n          </div>\n        </Sidebar.Pusher>\n      </Sidebar.Pushable>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { Modal } from \"semantic-ui-react\";\nimport 'sass/components/shared.scss';\nimport Translate from \"../../utils/translate/translateService\";\n\ninterface MaintenanceModalProps {\n    isOpen: boolean,\n    headerText: string // specifies if analysis or explore page\n  }\n\nexport default function MaintenanceModal(props: MaintenanceModalProps) {\n\n    const { isOpen, headerText } = props;\n\n    return (\n        <Modal\n          className=\"maintenance-modal\"\n          closeOnEscape={false}\n          closeOnDimmerClick={false}\n          open={isOpen}\n        >\n          <Modal.Header>{Translate('TemporaryMaintenance')}</Modal.Header>\n          <Modal.Content>\n            <p>{Translate('TemporaryMaintenanceDescription')}</p>\n          </Modal.Content>\n        </Modal>\n    );\n}\n","import React, {useContext, useEffect, useState} from \"react\";\nimport {useMediaQuery} from \"react-responsive\";\nimport {Loader, Icon, Modal, Button} from \"semantic-ui-react\";\nimport {isMaintenanceMode, mobileDeviceOrTabletWidth, PAGE_HASHES} from \"../../../constants\";\nimport {AppContext} from \"../../../context\";\nimport {PageStateEnum, FiltersConfig} from \"../../../types\";\nimport MapboxMap from '../../map/MapboxMap';\nimport MobileComponents from './ExploreMobile';\nimport MaintenanceModal from \"../../shared/MaintenanceModal\";\nimport LeftSidebar from \"../../sidebar/left-sidebar/LeftSidebar\";\nimport Filters from \"../../sidebar/right-sidebar/Filters\";\nimport Legend from \"components/map/Legend\";\nimport { fetchExploreData } from \"../../../utils/stateUpdateUtils\";\nimport { sendFiltersAnalyticsEvent, sendUnityAnalyticsEvent } from \"../../../utils/analyticsUtils\";\nimport Translate from \"../../../utils/translate/translateService\";\n\ninterface ExploreProps {\n    initialFilters?: FiltersConfig;\n}\n\nexport default function Explore({initialFilters}: ExploreProps) {\n    const isMobileDeviceOrTablet = useMediaQuery({maxDeviceWidth: mobileDeviceOrTabletWidth});\n    const [state, dispatch] = useContext(AppContext);\n    const [showUnityBanner, setShowUnityBanner] = useState(false);\n    const [mobileModalOpen, setMobileModalOpen] = useState(isMobileDeviceOrTablet);\n\n    // Apply initial input filters and get records\n    useEffect(() => {\n        if (initialFilters) {\n            setShowUnityBanner(true);\n            dispatch({\n                type: 'UPDATE_ALL_FILTERS',\n                payload: {\n                    newFilters: initialFilters,\n                    pageStateEnum: PageStateEnum.explore\n                }\n            });\n            sendFiltersAnalyticsEvent(initialFilters);\n            if (initialFilters.unity_aligned_only) {\n                sendUnityAnalyticsEvent();\n            }\n        }\n\n        fetchExploreData(dispatch, state.explore.filters, PageStateEnum.explore)\n        // We only want this to run once so we pass no dependencies. Do not remove this\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    return (\n        <>\n            <Modal\n                onClose={() => {setMobileModalOpen(false)}}\n                open={mobileModalOpen}\n                size=\"mini\"\n                closeOnEscape={true}\n                closeOnDimmerClick={true}\n            >\n                <Modal.Header className={\"flex justify-content-center text-center\"}>\n                    {Translate(\"Welcome\")}\n                </Modal.Header>\n                <Modal.Content className={\"text-center\"}>\n                    {Translate(\"OptimisedFunctionality\")}\n                </Modal.Content>\n                <Modal.Actions className={\"flex justify-content-center\"}>\n                    <Button onClick={() => setMobileModalOpen(false)} style={{backgroundColor: \"#094180\", color:\"#FFFFFF\"}}>\n                        {Translate(\"Okay\")}\n                    </Button>\n                </Modal.Actions>\n            </Modal>\n            <div className=\"fill flex dashboard\">\n                {!isMobileDeviceOrTablet ?\n                    (<>\n                    {showUnityBanner && (<div className={ \"px-4 flex center-item justify-content-between w-100 visible\"} style={{backgroundColor: \"#E8EBEF\", height: \"50px\"}}>\n                            <div style={{width: \"80%\"}}>\n                                {Translate(\"UnityBanner\", [\"Currently\"])}\n                              <a href={\"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/technical-guidance/early-investigations\"}\n                                 target=\"_blank\" rel=\"noopener noreferrer\">\n                                {Translate(\"UnityBanner\", [\"ProtocolLink\"])}\n                              </a> {Translate(\"UnityBanner\",[\"ViewDatabase\"])} <span className={\"link\"} onClick={() => {dispatch({type: \"SET_UNITY_FILTER_PULSATE\", payload: true})}}> {Translate(\"UnityBanner\", [\"WHOUnityFilter\"])} </span>\n                                {Translate(\"UnityBanner\", [\"Filter\"])}\n                            </div>\n                            <Icon link onClick={() => {setShowUnityBanner(false)}} name='close'/>\n                    </div>)}\n                        <div className=\"flex h-100 w-100\">\n                            <div className=\"col-2 p-0 flex\">\n                                <LeftSidebar page={PageStateEnum.explore}/>\n                            </div>\n                            <div className=\"col-8 p-0 flex\" id={PAGE_HASHES.Explore.Map}>\n                                <Loader indeterminate active={state.explore.isLoading}/>\n                                <div className=\"info flex legend center-item\">\n                                    <Legend/>\n                                </div>\n                                <MapboxMap\n                                    countriesConfig={{\n                                        estimateGradePrevalences: state.explore.estimateGradePrevalences\n                                    }}\n                                    studyPinsConfig={{\n                                        records: state.explore.records\n                                    }}\n                                />\n                            </div>\n                            <div className=\"col-2 p-0 flex sidebar-container\">\n                                <Filters page={PageStateEnum.explore}/>\n                            </div>\n                        </div>\n                    </>) :\n                    (\n\n                          <div className=\"flex w-100\">\n                              {showUnityBanner && (<div className={\"px-4 flex center-item justify-content-between w-100\"}\n                                                       style={{backgroundColor: \"#E8EBEF\", height: \"150px\"}}>\n                                  <div style={{width: \"80%\"}}>\n                                      {Translate(\"UnityBanner\", [\"Currently\"])}\n                                      <a href={\"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/technical-guidance/early-investigations\"}\n                                         target=\"_blank\" rel=\"noopener noreferrer\">\n                                          {Translate(\"UnityBanner\", [\"ProtocolLink\"])}\n                                      </a> {Translate(\"UnityBanner\", [\"ViewDatabase\"])} <span className={\"link\"}\n                                                                                              onClick={() => {\n                                                                                                  dispatch({type: \"SET_UNITY_FILTER_PULSATE\", payload: true})\n                                                                                              }}> {Translate(\"UnityBanner\", [\"WHOUnityFilter\"])} </span>\n                                      {Translate(\"UnityBanner\", [\"Filter\"])}\n                                  </div>\n                                  <Icon link onClick={() => {\n                                      setShowUnityBanner(false)\n                                  }} name='close'/>\n                              </div>)}\n                            <MobileComponents/>\n                          </div>\n                    )}\n            </div>\n            <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Explore\"}/>\n        </>\n    )\n}\n","import React, { useState } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Link } from \"react-router-dom\";\nimport { Segment, Button, Accordion, Icon, AccordionTitleProps, SemanticICONS } from \"semantic-ui-react\";\nimport { isMaintenanceMode, mobileDeviceOrTabletWidth, PAGE_HASHES } from \"../../constants\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport Translate, { TranslateObject } from \"../../utils/translate/translateService\";\nimport \"./static.css\";\nimport MaintenanceModal from \"../shared/MaintenanceModal\";\nimport DownloadButton from \"../shared/DownloadButton\";\nimport {IconName} from \"../../types\";\ninterface DropdownQuestion {\n  Question: string;\n  Answer: string | object;\n  Links?: { [index: string]: string };\n  LinkTexts?: { [index: string]: string };\n}\n\nconst clickLink = (link: string) => {\n  sendAnalyticsEvent({\n    category: \"Data Link Click\",\n    action: \"click\",\n    label: link,\n  });\n};\n\nfunction DataButtons() {\n  const dataButtons: { label: string; link: string; id?: string }[] = [\n    {\n      label: \"OurProtocol\",\n      link: \"https://docs.google.com/document/d/1NYpszkr-u__aZspFDFa_fa4VBzjAAAAxNxM1rZ1txWU/edit\",\n    },\n    {\n      label: \"DataDictionary\",\n      link: \"https://airtable.com/shr9XzggGpYFqMdJF/tblIdx2b6ZOLevdJr\",\n      id: PAGE_HASHES.Data.DataDictionary,\n    },\n    {\n      label: \"ChangeLog\",\n      link: \"https://airtable.com/shrxpAlF6v0LeRYkA\",\n      id: PAGE_HASHES.Data.ChangeLog,\n    },\n    {\n      label: \"SubmitSource\",\n      link: \"https://docs.google.com/forms/d/e/1FAIpQLSdvNJReektutfMT-5bOTjfnvaY_pMAy8mImpQBAW-3v7_B2Bg/viewform\",\n      id: PAGE_HASHES.Data.SubmitSource,\n    },\n  ];\n  const buttons = dataButtons.map((b, index) => (\n    <Button key={index} color=\"blue\" size=\"large\" className=\"mb-2 mr-2\" id={b?.id}>\n      <a onClick={() => clickLink(b.label)} target=\"_blank\" rel=\"noopener noreferrer\" href={b.link}>\n        <p className=\"button-text\"> {Translate(b.label)}</p>\n      </a>\n    </Button>\n  ));\n\n\n  const airtableDownloadProps = {\n    id: PAGE_HASHES.Data.DownloadCsv,\n    buttonLabelKey: \"DownloadCsv\", \n    downloadLink: \"https://airtable.com/shraXWPJ9Yu7ybowM/tbljN2mhRVfSlZv2d?backgroundColor=blue&viewControls=on\" ,\n    formLink: \"https://docs.google.com/forms/d/e/1FAIpQLSdGd_wlq8YSyVPs2AOi1VfvxuLzxA8Ye5I3HkQwW_9yrumsCg/viewform\" ,\n    iconName: IconName.airtable,\n    popupText: \"DownloadAirtable\",\n  }\n\n  const githubDownloadProps = {\n    id: PAGE_HASHES.Data.AccessGithub,\n    buttonLabelKey: \"AccessGithub\", \n    downloadLink: \"https://github.com/serotracker/sars-cov-2-data\" ,\n    formLink: \"https://docs.google.com/forms/d/e/1FAIpQLSdGd_wlq8YSyVPs2AOi1VfvxuLzxA8Ye5I3HkQwW_9yrumsCg/viewform\" ,\n    iconName: IconName.github,\n    popupText: \"DownloadGithub\",\n  }\n\n  return (\n    <div>\n      {buttons}\n      <span>\n        <span className=\"mr-2\">\n          <DownloadButton\n          {...airtableDownloadProps}\n          />\n        </span>\n        <span className=\"mr-2\">\n          <DownloadButton\n          {...githubDownloadProps}\n          />\n        </span>\n      </span>\n    </div>\n  );\n}\n\nfunction DataDropdowns() {\n  const [activeIndex, setActiveIndex] = useState(-1);\n  const handleClick = (e: any, data: AccordionTitleProps) => {\n    const { index, titleText } = data;\n    const newIndex = activeIndex === index ? -1 : index;\n    setActiveIndex(newIndex as number);\n    if(newIndex != -1){\n      // Only send event if question was opened, not closed\n      sendAnalyticsEvent({\n        category: \"Data FAQ\",\n        action: \"open\",\n        label: titleText,\n      });\n    } \n  };\n\n  const dropdownContent = Object.entries(TranslateObject(\"DropdownQuestions\")).map(\n    (dropdownQuestion: [string, DropdownQuestion], index: number) => (\n      <Accordion key={index} fluid styled>\n        <Accordion.Title active={activeIndex === index} index={index} onClick={handleClick} className=\"accordion-title\">\n          <Icon name=\"dropdown\" /> {dropdownQuestion[1][\"Question\"]}\n        </Accordion.Title>\n        <Accordion.Content active={activeIndex === index}>\n          {dropdownQuestion[1][\"Links\"] ? (\n            <div>\n              {Object.entries(dropdownQuestion[1][\"Answer\"]).map((answer, index) => (\n                <p className=\"no-space\">\n                  {\" \"}\n                  {answer[1]}{\" \"}\n                  <a\n                    href={dropdownQuestion[1][\"Links\"]?.[`Link${index + 1}`]}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {dropdownQuestion[1][\"LinkTexts\"]?.[`LinkText${index + 1}`]}\n                  </a>\n                </p>\n              ))}\n            </div>\n          ) : (\n            <p>{dropdownQuestion[1][\"Answer\"]}</p>\n          )}\n        </Accordion.Content>\n      </Accordion>\n    )\n  );\n  return <div>{dropdownContent}</div>;\n}\n\nexport default function Data() {\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxDeviceWidth: mobileDeviceOrTabletWidth,\n  });\n\n  return (\n    <>\n      <div className=\"col-12 page pb-5\">\n        <div className={isMobileDeviceOrTablet ? \"static-mobile py-2\" : \"static-content py-2\"}>\n          <div className={isMobileDeviceOrTablet ? \"pt-3\" : \"pt-0\"}>\n            <h1>{Translate(\"OurData\")}</h1>\n            <p>{Translate(\"WhatWeDoText\", [\"FirstParagraph\"])}</p>\n            <p>{Translate(\"WhatWeDoText\", [\"SecondParagraph\"])}</p>\n            <DataButtons />\n          </div>\n\n          <div className={isMobileDeviceOrTablet ? \"pt-3\" : \"pt-0\"} id={PAGE_HASHES.Data.FAQ}>\n            <h1 >{Translate(\"FrequentlyAskedQuestions\")}</h1>\n            <DataDropdowns />\n          </div>\n\n          <div className={isMobileDeviceOrTablet ? \"pb-3 pt-3\" : \"pt-0 pb-0\"} id={PAGE_HASHES.Data.DataTable}>\n            <h1>{Translate(\"DataTable\")}</h1>\n            <p>\n              <span>{Translate(\"UseOfData\", null, null, [false, true])}</span>\n              <Link to=\"/TermsOfUse\">{Translate(\"TermsOfUse\")}</Link>.\n            </p>\n            <Segment>\n              <iframe\n                title=\"Data Table\"\n                className=\"iframe-style\"\n                src={\n                  isMobileDeviceOrTablet\n                    ? \"https://airtable.com/embed/shrtuN7F8x4bdkdDA?backgroundColor=cyan&layout=card&viewControls=on\"\n                    : \"https://airtable.com/embed/shrtuN7F8x4bdkdDA?backgroundColor=cyan&viewControls=on\"\n                }\n              ></iframe>\n            </Segment>\n          </div>\n        </div>\n      </div>\n      <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Data\"} />\n    </>\n  );\n}\n","import { faFile } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport Translate, {TranslateDate} from \"../../../utils/translate/translateService\";\r\nimport { Card } from \"semantic-ui-react\";\r\nimport {PublicationProps} from \"./PublicationsConstants\"\r\n\r\nexport function MediaCard(props: PublicationProps) {\r\n  return (\r\n    <div className=\"py-4 px-2 flex justify-content-center\">\r\n      <Card className={\"publications-card\"}>\r\n        {props.img && (\r\n          <Card.Content>\r\n            <div className=\"flex center-item publications-card-image mb-2\">\r\n              <img src={props.img} alt=\"\" className=\"fit publications-card-image\"/>\r\n              <a href={props.url}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"overlay flex publication-link\">\r\n                <div className=\"publications-card-image-overlay flex fill center-item column\">\r\n                  <div>{Translate('ViewFile')}</div>\r\n                  <div className=\"flex center-item\">\r\n                    <FontAwesomeIcon\r\n                      icon={faFile}\r\n                      className={'icon'}\r\n                      color={'white'}\r\n                      size={\"lg\"} />\r\n                  </div>\r\n                </div>\r\n              </a>\r\n            </div>\r\n          </Card.Content>\r\n        )}\r\n        <Card.Content>\r\n          <div className=\"publications-card-title m-0\">\r\n            <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"publication-link\">\r\n              {props.italicize ? <i>{props.italicize}&nbsp;</i> : null}{Translate(props.titleKey1, props.titleKey2)}\r\n            </a>\r\n          </div>\r\n          {(props.date) && (\r\n            <div className=\"publications-card-date\">\r\n              {TranslateDate(props.date + \"T00:00:00\")}\r\n            </div>\r\n          )}\r\n        </Card.Content>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\nimport Translate, {TranslateDate} from \"../../../utils/translate/translateService\";\nimport { Card } from \"semantic-ui-react\";\nimport {BiblioDigestProps} from \"./PublicationsConstants\";\nimport \"./biblioDigestStyles.scss\";\n\nexport function BiblioDigestCard(props: BiblioDigestProps) {\n  return (\n    <div className=\"py-4 px-2 flex justify-content-center\">\n      <Card className={\"biblio-digest-card\"}>\n        <Card.Content className=\"my-2 mx-4\">\n            <h4 className=\"biblio-digest-card-title pb-4\">\n                <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"publication-link\">\n                {Translate(\"BiblioDigestCard\", [\"Title\"])} {TranslateDate(props.screeningStartDate + \"T00:00:00\")} - {TranslateDate(props.screeningEndDate + \"T00:00:00\")}\n                </a>\n            </h4>\n            <div className=\"pb-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"Published\"])} {TranslateDate(props.publishDate + \"T00:00:00\")}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pb-2\">\n                <div className=\"biblio-digest-card-text-bold\">{Translate(\"BiblioDigestCard\", [\"NewSerosurveys\"])}</div>\n                <div className=\"biblio-digest-card-text-bold\">{props.serosurveysTotal}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"AFRO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysAFRO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"EMRO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysEMRO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"EURO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysEURO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"PAHO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysPAHO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"SEARO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysSEARO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"WPRO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysWPRO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"NonMember\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysNonMember}</div>\n            </div>\n            {(props.sourcesAdded) && (\n                <div className=\"biblio-digest-card-row pt-2\">\n                    <div className=\"biblio-digest-card-text-bold\">{Translate(\"BiblioDigestCard\", [\"NewSources\"])}</div>\n                    <div className=\"biblio-digest-card-text-bold\">{props.sourcesAdded}</div>\n                </div>\n            )}\n        </Card.Content>\n      </Card>\n    </div>\n  )\n}\n","import YearInReview2020 from '../../../assets/images/YearInReview2020.png'\nimport PreprintUpdate from '../../../assets/images/IndustryUpdatePre_2020.png'\nimport BloodBank from '../../../assets/images/SeroTrackerBloodBank_July_2020.png'\nimport MedRxiv from '../../../assets/images/Prepublication.png'\nimport LancetId from '../../../assets/images/LancetIDArticle.png'\nimport InsuringTheEconomy from '../../../assets/images/InsuringTheEconomy.png'\nimport PlosOnePub from '../../../assets/images/PlosOnePub.png'\nimport theEconomist from '../../../assets/images/PubMedia/1200px-The_Economist_Logo.svg.png'\nimport newScientist from '../../../assets/images/PubMedia/3622.1582633003.png'\nimport bloomberg from '../../../assets/images/PubMedia/Bloomberg_Logo.jpg'\nimport chi from '../../../assets/images/PubMedia/chi_logo_89px.png'\nimport cision from '../../../assets/images/PubMedia/cision_logo.svg'\nimport CITF from '../../../assets/images/PubMedia/CITF-logo-BIL-700.png'\nimport taz from '../../../assets/images/PubMedia/download.png'\nimport forbes from '../../../assets/images/PubMedia/Forbes-logo.png'\nimport HIMSS from '../../../assets/images/PubMedia/HIMSSlogo_Hfullcolor_RGB.png'\nimport joule from '../../../assets/images/PubMedia/joule.png'\nimport journalQuebec from '../../../assets/images/PubMedia/JournalQuebec_Logo2013-.png'\nimport marcia from '../../../assets/images/PubMedia/marcia news.png'\nimport mars from '../../../assets/images/PubMedia/mars.jpg'\nimport mcgill from '../../../assets/images/PubMedia/mcgill-university-logo-png-transparent-cropped.png'\nimport mckinsey from '../../../assets/images/PubMedia/mckinsey_logo.png'\nimport NYT from '../../../assets/images/PubMedia/New-York-Times-Logo8x6_0.png'\nimport oxford from '../../../assets/images/PubMedia/oxford.jpg'\nimport UCalgary from '../../../assets/images/PubMedia/UCalgary.svg'\nimport waterloo from '../../../assets/images/PubMedia/waterloo.png'\nimport covidend from '../../../assets/images/PubMedia/covidend-global-logo.png'\n\n\n// Note: Dates should be strings in YYYY-MM-DD format\nexport interface PublicationProps {\n    date?: string,\n    titleKey1: string,\n    titleKey2: string[],\n    publicationName?: string,\n    img?: string,\n    url: string,\n    authors?: string,\n    italicize?: string\n    collection?: string,\n}\n\n\n\nexport interface BiblioDigestProps {\n    url: string,\n    sourcesAdded?: number,\n    serosurveysTotal: number,\n    serosurveysAFRO: number,\n    serosurveysEMRO: number,\n    serosurveysEURO: number,\n    serosurveysPAHO: number,\n    serosurveysSEARO: number,\n    serosurveysWPRO: number,\n    serosurveysNonMember: number,\n    screeningStartDate: string,\n    screeningEndDate: string,\n    publishDate: string\n}\n\nexport const listOfReports: PublicationProps[] = [\n    {\n        date: \"2021-01-15\",\n        img: YearInReview2020,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['YearInReview2020'],\n        url: \"https://drive.google.com/file/d/14u0GroEadFQ__Gdvoe104HI-y0LWDwSu/view?usp=sharing\",\n    },\n    {     \n        date: \"2020-08-20\",      \n        img: InsuringTheEconomy,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['InsuringTheEconomy'],\n        url: \"https://drive.google.com/file/d/1kEl6xv54yPGoDXZoPq9h2q4SqYnL2OU-/view?usp=sharing\"\n    },\n    {      \n        date: \"2020-07-22\",     \n        img: BloodBank,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['BloodBank'],\n        url: \"https://drive.google.com/file/d/1It2CzAwEfTcQ1zIC6z2fO7i7XEfmWfom/view?usp=sharing\"\n    },\n    {    \n        date: \"2020-05-19\",       \n        img: PreprintUpdate,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['PreliminaryReport'],\n        url: \"https://drive.google.com/file/d/1I1gY1lZndwp4_eUqoZviU8L2_izmkmQP/view?usp=sharing\"\n    },\n]\n\nexport const listOfResearchArticles: PublicationProps[] = [\n    {\n        date: \"2022-02-25\",\n        img: MedRxiv,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['MedRxivNLP'],\n        publicationName: \"medRxiv\",\n        authors: \"Sara Perlman-Arrow, Noel Loo, Niklas Bobrovitz et al.\",\n        url: \"https://www.medrxiv.org/content/10.1101/2022.02.24.22268947v1\"\n    },\n    {\n        date: \"2021-12-15\",\n        img: MedRxiv,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['MedRxivMeta'],\n        publicationName: \"medRxiv\",\n        authors: \"Isabel Bergeri, Mairead Whelan, Harriet Ware et al.\",\n        url: \"https://www.medrxiv.org/content/10.1101/2021.12.14.21267791v1\"\n    },\n    {\n        date: \"2021-11-21\",\n        img: MedRxiv,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['MedRxivROB'],\n        publicationName: \"medRxiv\",\n        authors: \"Niklas Bobrovitz, Kim Nol, Zihan Li et al.\",\n        url: \"https://www.medrxiv.org/content/10.1101/2021.11.17.21266471v1\"\n    },\n    {\n        date: \"2021-07-03\",\n        img: MedRxiv,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['MedRxivPrivate'],\n        publicationName: \"medRxiv\",\n        authors: \"Nathan Duarte, Sean D'Mello, Nathalie A Duarte et al.\",\n        url: \"https://www.medrxiv.org/content/10.1101/2021.06.29.21259730v1\"\n    },\n    {\n        date: \"2021-06-23\",\n        img: PlosOnePub,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['PlosOnePub'],\n        publicationName: \"Plos One\",\n        authors: \"Niklas Bobrovitz, Rahul Krishan Arora, Christian Cao et al.\",\n        url: \"https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0252617\"\n    },\n    {   \n        date: \"2020-08-14\",        \n        img: LancetId,\n        titleKey1: \"ResearchArticleTitles\",\n        titleKey2: ['LancetID'],\n        publicationName: \"The Lancet: Infectious Diseases\",\n        authors: \"Rahul K Arora, Abel Joseph, Jordan Van Wyk et al.\",\n        url: \"https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30631-9/fulltext#%20\"\n    },\n    {     \n        date: \"2020-05-14\",      \n        img: MedRxiv,\n        titleKey1: \"ResearchArticleTitles\",\n        titleKey2: ['PrePrint'],\n        publicationName: \"medRxiv\",\n        authors: \"Niklas Bobrovitz, Rahul Krishan Arora, Tingting Yan et al.\",\n        url: \"https://www.medrxiv.org/content/10.1101/2020.05.10.20097451v1\"\n    },\n]\n\nexport const listOfMediaPublicationsProps: PublicationProps[] = [\n    {\n        date: \"2021-06-25\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['StillVulnerable'],\n        publicationName: \"Le Journal de Quebec\",\n        img: journalQuebec,\n        authors: \"\",\n        url: \"https://www.journaldequebec.com/2021/06/25/la-population-mondiale-toujours-vulnerable-a-la-covid-19\",\n    },\n    {\n        date: \"2021-05-25\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['NYTIndia'],\n        publicationName: \"The New York Times\",\n        authors: \"\",\n        url: \"https://www.nytimes.com/interactive/2021/05/25/world/asia/india-covid-death-estimates.html\",\n        img: NYT\n    },\n    {\n        date: \"2021-05-13\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['EconomistDeathToll'],\n        publicationName: \"The Economist\",\n        authors: \"\",\n        url: \"https://www.economist.com/graphic-detail/2021/05/13/how-we-estimated-the-true-death-toll-of-the-pandemic\",\n        img: theEconomist\n    },\n    {\n        date: \"2021-01-23\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleAnnounce'],\n        publicationName: \"Cision\",\n        authors: \"\",\n        url: \"https://www.newswire.ca/news-releases/joule-announces-2020-innovation-grant-recipients-867798355.html\",\n        img: cision\n    },\n    {\n        date: \"2021-01-20\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['WhenEnd'],\n        publicationName: \"McKinsey & Company\",\n        authors: \"\",\n        url: \"https://www.mckinsey.com/industries/healthcare-systems-and-services/our-insights/when-will-the-covid-19-pandemic-end\",\n        img: mckinsey\n    },\n    {\n        date: \"2021-01-15\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleInnovation'],\n        publicationName: \"AMC Joule\",\n        authors: \"\",\n        url: \"https://joulecma.ca/innovate/grants/serotracker \",\n        img: joule\n    },\n    {\n        date: \"2021-01-14\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleRecipients'],\n        publicationName: \"Markets Insider\",\n        authors: \"\",\n        url: \"https://markets.businessinsider.com/amp/news/joule-announces-2020-innovation-grant-recipients-1029968953\",\n        img: joule\n    },\n    {\n        date: \"2021-01-01\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['McKinseyHealthcare'],\n        publicationName: \"McKinsey & Company\",\n        authors: \"\",\n        url: \"https://www.mckinsey.com/~/media/McKinsey/Industries/Healthcare%20Systems%20and%20Services/Our%20Insights/McKinsey%20on%20Healthcare%202020%20Year%20in%20Review/McKinsey-on-Healthcare-2020-Year-in-Review.pdf\",\n        img: mckinsey\n    },\n    {\n        date: \"2020-11-24\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['InfectionRate'],\n        publicationName: \"taz\",\n        authors: \"\",\n        url: \"https://taz.de/Studie-zu-globaler-Corona-Infektionsrate/!5730030/\",\n        img: taz\n    },\n    {\n        date: \"2020-11-23\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['AlumniAndStudents'],\n        publicationName: \"University of Calgary\",\n        authors: \"\",\n        url: \"https://cumming.ucalgary.ca/news/serotracker\",\n        img: UCalgary\n    },\n    {\n        date: \"2020-11-10\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['Webinar'],\n        publicationName: \"HIMSS\",\n        authors: \"\",\n        url: \"http://www.himsschapter.org/event/serotracker-covid-19-journey-himss-canadian-prairies-chapter-webinar\",\n        img: HIMSS\n    },\n    {\n        date: \"2020-08-17\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['HomeTests'],\n        publicationName: \"Forbes\",\n        authors: \"\",\n        url: \"https://www.forbes.com/sites/williamhaseltine/2020/08/17/cheap-daily-home-tests-are-the-first-step-to-containing-the-pandemic/?sh=677d47d14ad4\",\n        img: forbes\n    },\n    {\n        date: \"2020-08-03\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['Lecturership'],\n        publicationName: \"Computational Health Informatics\",\n        authors: \"\",\n        url: \"https://eng.ox.ac.uk/chi/news/adjunct-lecturership-for-rahul/\",\n        img: chi\n    },\n    {\n        date: \"2020-07-22\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['HowMany'],\n        publicationName: \"NewScientist\",\n        authors: \"\",\n        url: \"https://www.newscientist.com/article/mg24632873-000-how-many-of-us-are-likely-to-have-caught-the-coronavirus-so-far/\",\n        img: newScientist\n    },\n    {\n        date: \"2020-07-07\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['CovidRadar'],\n        publicationName: \"M1 Marica News\",\n        authors: \"\",\n        url: \"https://m1newstv.com/subnotificacao-no-brasil-e-na-rocinha-e-a-media-mundial/\",\n        img: marcia\n    },\n    {\n        date: \"2020-06-11\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['VeteranDoctor'],\n        publicationName: \"MaRS\",\n        authors: \"\",\n        url: \"https://www.marsdd.com/magazine/what-if-there-is-no-covid-19-vaccine/\",\n        img: mars\n    },\n    {\n        date: \"2020-06-02\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['NewlyLaunched'],\n        publicationName: \"McGill Publications\",\n        authors: \"\",\n        url: \"https://publications.mcgill.ca/medenews/2020/06/16/newly-launched-serotracker-will-monitor-global-antibody-testing-efforts/\",\n        img: mcgill\n    },\n    {\n        date: \"2020-06-02\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['StudentsBuild'],\n        publicationName: \"University of Waterloo\",\n        authors: \"\",\n        url: \"https://uwaterloo.ca/stories/engineering-students/students-build-online-dashboard-track-covid-19-antibody\",\n        img: waterloo\n    },\n    {\n        date: \"2020-05-28\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['GlobalLaunch'],\n        publicationName: \"Covid-19 Immunity Task Force\",\n        authors: \"\",\n        url: \"https://www.covid19immunitytaskforce.ca/global-launch-of-serotracker-a-covid-19-antibody-testing-hub-in-partnership-with-canadas-covid-19-immunity-task-force/\",\n        img: CITF\n    },\n    {\n        date: \"2020-05-24\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['KnowledgeHub'],\n        publicationName: \"University of Oxford\",\n        authors: \"\",\n        url: \"https://www.research.ox.ac.uk/Article/2020-05-28-knowledge-hub-developed-to-track-sars-cov-antibody-studies\",\n        img: oxford\n    },\n    {\n        date: \"2020-05-23\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['UnderstandingVirus'],\n        publicationName: \"Bloomberg\",\n        authors: \"\",\n        url: \"https://www.bloomberg.com/news/articles/2020-05-06/understanding-the-virus-and-its-unanswered-questions-quicktake\",\n        img: bloomberg\n    },\n    {\n        date: \"2022-01-12\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['EconomistDeathToll2'],\n        publicationName: \"The Economist\",\n        authors: \"\",\n        url: \"https://www.economist.com/graphic-detail/coronavirus-excess-deaths-estimates\",\n        img: theEconomist\n    },\n    {\n        date: \"2021-06-29\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['InventoryEvidenceSynthesis'],\n        publicationName: \"COVID-END\",\n        authors: \"\",\n        url: \"https://www.mcmasterforum.org/networks/covid-end/resources-to-support-decision-makers/Inventory-of-best-evidence-syntheses/public-health-measures\",\n        img: covidend\n    }\n]\n\n\n// Note: for biblio digests, date = date published\nexport const listOfBiblioDigests: BiblioDigestProps[] = [\n    {\n        url: \"https://drive.google.com/file/d/1h7RpDI_EWi2qu2KTjErME03jlhY1hS5Y/view?usp=sharing\",\n        sourcesAdded: 128,\n        serosurveysTotal: 310,\n        serosurveysAFRO: 29,\n        serosurveysEMRO: 4,\n        serosurveysEURO: 185,\n        serosurveysPAHO: 58,\n        serosurveysSEARO: 21,\n        serosurveysWPRO: 13,\n        serosurveysNonMember: 0,\n        publishDate: \"2022-03-10\",\n        screeningStartDate: \"2022-02-05\",\n        screeningEndDate: \"2022-03-04\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1PME1WFA-ItYAzzuPfGNSvLvJyKXQAezl/view?usp=sharing\",\n        sourcesAdded: 98,\n        serosurveysTotal: 160,\n        serosurveysAFRO: 20,\n        serosurveysEMRO: 3,\n        serosurveysEURO: 66,\n        serosurveysPAHO: 36,\n        serosurveysSEARO: 14,\n        serosurveysWPRO: 20,\n        serosurveysNonMember: 1,\n        publishDate: \"2022-02-11\",\n        screeningStartDate: \"2022-01-08\",\n        screeningEndDate: \"2022-02-04\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1J51-liWMXACBdMgl2Yqc_litXSIukkBQ/view?usp=sharing\",\n        sourcesAdded: 65,\n        serosurveysTotal: 102,\n        serosurveysAFRO: 6,\n        serosurveysEMRO: 2,\n        serosurveysEURO: 49,\n        serosurveysPAHO: 24,\n        serosurveysSEARO: 15,\n        serosurveysWPRO: 6,\n        serosurveysNonMember: 0,\n        publishDate: \"2022-01-14\",\n        screeningStartDate: \"2021-12-11\",\n        screeningEndDate: \"2022-01-07\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1ibebgdbG5C-k0whOJfjeEuECrybmHlQ2/view?usp=sharing\",\n        sourcesAdded: 85,\n        serosurveysTotal: 176,\n        serosurveysAFRO: 37,\n        serosurveysEMRO: 5,\n        serosurveysEURO: 67,\n        serosurveysPAHO: 40,\n        serosurveysSEARO: 11,\n        serosurveysWPRO: 15,\n        serosurveysNonMember: 1,\n        publishDate: \"2021-12-17\",\n        screeningStartDate: \"2021-11-20\",\n        screeningEndDate: \"2021-12-10\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1v1Tzyatwzg-1v7f0H6qO1JGfL9Hk3_jN/view?usp=sharing\",\n        sourcesAdded: 133,\n        serosurveysTotal: 269,\n        serosurveysAFRO: 14,\n        serosurveysEMRO: 10,\n        serosurveysEURO: 153,\n        serosurveysPAHO: 55,\n        serosurveysSEARO: 24,\n        serosurveysWPRO: 13,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-11-26\",\n        screeningStartDate: \"2021-10-23\",\n        screeningEndDate: \"2021-11-09\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1Fy-fQS0fVzMPW75ZpWQRLZoU1EVYdeaF/view?usp=sharing\",\n        sourcesAdded: 171,\n        serosurveysTotal: 263,\n        serosurveysAFRO: 18,\n        serosurveysEMRO: 24,\n        serosurveysEURO: 134,\n        serosurveysPAHO: 66,\n        serosurveysSEARO: 11,\n        serosurveysWPRO: 10,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-10-29\",\n        screeningStartDate: \"2021-09-25\",\n        screeningEndDate: \"2021-10-22\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/12u72w5ZpgNV1JykEasxVD1QYWi3F9mV4/view?usp=sharing\",\n        sourcesAdded: 117,\n        serosurveysTotal: 289,\n        serosurveysAFRO: 6,\n        serosurveysEMRO: 8,\n        serosurveysEURO: 136,\n        serosurveysPAHO: 117,\n        serosurveysSEARO: 18,\n        serosurveysWPRO: 4,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-10-01\",\n        screeningStartDate: \"2021-08-28\",\n        screeningEndDate: \"2021-09-24\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/16Bi6Si2Ph0wwCSkDR15l-gNYzB91aOei/view?usp=sharing\",\n        serosurveysTotal: 147,\n        serosurveysAFRO: 2,\n        serosurveysEMRO: 11,\n        serosurveysEURO: 53,\n        serosurveysPAHO: 63,\n        serosurveysSEARO: 14,\n        serosurveysWPRO: 4,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-09-03\",\n        screeningStartDate: \"2021-07-31\",\n        screeningEndDate: \"2021-08-27\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1c7OWeVdGwL2Hix-RIHs8y-EZHdKGv8kV/view?usp=sharing\",\n        serosurveysTotal: 271,\n        serosurveysAFRO: 98,\n        serosurveysEMRO: 7,\n        serosurveysEURO: 94,\n        serosurveysPAHO: 46,\n        serosurveysSEARO: 12,\n        serosurveysWPRO: 14,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-08-06\",\n        screeningStartDate: \"2021-07-03\",\n        screeningEndDate: \"2021-07-30\"\n    },\n    {           \n        url: \"https://drive.google.com/file/d/1u6mix47HTUwSLraj4eMcD1rvGj7N7Z4g/view?usp=sharing\",\n        serosurveysTotal: 214,\n        serosurveysAFRO: 51,\n        serosurveysEMRO: 7,\n        serosurveysEURO: 71,\n        serosurveysPAHO: 44,\n        serosurveysSEARO: 21,\n        serosurveysWPRO: 20,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-07-09\",\n        screeningStartDate: \"2021-06-05\",\n        screeningEndDate: \"2021-07-02\"\n    },\n    {          \n        url: \"https://drive.google.com/file/d/1qxAa3xnqEQzFwsph75wI4_zBj84iJ2FZ/view?usp=sharing\",\n        serosurveysTotal: 162,\n        serosurveysAFRO: 17,\n        serosurveysEMRO: 3,\n        serosurveysEURO: 72,\n        serosurveysPAHO: 51,\n        serosurveysSEARO: 11,\n        serosurveysWPRO: 8,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-06-10\",\n        screeningStartDate: \"2021-04-25\",\n        screeningEndDate: \"2021-06-04\"\n    },\n]\n\nexport const listOfPrivateSectorReports: PublicationProps[] = [\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: [\"OctoberReport\"],\n        collection: \"A Pillai, N Duarte, M Rocco.\",\n        authors: \"N Duarte, R Arora.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/1aCgxzxv9J5Zvh4EVyI5REmSVgWLQ_Ip3/view?usp=sharing\"\n    },\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['SeptemberReport'],\n        collection: \"A Pillai, N Duarte, M Rocco.\",\n        authors: \"N Duarte, R Arora.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/1CjMcs7UZzu4_E_QFJVYZdv0QhyfoNMAe/view?usp=sharing\"\n    },\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['AugustReport'],\n        collection: \"A Pillai, N Duarte, M Rocco.\",\n        authors: \"N Duarte, J Chen, R Arora.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/1m7BlfUKCYs32_D1jnFUEQHPr3Qjg5Eyt/view?usp=sharing\"\n    },\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['JulyReport'],\n        collection: \"A Pillai, N Duarte, M Rocco.\",\n        authors: \"Jamie Chen, N Duarte, R Arora.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/1Rx3i_Sy01suu-ZZYV7LRpo2KEclbXCNN/view?usp=sharing\"\n    },\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['JuneReport'],\n        collection: \"A Pillai, N Duarte, M Rocco.\",\n        authors: \"J Chen, N Duarte, R Arora.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/1HO--VWYdyEqd5Dc3xcZBwERXWDBjCfxN/view\"\n    },\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['MayReport'],\n        collection: \"by S Rocco, N Duarte, M Rocco, J Van Wyk.\",\n        authors: \"N Duarte, A Pillai.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/16pCR-zh1UiWjQFhTDxW_2adSGuq0pCgz/view?usp=sharing\"\n    },\n]","import React from \"react\";\nimport Translate, {TranslateDate} from \"../../../utils/translate/translateService\";\nimport {Item} from \"semantic-ui-react\";\nimport {PublicationProps} from \"./PublicationsConstants\"\n\nexport function PublicationsItem(props: PublicationProps) {\n    return (\n        <div className=\"py-2\">\n            <Item className={\"publication-item\"}>\n                <Item.Content>\n                    <Item.Meta className={\"text-default\"}>\n                        {props.publicationName && props.publicationName}\n                    </Item.Meta>\n                    <Item.Header>\n                        <h4 className={\"m-0\"}>\n                            <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"publication-link\">\n                                {props.italicize ? <i>{props.italicize}&nbsp;</i> : null}{Translate(props.titleKey1, props.titleKey2)}\n                            </a>\n                        </h4>\n                    </Item.Header>\n                    {\n                        //Could potentially add a description in the hover state if we feel like we need it.\n                    }\n                    <Item.Meta>\n                        {props.date && (\n                            <div className={\"text-small\"}>\n                                {TranslateDate(props.date + \"T00:00:00\")}\n                            </div>\n                        )}\n                        <div className={\"text-small\"}>\n                            {props.authors ? Translate(\"Authors: \") + props.authors : \"\"}\n                        </div>\n                    </Item.Meta>\n                </Item.Content>\n            </Item>\n        </div>\n    )\n}\n","import React from \"react\";\nimport Translate from \"../../../utils/translate/translateService\";\nimport { Card } from \"semantic-ui-react\";\nimport {PublicationProps} from \"./PublicationsConstants\"\n\nexport function PrivateReportsCard(props: PublicationProps) {\n    return (\n        <div className=\"py-4 px-2 flex justify-content-center\">\n            <Card className={\"private-reports-card\"}>\n                <Card.Content>\n                    <div className=\"publications-card-title m-0 mb-2\">\n                        <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"publication-link\">\n                            {props.italicize ? <i>{props.italicize}&nbsp;</i> : null}{Translate(props.titleKey1, props.titleKey2)}\n                        </a>\n                    </div>\n                    <Card.Meta className={\"text-small mb-1\"}>\n                        {props.date}\n                    </Card.Meta>\n                    <Card.Description className={\"text-small mb-1\"}>\n                        Authored by: {props.authors}\n                    </Card.Description>\n                    <Card.Description className={\"text-small mb-1\"}>\n                        Collected by: {props.collection}\n                    </Card.Description>\n\n                </Card.Content>\n            </Card>\n        </div>\n    )\n}\n","import React from \"react\";\r\n\r\nimport {useMediaQuery} from \"react-responsive\";\r\nimport {mobileDeviceOrTabletWidth, PAGE_HASHES} from \"../../../constants\";\r\nimport {MediaCard} from \"./MediaCard\";\r\nimport {BiblioDigestCard} from \"./BiblioDigestCard\";\r\nimport {\r\n    listOfReports, \r\n    listOfBiblioDigests, \r\n    listOfMediaPublicationsProps, \r\n    listOfPrivateSectorReports, \r\n    listOfResearchArticles,\r\n    PublicationProps\r\n} from \"./PublicationsConstants\";\r\nimport './styles.scss';\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport {PublicationsItem} from \"./PublicationsItem\";\r\nimport Slider from \"react-slick\";\r\nimport {PrivateReportsCard} from \"./PrivateReportsCard\";\r\nimport {publicationCarouselCollectionNames} from \"../../../types\";\r\n\r\nexport default function Publications() {\r\n    const isMobileDeviceOrTablet = useMediaQuery({maxDeviceWidth: mobileDeviceOrTabletWidth})\r\n    return (\r\n        <div className=\"col-12 page pb-4\">\r\n            <div className={isMobileDeviceOrTablet ? \"pb-2 policy-container static-content w-100\" : \"policy-container static-content\"}>\r\n                <h1 className=\"col-12 p-0 fit\">\r\n                    {Translate('Publications')}\r\n                </h1>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"Publications\"])}\r\n                </p>\r\n                <div className={\"publication-menu\"} style={{flexDirection: isMobileDeviceOrTablet ? \"column\" : \"row\"}}>\r\n                    <p className={isMobileDeviceOrTablet ? \"publication-menu-item\" : \"pl-0 publication-menu-item\"}>\r\n                        <a className={\"publication-link\"} href={\"#\" + PAGE_HASHES.Publications.ResearchArticles}>\r\n                            {Translate(\"ResearchArticles\")}\r\n                        </a>\r\n                    </p>\r\n                    <p className={\"publication-menu-item\"}>\r\n                        <a className={\"publication-link\"} href={\"#\" + PAGE_HASHES.Publications.GeneralSerotrackerCommunications}>\r\n                            {Translate('GeneralSerotrackerCommunications')}\r\n                        </a>\r\n                    </p>\r\n                    <p className={\"publication-menu-item\"}>\r\n                        <a className={\"publication-link\"} href={\"#\" + PAGE_HASHES.Publications.BiblioDigests}>\r\n                            {Translate('BiblioDigests')}\r\n                        </a>\r\n                    </p>\r\n                    <p className={\"publication-menu-item\"}>\r\n                        <a className={\"publication-link\"} href={\"#\" + PAGE_HASHES.Publications.PrivateSectorReports}>\r\n                            {Translate('PrivateSectorReports')}\r\n                        </a>\r\n                    </p>\r\n                    <p className={\"publication-menu-item\"}>\r\n                        <a className={\"publication-link\"} href={\"#\" + PAGE_HASHES.Publications.MediaMentions}>\r\n                            {Translate('MediaMentions')}\r\n                        </a>\r\n                    </p>\r\n                </div>\r\n\r\n\r\n\r\n                <hr style={{borderTop: \"2px solid #bbb\", width: \"100%\"}}/>\r\n\r\n\r\n\r\n                <h2 id={PAGE_HASHES.Publications.ResearchArticles}>\r\n                    {Translate('ResearchArticles')}\r\n                </h2>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"ResearchArticles\"])}\r\n                </p>\r\n                {getPublicationsItems(listOfResearchArticles)}\r\n\r\n\r\n\r\n                <h2 id={PAGE_HASHES.Publications.GeneralSerotrackerCommunications}>\r\n                    {Translate('GeneralSerotrackerCommunications')}\r\n                </h2>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"GeneralSerotrackerCommunications\"])}\r\n                </p>\r\n                {getPublicationsItems(listOfReports)}\r\n\r\n\r\n\r\n                <h2 id={PAGE_HASHES.Publications.BiblioDigests}>\r\n                    {Translate('BiblioDigests')}\r\n                </h2>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"LiteratureUpdateReports\"])}\r\n                </p>\r\n                {getCarousel(\"BiblioDigest\", 2)}\r\n\r\n\r\n\r\n                <h2 id={PAGE_HASHES.Publications.PrivateSectorReports}>\r\n                    {Translate('PrivateSectorReports')}\r\n                </h2>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"PrivateSectorReports\"])}\r\n                </p>\r\n                {getCarousel(\"PrivateReports\", 3)}\r\n\r\n\r\n\r\n                <h2 id={PAGE_HASHES.Publications.MediaMentions}>\r\n                    {Translate('MediaMentions')}\r\n                </h2>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"MediaMentions\"])}\r\n                </p>\r\n                {getCarousel(\"Media\", 3)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst getPublicationsItems = (publications: PublicationProps[]) => {\r\n    return (\r\n        publications.map((publicationsProps) => {\r\n            return <PublicationsItem {...publicationsProps}/>\r\n        }))\r\n}\r\n\r\nconst sliderSettings = (slidesToShow: number) =>{\r\n    return {\r\n        dots: true,\r\n        infinite: true,\r\n        arrows: true,\r\n        speed: 500,\r\n        slidesToShow: slidesToShow,\r\n        slidesToScroll: slidesToShow,\r\n        responsive: [\r\n            {\r\n                breakpoint: 1048,\r\n                settings: {\r\n                    slidesToShow: 2,\r\n                    slidesToScroll: 2,\r\n                    infinite: true,\r\n                    dots: true\r\n                }\r\n            },\r\n            {\r\n                breakpoint: 480,\r\n                settings: {\r\n                    slidesToShow: 1,\r\n                    slidesToScroll: 1,\r\n                    infinite: true,\r\n                    dots: true\r\n                }\r\n            }\r\n        ]\r\n    };\r\n} \r\n\r\nconst renderCorrectCarousel = (pubCollectionName: publicationCarouselCollectionNames) => {\r\n    switch (pubCollectionName) {\r\n        case \"Media\":\r\n            return (\r\n                listOfMediaPublicationsProps.map((publicationsProps) => {\r\n                    return <MediaCard {...publicationsProps}/>\r\n                })\r\n            )\r\n        case \"BiblioDigest\":\r\n            return (\r\n                listOfBiblioDigests.map((publicationsProps) => {\r\n                    return <BiblioDigestCard {...publicationsProps}/>\r\n                })\r\n            )\r\n        case \"PrivateReports\":\r\n            return (\r\n                listOfPrivateSectorReports.map((publicationsProps) => {\r\n                    return <PrivateReportsCard {...publicationsProps}/>\r\n                })\r\n            )\r\n        default:\r\n            return (\r\n                <div>\r\n                    Collections of this nature do not exist\r\n                </div>\r\n            )\r\n    }\r\n}\r\n\r\nconst getCarousel = (pubCollectionName: publicationCarouselCollectionNames, slidesToShow: number) => {\r\n    return (\r\n        <div className=\"publications-slider-container pb-4\">\r\n            <Slider {...sliderSettings(slidesToShow)}>\r\n                {renderCorrectCarousel(pubCollectionName)}\r\n            </Slider>\r\n        </div>\r\n        )\r\n}","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function PrivacyPolicy() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className={isMobileDeviceOrTablet ? \"policy-div-mobile\" : \"policy-div-desktop\"}>\r\n        <iframe title=\"PrivacyPolicy\" className={isMobileDeviceOrTablet ? \"policy-frame-mobile\" : \"policy-frame-desktop\"} src=\"https://app.termly.io/embed/terms-of-use/796fdf5d-ba75-4a21-9e54-4360f4fc9ccc\"></iframe>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function TermsOfUse() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className=\"col-12 page fill terms pb-2\">\r\n      <div className={isMobileDeviceOrTablet ? \"static-mobile\" : \"static-content\"}>\r\n        <h1 className=\"col-12 pb-2\">\r\n          {Translate('TermsOfUse')}\r\n        </h1>\r\n        <div className=\"col-12 pb-3\">\r\n          <p className={\"p-2\"}>{Translate('WhoSerotrackAndPartnersDisclaimer1')}</p>\r\n          <p className={\"p-2\"}>{Translate('WhoSerotrackAndPartnersDisclaimer2')}</p>\r\n          <p className={\"p-2\"}>{Translate('WhoSerotrackAndPartnersDisclaimer3')}</p>\r\n        </div>\r\n\r\n        <h3 className=\"col-12 p-2\">\r\n          {Translate('DisclaimerListHeader')}\r\n        </h3>\r\n        <ol>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList1')}\r\n          </li>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList2')}\r\n          </li>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList3')}\r\n          </li>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList4')}\r\n          </li>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList5')}\r\n          </li>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList6')}\r\n          </li>\r\n        </ol>\r\n        <div className={\"pb-2\"}>\r\n          {Translate('DisclaimerFooter')}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from 'semantic-ui-react'\r\nimport { AppContext } from '../../context'\r\nimport Translate from '../../utils/translate/translateService'\r\nimport { withLocaleUrl } from '../../utils/utils'\r\nimport \"sass/components/shared.scss\"\r\n\r\nexport const CookieBanner = () => {\r\n  const [state, dispatch] = useContext(AppContext)\r\n\r\n  const acceptCookes = () => {\r\n    localStorage.setItem('acceptedCookies', 'true');\r\n    dispatch({ type: 'CLOSE_COOKIE_BANNER' })\r\n  }\r\n\r\n  if (!localStorage.getItem('acceptedCookies') && !state.showCookieBanner) {\r\n    dispatch({ type: 'OPEN_COOKIE_BANNER' })\r\n  }\r\n\r\n  return (\r\n    state.showCookieBanner ?\r\n      <div className=\"cookie-banner flex\">\r\n        <div className=\"fill flex center-item\">\r\n          <div className=\"col-md-6 p-3 flex column\">\r\n            <div>\r\n              {Translate('CookiePolicyBody', null, null, [false, true])}\r\n              <Link to={withLocaleUrl(\"CookiePolicy\")}>{Translate('CookiePolicy')}</Link>\r\n            </div>\r\n            <div className=\"flex right\">\r\n              <Button color=\"blue\" onClick={acceptCookes}>{Translate('Accept')}</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      : null\r\n  )\r\n}","import React, { useContext, useEffect, useState } from 'react'\nimport { useMediaQuery } from 'react-responsive'\nimport { Link, useHistory, useLocation } from 'react-router-dom'\nimport Img from 'assets/images/SerotrackerLogo.svg'\nimport { mobileDeviceOrTabletWidth } from '../../constants'\nimport { AppContext } from '../../context'\nimport { LanguageType } from '../../types'\nimport Translate from '../../utils/translate/translateService'\nimport { withLocaleUrl } from '../../utils/utils'\nimport PartnershipsConfig from \"PartnershipsConfig\";\nimport { Dropdown, Accordion, Icon } from \"semantic-ui-react\";\n\nexport const Header = () => {\n  const [tab, setTab] = useState(\"\");\n  const [state, dispatch] = useContext(AppContext);\n  const [ partnershipDrownDownActive, setPartnershipDrownDownActive ] = useState(false);\n  const [ languageDropdownActive, setLanguageDropdownActive ] = useState(false); \n\n  const getTabClass = (tabName: string) => {\n    return tab.includes(tabName) ? 'nav__item--active col-auto h-100 flex center-item' : 'nav__item col-auto h-100 flex center-item';\n  }\n\n  const handlePartnershipClick = () => setPartnershipDrownDownActive(!partnershipDrownDownActive)\n\n  const handleLanguageClick = () => setLanguageDropdownActive(!languageDropdownActive)\n\n  const usePageViews = () => {\n    let location = useLocation();\n    useEffect(() => {\n      setTab(location.pathname)\n    }, [location]);\n  }\n\n  const history = useHistory();\n\n  const changeLanguages = (newLanguage: LanguageType) => {\n    let url = history.location.pathname;\n    url = url.replace(`/${state.language}/`, `/${newLanguage}/`)\n    dispatch(\n      {\n        type: \"SELECT_LANGUAGE\",\n        payload: newLanguage\n      })\n\n    history.push(url)\n  }\n\n  usePageViews()\n\n  const AppTitle = () => {\n    return (\n    <div className=\"App-title col-auto py-3 px-0\">\n      <Link to={withLocaleUrl(\"Explore\")} className=\"flex align-items-center\">\n        <img src={Img} width={23} height={23} alt=\"\" />\n        <div className=\"col-auto px-2 align-middle\" >SeroTracker</div>\n      </Link>\n    </div>)\n  }\n  \n  const mobileNav = (partnershipDrownDownActive: boolean, languageDropdownActive: boolean, handlePartnershipClick: any, handleLanguageClick: any, changeLanguages:any, language: any) => {\n    return (\n    <Dropdown icon='bars' direction='left' simple>\n    <Dropdown.Menu>\n      <Dropdown.Item>\n        <Link to={withLocaleUrl(\"Explore\")}>\n            {Translate('Explore')}\n        </Link>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Link to={withLocaleUrl(\"Analyze\")}>\n          {Translate('Analyze')}\n        </Link>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Link to={withLocaleUrl(\"Data\")}>\n          {Translate('Data')}\n        </Link>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Link to={withLocaleUrl(\"Publications\")}>\n          {Translate('Publications')}\n        </Link>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Link to={withLocaleUrl(\"About\")}>\n          {Translate('About')}\n        </Link>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Accordion fluid>\n            <Accordion.Title\n              active={partnershipDrownDownActive}\n              index={0}\n              onClick={handlePartnershipClick}\n              className={'flex center-item py-0'}\n            >\n              {Translate(\"Partnerships\")}\n              <Icon name='dropdown' className={`ml-5 ${partnershipDrownDownActive ? 'dropdown__icon' : 'dropdown__icon--active'} `}/>\n            </Accordion.Title>\n            {renderPartnershipsAccordianContent(partnershipDrownDownActive)}\n          </Accordion>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Accordion fluid>\n        <Accordion.Title\n              active={languageDropdownActive}\n              index={0}\n              onClick={handleLanguageClick}\n              className={'flex py-0'}\n            >\n              {state.language.toUpperCase()}\n              <Icon name='dropdown' style={{marginLeft: \"107px\"}}className={`${languageDropdownActive ? 'dropdown__icon' : 'dropdown__icon--active'} `}/>\n              </Accordion.Title>\n              { state.language !== LanguageType.english ?    \n                 <Accordion.Content active={languageDropdownActive} onClick={() => {changeLanguages(LanguageType.english)}} className=\"ml-2\">\n                  { LanguageType.english.toUpperCase() }\n                </Accordion.Content> : \"\" }\n              {state.language !== LanguageType.french ?         \n                <Accordion.Content active={languageDropdownActive}  onClick={() => {changeLanguages(LanguageType.french)}} className=\"ml-2\">\n                { LanguageType.french.toUpperCase() }\n                </Accordion.Content> : \"\"}\n              {state.language !== LanguageType.german ?       \n                <Accordion.Content active={languageDropdownActive} onClick={() => {changeLanguages(LanguageType.german)}} className=\"ml-2\">\n                { LanguageType.german.toUpperCase() }\n                </Accordion.Content> : \"\"}\n        </Accordion>\n      </Dropdown.Item>\n    </Dropdown.Menu>\n  </Dropdown>)\n  }\n  \n  const desktopNav = ( getTabClass: any, changeLanguages:any, language: any) => {\n    return (<div className={`App-tabs col-auto space-evenly p-0`}>\n    <div className={getTabClass('/Explore')}>\n      <Link to={withLocaleUrl(\"Explore\")}>\n        {Translate('Explore')}\n      </Link>\n    </div>\n    <div className={getTabClass('/Analyze')}>\n      <Link to={withLocaleUrl(\"Analyze\")}>\n        {Translate('Analyze')}\n      </Link>\n    </div>\n    <div className={getTabClass('/Data')}>\n      <Link to={withLocaleUrl(\"Data\")}>\n        {Translate('Data')}\n      </Link>\n    </div>\n    <div className={getTabClass('/Publications')}>\n      <Link to={withLocaleUrl(\"Publications\")}>\n        {Translate('Publications')}\n      </Link>\n    </div>\n    <div className={getTabClass('/About')}>\n      <Link to={withLocaleUrl(\"About\")}>\n        {Translate('About')}\n      </Link>\n    </div>\n    <div className={'nav__item col-auto h-100 flex center-item'}>\n      <Dropdown text={Translate(\"Partnerships\")}>\n        {renderPartnershipsDropDownMenu()}\n      </Dropdown>\n    </div>\n    <div className={'col-auto h-100 px-0'}>\n      |\n    </div>\n    <div className={\"nav__item col-auto h-100 flex center-item cursor\"} >\n    <Dropdown text={language.toUpperCase()}>\n        {renderLanguageDropDownMenu()}\n      </Dropdown>\n    </div>\n  </div>)\n  }\n  \n  const renderPartnershipsDropDownMenu = () => (\n    <Dropdown.Menu>{\n      PartnershipsConfig.map( p => (\n        <Dropdown.Item>\n          <Link to={withLocaleUrl(`Partnerships/${p.routeName}`)}>{Translate(\"PartnershipsList\", [p.routeName])}</Link>\n        </Dropdown.Item>\n      ))}\n        <Dropdown.Item>\n          <Link to={withLocaleUrl('Unity')}>{Translate(\"WhoUnity\")}</Link>\n        </Dropdown.Item>\n    </Dropdown.Menu>)\n  \n  const renderLanguageDropDownMenu = () => (\n    <Dropdown.Menu >\n      {state.language !== LanguageType.english ?   \n        <Dropdown.Item onClick={() => {changeLanguages(LanguageType.english)}}>\n          { LanguageType.english.toUpperCase() }\n        </Dropdown.Item> : \"\"}\n     {state.language !== LanguageType.french ?        \n        <Dropdown.Item onClick={() => {changeLanguages(LanguageType.french)}}>\n        { LanguageType.french.toUpperCase() }\n        </Dropdown.Item> : \"\"}\n     {state.language !== LanguageType.german ?      \n         <Dropdown.Item onClick={() => {changeLanguages(LanguageType.german)}}  >\n        { LanguageType.german.toUpperCase() }\n        </Dropdown.Item> : \"\"}\n    </Dropdown.Menu>)\n  \n  const renderPartnershipsAccordianContent = (partnershipDrownDownActive: boolean) => (\n      <Accordion.Content active={partnershipDrownDownActive} className=\"ml-2\">\n        {PartnershipsConfig.map( p => (\n          <p>\n            <Link to={withLocaleUrl(`Partnerships/${p.routeName}`)}>{Translate(\"PartnershipsList\", [p.routeName])}</Link>\n          </p>\n        ))}\n        <p>\n          <Link to={withLocaleUrl('Unity')}>{Translate(\"WhoUnity\")}</Link>\n        </p>\n      </Accordion.Content>)\n\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\n  return (\n    <header className=\"App-header col-12 px-3\">\n      <AppTitle />\n      { isMobileDeviceOrTablet ? mobileNav(partnershipDrownDownActive, languageDropdownActive, handlePartnershipClick, handleLanguageClick, changeLanguages, state.language) : desktopNav( getTabClass, changeLanguages, state.language) }\n    </header >\n  )\n}\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport url from 'url';\nimport { Promise } from 'es6-promise';\nimport shallowequal from 'shallowequal';\nimport Tableau from 'tableau-api';\n\nfunction tokenizeUrl(_url, token) {\n    const parsed = url.parse(_url, true);\n    const { protocol, host, pathname } = parsed;\n\n    return `${protocol}//${host}/trusted/${token}${pathname}`;\n}\n\nconst propTypes = {\n  filters: PropTypes.object,\n  url: PropTypes.string,\n  parameters: PropTypes.object,\n  options: PropTypes.object,\n  token: PropTypes.string,\n  refreshSeconds: PropTypes.number,\n  onLoad: PropTypes.func\n};\n\nconst defaultProps = {\n  loading: false,\n  parameters: {},\n  filters: {},\n  options: {},\n  refreshSeconds: 0,\n  onLoad: function(date){}\n};\n\nclass TableauReport extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filters: props.filters,\n      parameters: props.parameters\n    };\n  }\n\n  componentDidMount() {\n    this.initTableau();\n  }\n\n  componentWillUnmount() {\n    // stop refreshing Tableau\n    if (this.refreshTimer)\n    {\n      clearInterval(this.refreshTimer);\n      this.refreshTimer = null;\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const isReportChanged = nextProps.url !== this.props.url;\n    const isFiltersChanged = !shallowequal(this.props.filters, nextProps.filters, this.compareArrays);\n    const isParametersChanged = !shallowequal(this.props.parameters, nextProps.parameters);\n    const isLoading = this.state.loading;\n\n    // Only report is changed - re-initialize\n    if (isReportChanged) {\n      this.initTableau();\n    }\n\n    // Only filters are changed, apply via the API\n    if (!isReportChanged && isFiltersChanged && !isLoading) {\n      this.applyFilters(nextProps.filters);\n    }\n\n    // Only parameters are changed, apply via the API\n    if (!isReportChanged && isParametersChanged && !isLoading) {\n      this.applyParameters(nextProps.parameters);\n    }\n\n    // token change, validate it.\n    if (nextProps.token !== this.props.token) {\n      this.setState({ didInvalidateToken: false });\n    }\n\n    // refresh rate change\n    if (nextProps.refreshSeconds !== this.props.refreshSeconds)\n    {\n      // clear current refresh interval timer if it is set\n      if (typeof(this.refreshTimer) !== \"undefined\")\n      {\n        clearInterval(this.refreshTimer);\n      }\n\n      // if the new refresh rate is > 0, set up the timer\n      if (nextProps.refreshSeconds > 0)\n      {\n        this.refreshTimer = setInterval(this.refresh.bind(this), nextProps.refreshSeconds * 1000);\n      }\n    }\n  }\n\n  /**\n   * Compares the values of filters to see if they are the same.\n   * @param  {Array<Number>} a\n   * @param  {Array<Number>} b\n   * @return {Boolean}\n   */\n  compareArrays(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n      return a.sort().toString() === b.sort().toString();\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Execute a callback when an array of promises complete, regardless of\n   * whether any throw an error.\n   */\n  onComplete(promises, cb) {\n    Promise.all(promises).then(() => cb(), () => cb())\n  }\n\n  /**\n   * Returns a vizUrl, tokenizing it if a token is passed and immediately\n   * invalidating it to prevent it from being used more than once.\n   */\n  getUrl() {\n    const { token } = this.props;\n    const parsed = url.parse(this.props.url, true);\n    const query = '?:embed=yes&:comments=no&:toolbar=yes&:refresh=yes';\n\n    if (!this.state.didInvalidateToken && token) {\n      this.invalidateToken();\n      return tokenizeUrl(this.props.url, token) + query;\n    }\n\n    return parsed.protocol + '//' + parsed.host + parsed.pathname + query;\n  }\n\n  invalidateToken() {\n    this.setState({ didInvalidateToken: true });\n  }\n\n  /**\n   * Asynchronously applies filters to the worksheet, excluding those that have\n   * already been applied, which is determined by checking against state.\n   * @param  {Object} filters\n   * @return {void}\n   */\n  applyFilters(filters) {\n    const REPLACE = Tableau.FilterUpdateType.REPLACE;\n    const promises = [];\n\n    this.setState({ loading: true });\n\n    for (const key in filters) {\n      if (\n        !this.state.filters.hasOwnProperty(key) ||\n        !this.compareArrays(this.state.filters[key], filters[key])\n      ) {\n        promises.push(\n          this.sheet.applyFilterAsync(key, filters[key], REPLACE)\n        );\n      }\n    }\n\n    this.onComplete(promises, () => this.setState({ loading: false, filters }));\n  }\n\n  applyParameters(parameters) {\n    const promises = [];\n\n    for (const key in parameters) {\n      if (\n        !this.state.parameters.hasOwnProperty(key) ||\n        this.state.parameters[key] !== parameters[key]\n      ) {\n        const val = parameters[key];\n        promises.push(this.workbook.changeParameterValueAsync(key, val));\n      }\n    }\n\n    this.onComplete(promises, () => this.setState({ loading: false, parameters }));\n  }\n\n  // refreshes the tableau visualization's data\n  refresh() {\n    if (typeof(this.viz) !== \"undefined\")\n    {\n      this.viz.refreshDataAsync();\n    }\n  }\n\n  /**\n   * Initialize the viz via the Tableau JS API.\n   * @return {void}\n   */\n  initTableau() {\n    const { filters, parameters, refreshSeconds } = this.props;\n    const vizUrl = this.getUrl();\n\n    const options = {\n      ...filters,\n      ...parameters,\n      ...this.props.options,\n      onFirstInteractive: () => {\n        this.workbook = this.viz.getWorkbook();\n        this.sheets = this.workbook.getActiveSheet().getWorksheets();\n        this.sheet = this.sheets[0];\n\n        this.props.onLoad(new Date());\n      }\n    };\n\n    // cleanup\n    if (this.viz) {\n      this.viz.dispose();\n      this.viz = null;\n    }\n\n    this.viz = new Tableau.Viz(this.container, vizUrl, options);\n\n    // set up automatic refreshing if specified\n    if (refreshSeconds > 0)\n    {\n      this.refreshTimer = setInterval(this.refresh.bind(this), refreshSeconds * 1000);\n    }\n  }\n\n  render() {\n    return <div ref={c => this.container = c} />;\n  }\n}\n\nTableauReport.propTypes = propTypes;\nTableauReport.defaultProps = defaultProps;\n\nexport default TableauReport;","import React, { useContext } from \"react\";\n// @ts-ignore\n// The tableau JS API does not have good typescript support\nimport TableauReport from './TableauReport';\nimport '../../pages/static.css';\nimport { useMediaQuery } from \"react-responsive\";\nimport { mobileDeviceOrTabletWidth } from \"../../../constants\";\nimport { LanguageType } from \"../../../types\";\nimport { AppContext } from \"../../../context\";\nimport './TableauEmbed.scss';\n\ninterface TableauEmbedProps {\n    className?: string,\n    url: { [key in LanguageType]?: string },\n    mobileOptions?: Record<string, string>,\n    desktopOptions?: Record<string, string>\n}\n\n// All other vizCreate options are supported here, too\n// They are listed here:\n// https://onlinehelp.tableau.com/current/api/js_api/en-us/JavaScriptAPI/js_api_ref.htm#ref_head_9\n// const options = {\n//     width: \"100%\",\n//     height: \"100%\"\n// }\n\nexport default function TableauEmbed(props: TableauEmbedProps) {\n    const [{ language }, dispatch] = useContext(AppContext);\n    const isMobileDeviceOrTablet = useMediaQuery({ maxWidth: mobileDeviceOrTabletWidth });\n    const url = language in props.url ? props.url[language as LanguageType] : props.url[\"en\"];\n\n    let options = {}\n    if(isMobileDeviceOrTablet){\n        options = props.mobileOptions ? props.mobileOptions : {}\n    }\n    else{\n        options = props.desktopOptions ? props.desktopOptions : {}\n    }\n\n    return (\n    <figure className={`tableau-embed ${props.className as string}`}>\n        <TableauReport url={url} options={options}/>\n    </figure>\n    )\n}","\nimport React, { useContext } from \"react\";\nimport { AppContext } from \"context\";\nimport { ANALYZE_URLS, PAGE_HASHES, mobileDeviceOrTabletWidth } from \"../../constants\";\nimport { useMediaQuery } from \"react-responsive\";\nimport TableauEmbed from \"components/shared/TableauEmbed/TableauEmbed\";\nimport \"./static.css\";\n\nconst ANALYZE_MOBILE_HEIGHT = 2900;\nconst ANALYZE_DESKTOP_HEIGHT = 5000;\nconst NUM_ANALYZE_CHARTS = 8;\n\nexport default function Analyze() {\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxWidth: mobileDeviceOrTabletWidth,\n  });\n  const [{ language }] = useContext(AppContext);\n\n  // function to calculate the number of pixels from the top of the page\n  // the nth chart (0-indexed) is\n  // note: this assumes that charts are the same height\n  const getOffsetForGraphNum = (n: number) => {\n    return 20 + (isMobileDeviceOrTablet ? ANALYZE_MOBILE_HEIGHT/NUM_ANALYZE_CHARTS : ANALYZE_DESKTOP_HEIGHT/NUM_ANALYZE_CHARTS)*n;\n  }\n\n  return (\n    <div className=\"page col-12\">\n      <TableauEmbed\n        url={ANALYZE_URLS}\n        key={`AnalyzeTableau${language}`}\n        desktopOptions={{\n          width: \"82vw\",\n          height: \"5000px\"\n        }}\n        mobileOptions={{\n          width: \"90vw\",\n          height: \"2900px\"\n        }}\n        />\n        {/* These sections are for letting the hash links know where the different sections are inside the embed*/}\n        <section id={PAGE_HASHES.Analyze.ByCountry} style={{ position: 'absolute', top: getOffsetForGraphNum(0)}}></section>\n        <section id={PAGE_HASHES.Analyze.ByPopulation} style={{ position: 'absolute', top: getOffsetForGraphNum(3)}}></section>\n        <section id={PAGE_HASHES.Analyze.AdditionalGraphs} style={{ position: 'absolute', top: getOffsetForGraphNum(4)}}></section>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { AirtableRecord, EstimateGradePrevalence, Partnership } from \"types\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { AppContext } from \"context\";\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\nimport Translate from \"utils/translate/translateService\";\nimport { Loader } from \"semantic-ui-react\";\nimport Legend from \"components/map/Legend\";\nimport MapboxMap from \"components/map/MapboxMap\";\nimport httpClient from \"httpClient\";\n\ntype PartnerShipsMapProps = {\n  partnershipconfig?: Partnership;\n};\n\n// Not a priority to implement loader here because mobile is deprecated anyways\nconst mobileMap = (\n  partnershipconfig: Partnership,\n  estimateGradePrevalence: EstimateGradePrevalence | undefined,\n  records: AirtableRecord[]\n) => {\n  return (\n      <MapboxMap\n        mapConfig={partnershipconfig.mapboxMapOptions}\n        countriesConfig={{\n          estimateGradePrevalences: estimateGradePrevalence ? [estimateGradePrevalence] : undefined,\n          countryFocus: partnershipconfig?.iso3,\n        }}\n        studyPinsConfig={{\n          records: records,\n        }}\n      />\n  );\n};\n\n\nconst desktopMap = (\n  partnershipconfig: Partnership,\n  estimateGradePrevalence: EstimateGradePrevalence | undefined,\n  records: AirtableRecord[],\n  isLoading: boolean\n) => {\n  return (\n    <>\n      <div className=\"col-9 h-100\">\n        <Loader indeterminate active={isLoading}/>\n        <MapboxMap\n          mapConfig={partnershipconfig.mapboxMapOptions}\n          countriesConfig={{\n            estimateGradePrevalences: estimateGradePrevalence ? [estimateGradePrevalence] : undefined,\n            countryFocus: partnershipconfig?.iso3,\n          }}\n          studyPinsConfig={{\n            records: records,\n          }}\n        />\n      </div>\n      <div className=\"col-3 h-100\">\n        <Legend hideLayers />\n          <div className=\"mt-1\">{Translate(\"PartnershipsView\", [\"MapNote1\"])}</div>\n          <div className=\"mt-1\">\n              {Translate(\"PartnershipsView\", [\"MapNote2\"], {\n                  WEBSITE: \"ourworldindata.org\",\n              })}\n          </div>\n      </div>\n    </>\n  );\n};\n\nexport default function PartnerShipsMap({ partnershipconfig }: PartnerShipsMapProps) {\n  const [state] = useContext(AppContext);\n  const [records, setRecords] = useState<AirtableRecord[]>([]);\n  const [estimateGradePrevalence, setEstimateGradePrevalence] = useState<EstimateGradePrevalence | undefined>();\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    const api = new httpClient();\n    const getPartnershipsData = async () => {\n      setIsLoading(true);\n      const { records, estimateGradePrevalences } = await api.getCountryPartnershipData({country: [partnershipconfig?.routeName]});\n      setRecords(records);\n      setEstimateGradePrevalence(estimateGradePrevalences[0]);\n      setIsLoading(false);\n    }\n    getPartnershipsData();\n  }, [partnershipconfig, state.explore.estimateGradePrevalences])\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\n\n  if (partnershipconfig === undefined) {\n    return <></>;\n  }\n  \n  // Note: Loading spinner doesn't work very well on mobile\n\n  const Map = isMobileDeviceOrTablet ? mobileMap(partnershipconfig, estimateGradePrevalence, records) : desktopMap(partnershipconfig, estimateGradePrevalence, records, isLoading)\n  const mapHeight = isMobileDeviceOrTablet ? \"50vw\" : \"70vh\"\n  return (\n    <div style={{ height: mapHeight }} className=\"row\">\n      {Map}\n    </div>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { Partnership } from \"types\";\nimport { AppContext } from \"../../../context\";\nimport TableauEmbed from \"components/shared/TableauEmbed/TableauEmbed\";\nimport Translate, { getCountryName } from \"utils/translate/translateService\";\nimport PartnerShipsMap from \"components/partnerships/PartnershipsMap\";\n\ntype CanadaPartnershipProps = {\n    partnershipConfig: Partnership;\n  };\n\nexport default function CanadaPartnership({partnershipConfig}:CanadaPartnershipProps) {\n  const [state] = useContext(AppContext);\n\n  return (\n    <>\n      <h1 className=\"mt-5\">{Translate(\"PartnershipsPageTitle\", [partnershipConfig.routeName])}</h1>\n      <div className=\"mt-2\">\n        {Translate(\"PartnershipsPageDescription\", [partnershipConfig.routeName, \"PartOne\"], null, [false, true])}\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.covid19immunitytaskforce.ca/\">\n          {Translate(\"PartnershipsPageDescription\", [partnershipConfig.routeName, \"PartTwo\"], null, [false, true])}\n        </a>\n        {Translate(\"PartnershipsPageDescription\", [partnershipConfig.routeName, \"PartThree\"], null, [false, true])}\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.covid19immunitytaskforce.ca/seroprevalence-modelling/\">\n          {Translate(\"PartnershipsPageDescription\", [partnershipConfig.routeName, \"PartFour\"], null, [false, true])}\n        </a>\n      </div>\n      <div className=\"mt-5 mb-1\">\n        <h3>\n          {Translate(\"SeroprevalenceEstimatesInRegion\", null, {\n            NAME: getCountryName(partnershipConfig.routeName, state.language, \"CountryOptions\"),\n          })}\n        </h3>\n      </div>\n      <PartnerShipsMap partnershipconfig={partnershipConfig} />\n      <TableauEmbed\n        className=\"row\"\n        url={partnershipConfig.tableauUrl}\n        key={partnershipConfig.tableauKey}\n        desktopOptions={{\n          width: \"100%\",\n          height: \"3100px\",\n        }}\n        mobileOptions={{\n          width: \"100%\",\n          height: \"2700px\",\n        }}\n      />\n    </>\n  );\n}\n","import React from \"react\";\nimport { isMaintenanceMode } from \"../../constants\";\nimport MaintenanceModal from \"../shared/MaintenanceModal\";\n\ninterface PageBodyProps {\n    className?: string,\n    children?: JSX.Element | JSX.Element[];\n    includeMaintenanceModal: boolean,\n}\n\nconst PageBody = (props: PageBodyProps) => {\n  return (\n    <div className={`container ${props.className}`}>\n    <div className=\"row\">\n      <div className=\"col-md-auto\">\n        {props.children}\n      </div>\n    </div>\n    {props.includeMaintenanceModal && <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"\"} /> }\n  </div>\n  )\n}\n\nexport default PageBody","import React from \"react\";\nimport { Redirect, useParams } from \"react-router-dom\";\nimport { Partnership } from \"types\";\nimport PartnershipsConfig from \"PartnershipsConfig\";\nimport CanadaPartnership from 'components/pages/Partnerships/CanadaPartnership';\nimport PageBody from '../../shared/PageBody'\n\ntype PartnershipProps = {\n  partnershipConfig: Partnership;\n};\n\nfunction RenderSelectedPartnershipComponent({partnershipConfig}: PartnershipProps){\n  let partnership = undefined\n  switch(partnershipConfig.routeName) {\n    case 'Canada':\n      partnership = <CanadaPartnership partnershipConfig={partnershipConfig}/>\n      break;\n    // Add more cases for new parnership components here.\n  }\n\n  return partnership\n}\n\nexport default function Partnerships() {\n  const {name} = useParams<{ name: string }>();\n  const config = PartnershipsConfig.find(x => x.routeName === name);\n\n  return (\n    <>\n      {config !== undefined ? (\n        <PageBody includeMaintenanceModal>\n          {RenderSelectedPartnershipComponent({partnershipConfig: config})}\n        </PageBody>\n      ) : (\n        <Redirect to=\"/404\" />\n      )}\n    </>\n  );\n}\n","import React, {useEffect, useState} from \"react\";\nimport {Button, Icon} from \"semantic-ui-react\";\n\nexport default function NewsletterPopup() {\n    const [hidden, setHidden] = useState(true)\n\n    useEffect(() => {\n        if (!localStorage.getItem(\"SubscribePopupSeen\")){\n            if(localStorage.getItem(\"returnUser\") === \"true\") {\n                setTimeout(function () {\n                    setHidden(false)\n                    localStorage.setItem(\"SubscribePopupSeen\", \"true\")\n                }, 30000) // 30 seconds in ms\n            }\n        }\n    }, [])\n\n    const onClickHandle = () => {\n        setHidden(true)\n    }\n\n    return (\n        <div className={\"newsletter-popup\"} onClick={onClickHandle} style={{visibility: hidden ? \"hidden\" : \"visible\"}}>\n            <Button className={\"newsletter-popup-close-button\"} icon onClick={onClickHandle}>\n                <Icon className={\"newsletter-popup-close-button-icon\"} name={\"close\"} />\n            </Button>\n            <iframe\n                src=\"https://serotracker.substack.com/embed\"\n                width=\"480\" height=\"320\"\n                className={\"newsletter-popup-content\"}\n                frameBorder=\"0\"\n                scrolling=\"no\"\n            />\n        </div>\n    )\n}","import React, { useContext, useEffect } from \"react\";\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\nimport 'sass/app.scss';\nimport About from './components/pages/About';\nimport NotFoundPage from './components/pages/NotFoundPage';\nimport CookiePolicy from \"./components/pages/CookiePolicy\";\nimport Explore from \"./components/pages/Explore/Explore\";\nimport Data from './components/pages/Data';\nimport Publications from \"./components/pages/Publications/Publications\";\nimport PrivacyPolicy from './components/pages/PrivacyPolicy';\nimport TermsOfUse from \"./components/pages/TermsOfUse\";\nimport { CookieBanner } from \"./components/shared/CookieBanner\";\nimport { Header } from \"./components/shared/Header\";\nimport { Footer } from \"./components/shared/Footer/Footer\";\nimport Analyze from \"./components/pages/Analyze\"\nimport { AppContext, getEmptyFilters } from \"./context\";\nimport httpClient from \"./httpClient\";\nimport { LanguageType } from \"./types\";\nimport { setLanguageType } from \"./utils/translate/translateService\";\nimport Partnerships from \"components/pages/Partnerships/Partnerships\";\nimport NewsletterPopup from \"./components/shared/NewsletterPopup\";\n\nfunction App() {\n  const [{ language, explore }, dispatch] = useContext(AppContext);\n  setLanguageType(language);\n\n  // General call that happens once at the start of everything.\n  useEffect(() => {\n    const api = new httpClient()\n    const allFilterOptions = async () => {\n      const { options, updatedAt, maxDate, minDate } = await api.getAllFilterOptions();\n      dispatch({\n        type: 'GET_ALL_FILTER_OPTIONS',\n        payload: options\n      })\n\n      dispatch({\n        type: \"UPDATED_AT\",\n        payload: updatedAt\n      })\n\n      dispatch({\n        type: \"MAX_MIN_DATES\",\n        payload: { maxDate, minDate }\n      })\n    }\n\n    allFilterOptions();\n\n    //track if user is a return user or not. if returnUser does not exist this is the users first time\n    if(!localStorage.getItem(\"returnUser\")) {\n      localStorage.setItem(\"returnUser\", \"true\")\n    }\n\n    // We only want this to run once so we pass no dependencies. Do not remove this\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  // Cookie managing\n  useEffect(() => {\n    const alreadyAcceptedCookes = localStorage.getItem('acceptedCookies');\n    if (alreadyAcceptedCookes) {\n      dispatch({\n        type: 'ACCEPT_COOKIES'\n      });\n    }\n    const handleResize = () => {\n      let vh = window.innerHeight * 0.01;\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n    }\n    window.addEventListener('resize', handleResize)\n\n    handleResize();\n  }, [dispatch])\n\n  const listenForUrlLanguage = (pathname: string) => {\n    if (pathname.includes(\"/en/\") && language !== LanguageType.english) {\n      dispatch({\n        type: \"SELECT_LANGUAGE\",\n        payload: LanguageType.english\n      })\n    } else if (pathname.includes(\"/fr/\") && language !== LanguageType.french) {\n      dispatch({\n        type: \"SELECT_LANGUAGE\",\n        payload: LanguageType.french\n      })\n    } else if (pathname.includes(\"/de/\") && language !== LanguageType.german) {\n      dispatch({\n        type: \"SELECT_LANGUAGE\",\n        payload: LanguageType.german\n      })\n    }\n  }\n\n  const history = useHistory()\n  listenForUrlLanguage(history.location.pathname);\n\n  let unityInitialFilters = getEmptyFilters();\n  unityInitialFilters.unity_aligned_only = true;\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <CookieBanner />\n      <NewsletterPopup />\n      <Switch>\n        <Route path=\"/:language/About\">\n          <About />\n        </Route>\n        <Route path=\"/:language/Explore\">\n          <Explore key=\"Explore\"/>\n        </Route>\n        <Route path=\"/:language/Dashboard\">\n          <Redirect to=\"/:language/Explore\" />\n        </Route>\n        <Route path=\"/:language/Analyze\">\n          <Analyze />\n        </Route>\n        <Route path=\"/:language/Partnerships/:name\">\n          <Partnerships />\n        </Route>\n        <Route path=\"/:language/Data\">\n          <Data />\n        </Route>\n        <Route path=\"/:language/PrivacyPolicy\">\n          <PrivacyPolicy />\n        </Route>\n        <Route path=\"/:language/CookiePolicy\">\n          <CookiePolicy />\n        </Route>\n        <Route path=\"/:language/TermsOfUse\">\n          <TermsOfUse />\n        </Route>\n        <Route path=\"/:language/Publications\">\n          <Publications />\n        </Route>\n        <Route path=\"/:language/Unity\">\n          {/*Key added to differentiate Unity view from Explore view and force a rerender*/}\n          <Explore initialFilters={unityInitialFilters} key=\"Unity\"/>\n        </Route>\n        <Redirect exact from=\"/\" to={`/${language}/Explore`} />\n        {language && [\"About\", \"Explore\", \"Analyze\", \"Data\", \"PrivacyPolicy\", \"CookiePolicy\", \"TermsOfUse\", \"Publications\", \"Canada\"].map(route =>\n          <Redirect from={`/${route}`} to={`${language}/${route}`}></Redirect>)}\n        <Route>\n          <NotFoundPage/>\n        </Route>\n      </Switch>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'sass/index.scss';\nimport * as serviceWorker from './serviceWorker';\nimport { AppContextProvider } from './context'\nimport {Router} from 'react-router-dom';\nimport GAListener from \"./utils/analyticsUtils\";\nimport {createBrowserHistory} from 'history';\nimport ReactGA from 'react-ga';\n\n// Initialize ReactGA\nconst isDev = process.env.NODE_ENV === \"development\";\nReactGA.initialize(process.env.REACT_APP_GA_TRACKERID, {\n  titleCase: false,\n  debug: isDev,\n  gaOptions: {\n    cookieDomain: isDev ? 'none' : 'auto'\n  }\n});\n\nconst history = createBrowserHistory()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router history={history}>\n      <GAListener>\n        <AppContextProvider>\n          <App />\n        </AppContextProvider>\n      </GAListener>\n    </Router>\n  </React.StrictMode >,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}