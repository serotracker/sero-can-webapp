{"version":3,"sources":["assets/images/WHO-EN-C-H.png","assets/images/PubMedia/1200px-The_Economist_Logo.svg.png","assets/images/PubMedia/joule.png","assets/images/PubMedia/mckinsey_logo.png","assets/images/WHO-FR-C-H.png","assets/images/public-health-agency.svg","assets/images/University-Of-Calgary-Logo.png","assets/images/amc-joule.png","assets/images/BrokenAb.gif","assets/images/airtable-icon.svg","assets/images/YearInReview2020.png","assets/images/IndustryUpdatePre_2020.png","assets/images/SeroTrackerBloodBank_July_2020.png","assets/images/LancetIDArticle.png","assets/images/InsuringTheEconomy.png","assets/images/PlosOnePub.png","assets/images/PubMedia/3622.1582633003.png","assets/images/PubMedia/Bloomberg_Logo.jpg","assets/images/PubMedia/chi_logo_89px.png","assets/images/PubMedia/cision_logo.svg","assets/images/PubMedia/CITF-logo-BIL-700.png","assets/images/PubMedia/download.png","assets/images/PubMedia/Forbes-logo.png","assets/images/PubMedia/HIMSSlogo_Hfullcolor_RGB.png","assets/images/PubMedia/JournalQuebec_Logo2013-.png","assets/images/PubMedia/marcia news.png","assets/images/PubMedia/mars.jpg","assets/images/PubMedia/mcgill-university-logo-png-transparent-cropped.png","assets/images/PubMedia/New-York-Times-Logo8x6_0.png","assets/images/PubMedia/oxford.jpg","assets/images/PubMedia/UCalgary.svg","assets/images/PubMedia/waterloo.png","assets/images/PubMedia/covidend-global-logo.png","assets/images/SerotrackerLogo.svg","types.ts","constants.ts","utils/translate/caseChanger.ts","utils/utils.tsx","utils/translate/translateService.ts","context.tsx","utils/analyticsUtils.tsx","components/shared/WhoLogo.tsx","components/shared/Footer/NewsletterEmailInput.tsx","components/shared/Footer/Footer.tsx","components/pages/About.tsx","components/pages/NotFoundPage.tsx","components/pages/CookiePolicy.tsx","httpClient.ts","components/map/MapConfig.ts","utils/MappingUtil.tsx","components/map/Popups/CountryPopup.tsx","PartnershipsConfig.ts","components/map/Layers/Countries.tsx","components/map/Popups/StudyPopup.tsx","utils/usePrevious.ts","components/map/Layers/StudyPins.tsx","utils/GeoJsonGenerator.tsx","components/map/MapboxMap.tsx","utils/stateUpdateUtils.tsx","components/shared/InformationIcon.tsx","components/sidebar/right-sidebar/SectionHeader.tsx","components/sidebar/right-sidebar/datepicker/Handle.tsx","components/sidebar/right-sidebar/datepicker/Track.tsx","components/sidebar/right-sidebar/datepicker/TooltipRail.tsx","components/sidebar/right-sidebar/datepicker/DateSlider.tsx","components/sidebar/right-sidebar/datepicker/Datepicker.tsx","components/sidebar/right-sidebar/Filters.tsx","components/map/Legend.tsx","components/sidebar/left-sidebar/TotalStats.tsx","components/shared/DownloadButton.tsx","components/sidebar/left-sidebar/LeftSidebar.tsx","components/pages/Explore/ExploreMobile.tsx","components/shared/MaintenanceModal.tsx","components/pages/Explore/Explore.tsx","components/pages/Data.tsx","components/pages/Publications/MediaCard.tsx","components/pages/Publications/BiblioDigestCard.tsx","components/pages/Publications/PublicationsConstants.ts","components/pages/Publications/PublicationsItem.tsx","components/pages/Publications/PrivateReportsCard.tsx","components/pages/Publications/Publications.tsx","components/pages/PrivacyPolicy.tsx","components/pages/TermsOfUse.tsx","components/shared/CookieBanner.tsx","components/shared/Header.tsx","components/shared/TableauEmbed/TableauReport.jsx","components/shared/TableauEmbed/TableauEmbed.tsx","components/pages/Analyze.tsx","components/partnerships/PartnershipsMap.tsx","components/pages/Partnerships/CanadaPartnership.tsx","components/shared/PageBody.tsx","components/pages/Partnerships/Partnerships.tsx","components/shared/NewsletterPopup.tsx","App.tsx","serviceWorker.js","index.js","assets/images/Prepublication.png"],"names":["module","exports","LanguageType","PageStateEnum","AggregationFactor","IconName","ANALYZE_URLS","PAGES","PAGE_HASHES","Map","ByCountry","ByPopulation","AdditionalGraphs","DataDictionary","ChangeLog","SubmitSource","DownloadCsv","AccessGithub","FAQ","DataTable","ResearchArticles","GeneralSerotrackerCommunications","BiblioDigests","PrivateSectorReports","MediaMentions","ContactUs","Team","toPascalCase","str","_","upperFirst","camelCase","language","english","getMapboxLatitudeOffset","map","mapZoom","getZoom","Math","pow","withLocaleUrl","path","Countries","EnglishCountries","FrenchCountries","GermanCountries","translations","English","French","German","getCountryName","country","optionString","code","translatedCountryName","Translate","recursiveFind","object","keys","index","nextObj","length","setLanguageType","newLanguage","setLanguage","text","specifier","substitution","addSpaces","translationDictionary","translatedString","Object","forEach","key","value","replace","RegExp","e","TranslateDate","dateString","Intl","DateTimeFormat","year","month","day","format","Date","AppContext","createContext","initialMinDate","initialMaxDate","getEmptyFilters","source_type","test_type","population_group","sex","age","overall_risk_of_bias","isotypes_reported","antibody_target","publish_date","estimate_grade","unity_aligned_only","initialState","chartAggregationFactor","explore","filters","records","estimateGradePrevalences","isLoading","legendLayers","National","Regional","Local","allFilterOptions","calendarStartDates","minDate","maxDate","updatedAt","showCookieBanner","pulsateUnityFilter","reducer","state","action","type","payload","pageStateEnum","newState","filterType","filterValue","newFilters","AppContextProvider","props","useReducer","dispatch","Provider","children","sendPageView","location","ReactGA","set","page","pathname","pageview","sendAnalyticsEvent","localStorage","getItem","event","sendFiltersAnalyticsEvent","defaultFilters","isEqual","labelString","sort","filterOptions","Array","isArray","toString","category","label","sendUnityAnalyticsEvent","GAListener","history","useHistory","useEffect","listen","process","WhoLogo","useContext","useState","undefined","imgLanguageResource","setImgLanguageResource","WhoLogoEn","french","WhoLogoFr","src","className","alt","height","NewsletterEmailInput","newsletterEmail","setNewsletterEmail","invalidEntry","setInvalidEntry","Input","content","onClick","match","fetch","method","mode","headers","body","JSON","stringify","Email","then","r","json","data","console","log","alert","catch","error","color","placeholder","onChange","target","Footer","useMediaQuery","maxDeviceWidth","renderMobileFooter","renderDesktopFooter","to","WhoDisclaimer","Sponsers","href","rel","UcalgaryLogo","HealthAgencyLogo","AmcJoule","PageLinks","style","maxHeight","flexGrow","flexBasis","toUpperCase","h","MobilePageLinks","activeIndex","setIndex","Accordion","fluid","styled","i","Title","active","Icon","name","Content","About","isMobileDeviceOrTablet","maxWidth","selectItem","selectLink","link","renderBioBlock","description","linkedIn","email","twitter","line","icon","faLinkedin","faTwitter","faEnvelope","id","NAME","NotFoundPage","BrokenAb","Button","push","CookiePolicy","script","document","createElement","appendChild","removeChild","title","RECORDS_URL","httpClient","url","useAppRoute","a","url_full","res","status","error_msg","response_json","source_id","this","httpGet","response","record","options","parseISO","updated_at","max_publication_end_date","min_publication_end_date","min_date","max_date","reqBodyFilters","date","dates","endDate","formatISO","startDate","add","years","dateList","from","compareAsc","reverse","formatDates","sampling_start_date","sampling_end_date","estimates_subgroup","only_explore_columns","reqBody","preparePostBody","columns","httpPost","country_seroprev_summary","item","formatEstimateGradePrevalences","estimateSummary","seroprevalence_estimate_summary","numberOfStudies","n_estimates","testsAdministered","n_tests_administered","geographicalName","alpha3Code","country_iso3","localEstimate","maxEstimate","max_estimate","minEstimate","min_estimate","numEstimates","nationalEstimate","regionalEstimate","sublocalEstimate","Sublocal","include_subgeography_estimates","MapSymbology","Color","Size","Default","IsHighlighted","HasData","Opacity","Disputed","Shaded","MapResources","DefaultMapboxMapOptions","center","zoom","minZoom","maxZoom","attributionControl","scrollZoom","Expressions","Studies","prepare","styleUrl","api","getStyles","fetchedStyle","sprite","glyphs","sources","esri","tiles","maxzoom","getEsriVectorSourceStyle","source","l","layers","promoteId","paint","row","CountryPopup","onDetailsClick","properties","regions","addRegion","Region","Name","Divider","o","minString","toFixed","maxString","regionString","random","createPopupGeographySection","PartnershipsConfig","iso3","routeName","tableauKey","tableauUrl","mapboxMapOptions","bounds","SetMapData","getSource","removeFeatureState","sourceLayer","partnershipConfig","find","x","setFeatureState","hasData","isHighlighted","SetCountryEstimates","countryFocus","highlight","setHighlight","countriesLoaded","setCountriesLoaded","on","queryRenderedFeatures","point","filter","f","features","offset","mapboxgl","Popup","setMaxWidth","setHTML","ReactDOMServer","renderToString","setLngLat","lngLat","addTo","flyTo","lng","lat","curve","speed","getTranslatedPopulationGroup","popGroupOptions","englishPopGroup","result","popGroupWithTranslations","StudyPopup","riskLevel","source_name","serum_pos_prevalence","city","renderOutGeography","geo","trim","g","join","getGeography","denominator_value","antibodyTarget","reduce","previousValue","currentValue","slice","translateAntibodyTargets","cases_per_hundred","full_vaccinations_per_hundred","usePrevious","ref","useRef","current","togglePinBlur","selectedPinId","querySourceFeatures","isBlurred","hover","StudyPins","setSelectedPinId","prevSelectedPinId","hoveredOverId","setHoveredOverId","prevHoveredOverId","flatMap","pin_latitude","pin_longitude","geometry","coordinates","recordsToGeoJsonFeatures","generateSourceFromRecords","getLayer","addSource","addLayer","setData","setFilter","pinPopup","remove","getRecordDetails","getCanvas","cursor","isSelected","mapOnLoad","sourceLayerId","layer","addEsriLayersFromVectorSourceStyle","styleJson","getStyle","moveLayer","workerClass","require","default","accessToken","MapboxMap","mapConfig","countriesConfig","studyPinsConfig","mapContainerRef","setMap","baseMapStyle","mergedOptions","container","m","addControl","NavigationControl","el","updateFilters","updatedFilters","assign","fetchExploreData","clearFilters","getExploreData","InformationIcon","size","tooltip","tooltipHeader","position","popupSize","hoverable","onOpen","popperModifiers","preventOverflow","boundariesElement","trigger","faInfoCircle","Header","SectionHeader","header_text","tooltip_text","tooltip_header","Component","React","Fragment","Handle","mouseOver","onMouseEnter","setState","onMouseLeave","domain","min","max","handle","percent","isActive","disabled","getHandleProps","left","role","aria-valuemin","aria-valuemax","aria-valuenow","backgroundColor","Track","getTrackProps","width","defaultProps","TooltipRail","addEventListener","onMouseMove","removeEventListener","activeHandleID","getEventData","getRailProps","sliderStyle","margin","DateSlider","minPossibleValue","maxPossibleValue","values","onMouseUp","onSliderMove","updatedValues","setUpdatedValues","toDateSinceMinDate","val","getTime","toDateString","getFullYear","getMonth","getDate","step","rootStyle","onUpdate","update","concat","newValues","railProps","handles","right","tracks","Datepicker","earliestPublicationDate","latestPublicationDate","sliderRange","setSliderRange","filterStartDate","filterEndDate","fromDateToNumber","chosenDates","setChosenDates","registerLocale","enUS","fr","de","isStart","newDates","CustomInput","selected","onSelect","dateFormatCalendar","dateFormat","showYearDropdown","yearDropdownItemNumber","scrollableYearDropdown","showMonthDropdown","locale","customInput","onclick","withPortal","closeOnScroll","shouldCloseOnSelect","dropdownMode","todayButton","Filters","filter_type","formatOptions","formatted_options","jsonObjectString","german","alternativeString","addFilter","clearFilter","buildFilterDropdown","Dropdown","multiple","search","clearable","selection","defaultValue","checked","readOnly","Legend","hideLayers","handleLegendToggle","currentTarget","background","Checkbox","outlineWidth","outlineStyle","TotalStats","countries","setNumCountries","numStudies","setNumStudies","n","setN","pageState","b","updateCountryPrevalence","toLocaleString","DownloadButton","letDownload","setLetDownload","buttonLabelKey","downloadLink","formLink","iconName","popupText","clickButton","setItem","Promise","resolve","setTimeout","getButtonLink","airtable","textAlign","airtableLogo","UpdatedAt","Citation","LeftSidebar","airtableDownloadProps","githubDownloadProps","github","Explore","ExploreMobile","showMobileFilters","setShowFilters","showSummary","setShowSummary","showLegend","setShowLegend","handleFilterToggle","showMobile","Sidebar","Pushable","as","Segment","Menu","animation","vertical","direction","visible","faTimes","fontWeight","zIndex","top","Pusher","MaintenanceModal","isOpen","headerText","Modal","closeOnEscape","closeOnDimmerClick","open","initialFilters","showUnityBanner","setShowUnityBanner","mobileModalOpen","setMobileModalOpen","onClose","Actions","Loader","indeterminate","DataButtons","buttons","Data","DataDropdowns","setActiveIndex","handleClick","titleText","newIndex","dropdownContent","entries","TranslateObject","dropdownQuestion","answer","MediaCard","Card","img","faFile","italicize","titleKey1","titleKey2","BiblioDigestCard","screeningStartDate","screeningEndDate","publishDate","serosurveysTotal","serosurveysAFRO","serosurveysEMRO","serosurveysEURO","serosurveysPAHO","serosurveysSEARO","serosurveysWPRO","serosurveysNonMember","sourcesAdded","listOfReports","YearInReview2020","InsuringTheEconomy","BloodBank","PreprintUpdate","listOfResearchArticles","MedRxiv","publicationName","authors","PlosOnePub","LancetId","listOfMediaPublicationsProps","journalQuebec","NYT","theEconomist","cision","mckinsey","joule","taz","UCalgary","HIMSS","forbes","chi","newScientist","marcia","mars","mcgill","waterloo","CITF","oxford","bloomberg","covidend","listOfBiblioDigests","listOfPrivateSectorReports","collection","PublicationsItem","Item","Meta","PrivateReportsCard","Description","Publications","flexDirection","borderTop","getPublicationsItems","getCarousel","publications","publicationsProps","pubCollectionName","slidesToShow","dots","infinite","arrows","slidesToScroll","responsive","breakpoint","settings","sliderSettings","renderCorrectCarousel","PrivacyPolicy","TermsOfUse","CookieBanner","tab","setTab","partnershipDrownDownActive","setPartnershipDrownDownActive","languageDropdownActive","setLanguageDropdownActive","changeLanguages","useLocation","usePageViews","AppTitle","Img","renderPartnershipsDropDownMenu","p","renderLanguageDropDownMenu","renderPartnershipsAccordianContent","handlePartnershipClick","handleLanguageClick","simple","marginLeft","mobileNav","getTabClass","desktopNav","tabName","includes","TableauReport","parameters","initTableau","refreshTimer","clearInterval","nextProps","isReportChanged","isFiltersChanged","shallowequal","compareArrays","isParametersChanged","loading","applyFilters","applyParameters","token","didInvalidateToken","refreshSeconds","setInterval","refresh","bind","promises","cb","all","parsed","parse","query","invalidateToken","_url","protocol","host","tokenizeUrl","REPLACE","Tableau","FilterUpdateType","hasOwnProperty","sheet","applyFilterAsync","onComplete","workbook","changeParameterValueAsync","viz","refreshDataAsync","vizUrl","getUrl","onFirstInteractive","getWorkbook","sheets","getActiveSheet","getWorksheets","onLoad","dispose","Viz","c","TableauEmbed","mobileOptions","desktopOptions","Analyze","getOffsetForGraphNum","ANALYZE_MOBILE_HEIGHT","ANALYZE_DESKTOP_HEIGHT","PartnerShipsMap","partnershipconfig","setRecords","estimateGradePrevalence","setEstimateGradePrevalence","setIsLoading","getCountryPartnershipData","getPartnershipsData","mobileMap","WEBSITE","desktopMap","mapHeight","CanadaPartnership","PageBody","includeMaintenanceModal","Partnerships","useParams","config","partnership","RenderSelectedPartnershipComponent","NewsletterPopup","hidden","setHidden","onClickHandle","visibility","frameBorder","scrolling","App","getAllFilterOptions","handleResize","vh","window","innerHeight","documentElement","setProperty","unityInitialFilters","exact","route","Boolean","hostname","initialize","titleCase","debug","gaOptions","cookieDomain","createBrowserHistory","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.491de655.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/WHO-EN-C-H.92cca4d5.png\";","module.exports = __webpack_public_path__ + \"static/media/1200px-The_Economist_Logo.svg.d48720c3.png\";","module.exports = __webpack_public_path__ + \"static/media/joule.18ac378a.png\";","module.exports = __webpack_public_path__ + \"static/media/mckinsey_logo.f6f0eba5.png\";","module.exports = __webpack_public_path__ + \"static/media/WHO-FR-C-H.e509206a.png\";","module.exports = __webpack_public_path__ + \"static/media/public-health-agency.a1b9e73c.svg\";","module.exports = __webpack_public_path__ + \"static/media/University-Of-Calgary-Logo.ce61287b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/BrokenAb.a9aeed43.gif\";","module.exports = __webpack_public_path__ + \"static/media/airtable-icon.72f20372.svg\";","module.exports = __webpack_public_path__ + \"static/media/YearInReview2020.fd7fe07a.png\";","module.exports = __webpack_public_path__ + \"static/media/IndustryUpdatePre_2020.a93736ac.png\";","module.exports = __webpack_public_path__ + \"static/media/SeroTrackerBloodBank_July_2020.669b184d.png\";","module.exports = __webpack_public_path__ + \"static/media/LancetIDArticle.9c54a7db.png\";","module.exports = __webpack_public_path__ + \"static/media/InsuringTheEconomy.14c5681c.png\";","module.exports = __webpack_public_path__ + \"static/media/PlosOnePub.69693f7a.png\";","module.exports = __webpack_public_path__ + \"static/media/3622.1582633003.73b9602c.png\";","module.exports = __webpack_public_path__ + \"static/media/Bloomberg_Logo.3ee92577.jpg\";","module.exports = __webpack_public_path__ + \"static/media/chi_logo_89px.8628d1b7.png\";","module.exports = __webpack_public_path__ + \"static/media/cision_logo.62e4fbc9.svg\";","module.exports = __webpack_public_path__ + \"static/media/CITF-logo-BIL-700.4149acbd.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Forbes-logo.c6a3b406.png\";","module.exports = __webpack_public_path__ + \"static/media/HIMSSlogo_Hfullcolor_RGB.fdc4df40.png\";","module.exports = __webpack_public_path__ + \"static/media/JournalQuebec_Logo2013-.58cfe948.png\";","module.exports = __webpack_public_path__ + \"static/media/marcia news.18b7513f.png\";","module.exports = __webpack_public_path__ + \"static/media/mars.f902dbfa.jpg\";","module.exports = __webpack_public_path__ + \"static/media/mcgill-university-logo-png-transparent-cropped.46394929.png\";","module.exports = __webpack_public_path__ + \"static/media/New-York-Times-Logo8x6_0.48a0e045.png\";","module.exports = __webpack_public_path__ + \"static/media/oxford.18734b66.jpg\";","module.exports = __webpack_public_path__ + \"static/media/UCalgary.1fe9c1ca.svg\";","module.exports = __webpack_public_path__ + \"static/media/waterloo.31e73eb2.png\";","module.exports = __webpack_public_path__ + \"static/media/covidend-global-logo.40d97435.png\";","module.exports = __webpack_public_path__ + \"static/media/SerotrackerLogo.157d7250.svg\";","export type AirtableRecord = {\n  source_id: string | null;\n  source_name: string | null;\n  lead_organization?: string | null;\n  first_author: string | null;\n  source_type: string | null;\n  test_type: string | null;\n  isotypes_reported: string[] | null;\n  test_manufacturer: string[] | null;\n  sensitivity: number | null;\n  specificity: number | null;\n  country: string | null;\n  state: string[] | null;\n  city: string[] | null;\n  population_group: string | null;\n  sex: string | null;\n  age: string | null;\n  denominator_value: number | null;\n  serum_pos_prevalence: number | null;\n  publish_date: string[] | string | null;\n  publisher: string | null;\n  overall_risk_of_bias: string | null;\n  pin_latitude: number;\n  pin_longitude: number;\n  pin_region_type: string | null;\n  study_type: string | null;\n  sampling_method: string | null;\n  sampling_start_date: string | null;\n  sampling_end_date: string | null;\n  summary: string | null;\n  url: string | null;\n  estimate_grade: string | null;\n  vaccination_policy: number | null;\n  full_vaccinations_per_hundred: number | null;\n  cases_per_hundred: number | null;\n  antibody_target: string[] | null;\n};\n\nexport type AggregatedRecord = {\n  error: number[];\n  n: number;\n  name: string;\n  numStudies: number;\n  seroprevalence: number;\n};\n\nexport type FiltersConfig = {\n  source_type: string[];\n  test_type: string[];\n  country: string[];\n  population_group: Record<string, string>[];\n  sex: string[];\n  age: string[];\n  overall_risk_of_bias: string[];\n  isotypes_reported: string[];\n  antibody_target: string[],\n  publish_date: Date[];\n  estimate_grade: string[];\n  unity_aligned_only: boolean;\n};\n\nexport type StudiesFilters = {\n  country: any;\n};\n\nexport type FilterType =\n  | \"country\"\n  | \"population_group\"\n  | \"sex\"\n  | \"age\"\n  | \"test_type\"\n  | \"source_type\"\n  | \"overall_risk_of_bias\"\n  | \"isotypes_reported\"\n  | \"antibody_target\"\n  | \"estimate_grade\"\n  | \"unity_aligned_only\";\n\nexport enum LanguageType {\n  french = \"fr\",\n  english = \"en\",\n  german = \"de\",\n}\n\nexport enum PageStateEnum {\n  // TODO: replace analyze with data here\n  // once our data page uses filters\n  explore = \"explore\",\n}\n\nexport type State = {\n  chartAggregationFactor: AggregationFactor;\n  explore: PageState;\n  allFilterOptions: FiltersConfig;\n  updatedAt: string;\n  calendarStartDates: StartDates;\n  language: LanguageType;\n  showCookieBanner: boolean;\n  pulsateUnityFilter: boolean;\n};\n\nexport type StartDates = {\n  minDate: Date;\n  maxDate: Date;\n};\n\nexport type NavHashes = { \n  Explore: string[];\n  Analyze: string[];\n  Data: string[];\n  Publications: string[];\n  About: string[]; \n}\n\nexport type LegendLayersEnum = {\n  National: \"National\",\n  Regional: \"Regional\",\n  Local: \"Local\",\n}\n\nexport type LegendLayers = {\n  National: boolean;\n  Regional: boolean;\n  Local: boolean;\n}\n\nexport type PageState = {\n  filters: FiltersConfig;\n  records: AirtableRecord[];\n  isLoading: boolean;\n  estimateGradePrevalences: EstimateGradePrevalence[];\n  legendLayers: LegendLayers;\n};\n\nexport type CountriesMapConfig = {\n  estimateGradePrevalences?: EstimateGradePrevalence[];\n  countryFocus?: string;\n}\n\nexport type StudyPinsMapConfig = {\n  records: AirtableRecord[];\n}\n\nexport type EstimateGradePrevalence = {\n  testsAdministered: number;\n  geographicalName: string;\n  alpha3Code: string;\n  numberOfStudies: number;\n  localEstimate?: RegionalPrevalenceEstimate;\n  nationalEstimate?: RegionalPrevalenceEstimate;\n  regionalEstimate?: RegionalPrevalenceEstimate;\n  sublocalEstimate?: RegionalPrevalenceEstimate;\n};\n\nexport type RegionalPrevalenceEstimate = {\n  maxEstimate: number;\n  minEstimate: number;\n  numEstimates: number;\n};\n\nexport type Partnerships = { \n  [key: string]: Partnership \n};\n\nexport type Partnership = {\n  iso3: string;\n  routeName: string,\n  tableauKey: string;\n  tableauUrl: { [language: string]: string }\n  mapboxMapOptions: any\n};\n\nexport type PartnershipMapOptions = {\n/**\n * Bounds represent the initial extent of the map by 2 coordinates\n * The first coordinate is the Southwest extent\n * The second coordinate is the Northeast extent\n */\n  bounds?: [[number, number],[number, number]],\n  /**\n * maxBounds represents the hard limit to map extent, users cannot move past these\n */\n  maxBounds?: [[number, number],[number, number]],\n};\n\nexport enum AggregationFactor {\n  country = \"country\",\n  population_group = \"population_group\",\n  sex = \"sex\",\n  age = \"age\",\n  test_type = \"test_type\",\n  source_type = \"source_type\",\n  overall_risk_of_bias = \"overall_risk_of_bias\",\n  isotypes_reported = \"isotypes_reported\",\n}\n\n\nexport type publicationCarouselCollectionNames = \"Media\" | \"BiblioDigest\" | \"PrivateReports\"\n\nexport enum IconName {\n  airtable = \"\",\n  github = \"github\"\n}\n\n","export const mobileDeviceOrTabletWidth = 1200;\r\nexport const mobileDeviceWidth = 600;\r\nexport const isMaintenanceMode = false;\r\nexport const mapZIndex = {\r\n    CountriesTileLayer: 50,\r\n    DisputedAreasAndBorders: 70,\r\n    Labels: 800\r\n}\r\n\r\nexport const ANALYZE_URLS = {\r\n    \"en\": \"https://public.tableau.com/views/SeroTrackerAnalyzeEN/GlobalAnalyze?:language=en-US&:display_count=n&:origin=viz_share_link\",\r\n    \"fr\": \"https://public.tableau.com/views/SeroTrackerAnalyseFR/GlobalAnalyse?:language=en-US&publish=yes&:display_count=n&:origin=viz_share_link\",\r\n    \"de\": \"https://public.tableau.com/views/SeroTrackerAnalyseDE/GlobalAnalyse?:language=de-DE&publish=yes&:display_count=n&:origin=viz_share_link\"\r\n}\r\nexport const CANADA_URLS = {\r\n    \"en\": \"https://public.tableau.com/views/CanadaEN/Canadiancharts?:language=en-US&publish=yes&:display_count=n&:origin=viz_share_link\",\r\n    \"fr\": \"https://public.tableau.com/views/CanadaFR/Canadiancharts?:language=en-US&:display_count=n&:origin=viz_share_link\"\r\n}\r\n\r\n\r\nexport const PAGES = {\r\n    Explore: \"Explore\",\r\n    Analyze: \"Analyze\",\r\n    Data: \"Data\",\r\n    Publications: \"Publications\",\r\n    About: \"About\"\r\n}\r\n\r\nexport const PAGE_HASHES = {\r\n    [PAGES.Explore]: {\r\n        Map: \"Map\",\r\n    },\r\n    [PAGES.Analyze]: {\r\n        ByCountry: \"ByCountry\",\r\n        ByPopulation: \"ByPopulation\",\r\n        AdditionalGraphs: \"AdditionalGraphs\"\r\n    },\r\n    [PAGES.Data]: {\r\n        DataDictionary: \"DataDictionary\",\r\n        ChangeLog: \"ChangeLog\",\r\n        SubmitSource: \"SubmitSource\",\r\n        DownloadCsv: \"DownloadCsv\",\r\n        AccessGithub: \"AccessGithub\",\r\n        FAQ: \"FAQ\",\r\n        DataTable: \"DataTable\"\r\n\r\n    },\r\n    [PAGES.Publications]: {\r\n        ResearchArticles: \"ResearchArticles\",\r\n        GeneralSerotrackerCommunications: \"GeneralSerotrackerCommunications\",\r\n        BiblioDigests: \"BiblioDigests\",\r\n        PrivateSectorReports: \"PrivateSectorReports\",\r\n        MediaMentions: \"MediaMentions\"\r\n    },\r\n    [PAGES.About]: {\r\n        ContactUs: \"ContactUs\",\r\n        Team: \"Team\"\r\n    }\r\n}\r\n","import _ from \"lodash\";\r\n\r\nexport const toPascalCase = (str: string) => _.upperFirst(_.camelCase(str));","import { formatISO, add } from \"date-fns\";\r\nimport Translate from 'utils/translate/translateService';\r\nimport { LanguageType } from \"../types\";\r\nimport { compareAsc } from \"date-fns\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nlet language = LanguageType.english;\r\n\r\nexport const setLanguage = (newLanguage: LanguageType) => {\r\n  language = newLanguage;\r\n}\r\n\r\nexport const formatDates = (dates: Array<Date> | null) => {\r\n  let endDate = formatISO(new Date());\r\n  let startDate = formatISO(add(new Date(endDate), { years: -2 }));\r\n  if (dates) {\r\n    const dateList = Array.from(dates);\r\n    if (compareAsc(dateList[0], dateList[1]) === 1) {\r\n      dateList.reverse();\r\n    }\r\n    endDate = dateList[1] ? formatISO(dateList[1] as Date) : endDate;\r\n    startDate = dateList[0] ? formatISO(dateList[0] as Date) : startDate;\r\n\r\n  }\r\n  return [startDate, endDate]\r\n}\r\n\r\nexport const getGeography = (city: string[] | null | undefined, state: string[] | null | undefined, country: string | null) => {\r\n  if (!country) {\r\n    return Translate(\"Not Reported\");\r\n  }\r\n\r\n  function renderOutGeography(geo: string[] | string | null | undefined) {\r\n    if (!geo || geo.length === 0) {\r\n      return \"\"\r\n    }\r\n    if (typeof geo === \"string\"){\r\n      return geo.trim() + \", \"\r\n    }\r\n    else {\r\n      const geoTrimmed = geo.map((g) => g.trim())\r\n      return geoTrimmed.join(\", \") + \", \";\r\n    }\r\n  }\r\n\r\n  return \"\" + renderOutGeography(city) + renderOutGeography(state)  + country\r\n}\r\n\r\nexport const getMapboxLatitudeOffset = (map: mapboxgl.Map | undefined) => {\r\n  // Map seems to zoom in in powers of 2, so reducing offset by powers of 2 keeps the modal apprximately\r\n  // in the same center everytime\r\n  if(map){\r\n    // offset needs to reduce exponentially with zoom -- higher zoom x smaller offset\r\n    let mapZoom = map.getZoom();\r\n\r\n    return 80/(Math.pow(2, mapZoom))\r\n  }\r\n  return 0\r\n}\r\n\r\nexport const withLocaleUrl = (path: string) => {\r\n  return `/${language}/${path}`;\r\n}\r\n\r\nexport const translateAntibodyTargets = (antibodyTarget: string | string[]) => {\r\n  if (typeof antibodyTarget == \"string\") {\r\n    return Translate(\"AntibodyTargetOptions\", [antibodyTarget.replace(/\\s/g, \"\")])\r\n  }\r\n  else {\r\n    const initialValue = \"\"\r\n    let returnString = antibodyTarget.reduce((previousValue, currentValue) => previousValue\r\n        + Translate(\"AntibodyTargetOptions\", [currentValue.replace(/\\s/g, \"\")]) + \", \", initialValue)\r\n    return returnString.slice(0, -2)\r\n  }\r\n}","import { LanguageType } from \"../../types\";\n\nimport * as Countries from \"i18n-iso-countries\";\nimport EnglishCountries from \"i18n-iso-countries/langs/en.json\";\nimport FrenchCountries from \"i18n-iso-countries/langs/fr.json\";\nimport GermanCountries from 'i18n-iso-countries/langs/de.json'\n\nimport English from \"./en.json\";\nimport French from \"./fr.json\";\nimport German from './de.json'\nimport { toPascalCase } from \"./caseChanger\";\nimport { setLanguage } from \"../utils\";\n\ninterface TranslateStringProps {\n  text: string;\n}\n\n// Recursive Typings for nested JSON objects\ntype JsonRecord<T> = Record<string, T | string>;\ninterface Json extends JsonRecord<Json> {}\n\nCountries.registerLocale(EnglishCountries);\nCountries.registerLocale(FrenchCountries);\nCountries.registerLocale(GermanCountries);\n\nconst translations = {\n  \"en\": English,\n  \"fr\": French,\n  \"de\": German\n}\n\nexport const getCountryName = (\n  country: string,\n  language: LanguageType,\n  optionString: string\n) => {\n  const code = Countries.getAlpha2Code(country, \"en\"); //TODO: Review our strategy for country name language localization\n  const translatedCountryName = Countries.getName(code, language);\n  const displayText = translatedCountryName\n    ? translatedCountryName\n    : Translate(optionString, [toPascalCase(country)]) || country;\n  return displayText;\n};\n\nconst recursiveFind = (object: any, keys: string[], index: number): string => {\n  const key = keys[index];\n  const nextObj = object[key];\n\n  if (index + 1 === keys.length) {\n    return nextObj;\n  }\n  return recursiveFind(nextObj, keys, index + 1);\n};\n\nlet language: LanguageType = LanguageType.english;\n\nexport const getLanguageType = () => {\n  return language;\n}\n\nexport const setLanguageType = (newLanguage: LanguageType) => {\n  setLanguage(newLanguage);\n  language = newLanguage;\n};\n\n/**\n * Used to translate JSON based on language and return a string\n * @param text\n * @param specifier\n * @param substitution\n * @param addSpaces\n * @returns string\n */\nexport default function Translate(\n  text: string,\n  specifier: string[] | null = null,\n  substitution: Record<string, string | number> | null = null,\n  addSpaces: [boolean, boolean] | null = null\n): string {\n  let translationDictionary: Json = translations[language] as Json;\n\n  try {\n    let translatedString = translationDictionary[text];\n\n    if (!translatedString) {\n      return specifier ? specifier[specifier.length - 1] : text;\n    }\n\n    if (specifier) {\n      translatedString = recursiveFind(translatedString, specifier, 0);\n    }\n\n    if (substitution) {\n      Object.keys(substitution).forEach((key) => {\n        const value = substitution[key];\n        const replace = new RegExp(key, \"g\");\n        translatedString = (translatedString as string).replace(\n          replace,\n          `${value}`\n        );\n      });\n    }\n\n    if (addSpaces && addSpaces[0]) {\n      translatedString = \" \" + translatedString;\n    }\n\n    if (addSpaces && addSpaces[1]) {\n      translatedString += \" \";\n    }\n    return translatedString as string;\n  } catch (e) {\n    return `No translation for string ${text}`;\n  }\n}\n\n/**\n * Used to translate JSON based on language and return an object\n * @param text\n * @returns object\n */\nexport function TranslateObject(text: string): object {\n\n  let translationDictionary: Json = translations[language] as Json;\n\n  try {\n    return translationDictionary[text] as object;\n  } catch (e) {\n    return { error: `No translation object for string ${text}` };\n  }\n}\n\n/**\n * Used to translate and localize dates\n * @param dateString with format `{YYYY-MM-DD}T{HH:MM:SS}`\n * @returns string\n */\n export function TranslateDate(dateString: string): string {\n\n  const dateTimeFormat = new Intl.DateTimeFormat(language, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n  });\n  \n  return dateTimeFormat.format(new Date(dateString))\n}\n","import React, { createContext, Dispatch, useReducer } from \"react\";\nimport { AggregationFactor, FiltersConfig, FilterType, LanguageType, PageState, State } from \"./types\";\n\nexport const AppContext = createContext({} as [State, Dispatch<Record<string, any>>]);\n\nconst initialMinDate = new Date(2019, 1, 1, 1);\nconst initialMaxDate = new Date();\n\nexport function getEmptyFilters(): FiltersConfig {\n  return {\n    source_type: [],\n    test_type: [],\n    country: [],\n    population_group: [],\n    sex: [],\n    age: [],\n    overall_risk_of_bias: [],\n    isotypes_reported: [],\n    antibody_target: [],\n    publish_date: [initialMinDate, initialMaxDate],\n    estimate_grade: [],\n    unity_aligned_only: false\n  };\n}\n\n// Note: filters = elements that user has chosen to filter by\n// filter_options = all the elements that users could filter by\nconst initialState: State = {\n  chartAggregationFactor: AggregationFactor.country,\n  explore: {\n    filters: getEmptyFilters(),\n    records: [],\n    estimateGradePrevalences: [],\n    isLoading: false,\n    legendLayers: {\n      National: true,\n      Regional: true,\n      Local: true,\n    },\n  },\n  // TODO: replace this with an obj\n  // representing the data page once\n  // we put filters there\n  allFilterOptions: getEmptyFilters(),\n  calendarStartDates: {\n    // Important, the fact that we use an hour here tells us that we are using a default value\n    minDate: initialMinDate,\n    maxDate: initialMaxDate,\n  },\n  language: LanguageType.english,\n  updatedAt: \"\",\n  showCookieBanner: false,\n  pulsateUnityFilter: false,\n};\n\nconst reducer = (state: State, action: Record<string, any>): State => {\n  switch (action.type) {\n    case \"CLOSE_COOKIE_BANNER\":\n      return {\n        ...state,\n        showCookieBanner: false,\n      };\n    case \"OPEN_COOKIE_BANNER\":\n      return {\n        ...state,\n        showCookieBanner: true,\n      };\n    case \"UPDATE_ESTIMATE_PREVALENCES\": {\n      const { pageStateEnum, estimateGradePrevalences } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.estimateGradePrevalences = estimateGradePrevalences;\n      return newState;\n    }\n    case \"SELECT_LANGUAGE\":\n      return {\n        ...state,\n        language: action.payload,\n      };\n    case \"GET_ALL_FILTER_OPTIONS\":\n      return {\n        ...state,\n        allFilterOptions: action.payload,\n      };\n    case \"GET_AIRTABLE_RECORDS\": {\n      const { pageStateEnum, records } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.records = records;\n      return newState;\n    }\n    case \"UPDATED_AT\":\n      return {\n        ...state,\n        updatedAt: action.payload,\n      };\n    case \"UPDATE_FILTER\": {\n      const { pageStateEnum, filterType, filterValue } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.filters[filterType as FilterType] = filterValue;\n      return newState;\n    }\n    case \"UPDATE_ALL_FILTERS\": {\n      const { pageStateEnum, newFilters } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.filters = newFilters;\n      return newState;\n    }\n    case \"CLEAR_ALL_FILTERS\": {\n      const { pageStateEnum } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.filters = getEmptyFilters();\n      return newState;\n    } \n    case \"MAX_MIN_DATES\":\n      const { minDate, maxDate } = action.payload;\n      return {\n        ...state,\n        calendarStartDates: {\n          minDate,\n          maxDate,\n        },\n      };\n    case \"CHANGE_LOADING\": {\n      const { pageStateEnum, isLoading } = action.payload;\n      const newState = { ...state };\n      const pageState = newState[pageStateEnum as keyof State] as PageState;\n      pageState.isLoading = isLoading;\n      return newState;\n    }\n    case \"UPDATE_AGGREGATION_FACTOR\":\n      return { ...state, chartAggregationFactor: action.payload };\n    case \"TOGGLE_NATIONAL_PIN_LAYER\": {\n      return {\n        ...state,\n        explore: {\n          ...state.explore,\n          legendLayers: {\n            ...state.explore.legendLayers,\n            National: !state.explore.legendLayers.National,\n          },\n        },\n      };\n    }\n    case \"TOGGLE_REGIONAL_PIN_LAYER\": {\n      return {\n        ...state,\n        explore: {\n          ...state.explore,\n          legendLayers: {\n            ...state.explore.legendLayers,\n            Regional: !state.explore.legendLayers.Regional,\n          },\n        },\n      };\n    }\n    case \"TOGGLE_LOCAL_PIN_LAYER\": {\n      return {\n        ...state,\n        explore: {\n          ...state.explore,\n          legendLayers: {\n            ...state.explore.legendLayers,\n            Local: !state.explore.legendLayers.Local,\n          },\n        },\n      };\n    }\n    case \"SET_UNITY_FILTER_PULSATE\": {\n      return {\n        ...state,\n        pulsateUnityFilter: action.payload\n      }\n    }\n    default:\n      return state;\n  }\n};\n\nexport const AppContextProvider = (props: Record<string, any>) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <AppContext.Provider value={[state, dispatch]}>\n      {props.children}\n    </AppContext.Provider>\n  );\n};\n","import { Location, LocationListener, UnregisterCallback } from 'history'\r\nimport { useEffect } from 'react'\r\nimport ReactGA from 'react-ga'\r\nimport { useHistory } from 'react-router-dom'\r\nimport _ from \"lodash\";\r\nimport { FiltersConfig, FilterType } from \"../types\";\r\nimport { getEmptyFilters } from \"../context\"\r\n\r\nconst sendPageView: LocationListener = (location: Location): void => {\r\n  ReactGA.set({ page: location.pathname })\r\n  ReactGA.pageview(location.pathname)\r\n}\r\ninterface eventSenderProps {\r\n  /** Typically the object that was interacted with (e.g. 'Video') */\r\n  category: string,\r\n  /** The type of interaction (e.g. 'play') */\r\n  label: string,\r\n  /** Useful for categorizing events (e.g. 'Fall Campaign') */\r\n  action: string\r\n}\r\n\r\nexport const sendAnalyticsEvent = (props: eventSenderProps) => {\r\n  const cookieAcceptance = localStorage.getItem('acceptedCookies');\r\n  if (cookieAcceptance) {\r\n    ReactGA.event(props);\r\n  }\r\n}\r\n\r\n// Send filters analytics event if filters have been updated\r\nexport const sendFiltersAnalyticsEvent = (newFilters: FiltersConfig) => {\r\n  // Only send event if they are\r\n  const defaultFilters = getEmptyFilters();\r\n  if(!_.isEqual(newFilters, defaultFilters)){\r\n    // Construct label string\r\n    // Format: \"FilterTypeA - OptionA,OptionB; FilterTypeB - OptionA,OptionB\"\r\n    // Filter types and options within filter types should be listed in alpha order\r\n    // to ensure that the same filter combination always shows up as the same event on GA\r\n    let labelString = \"\";\r\n    Object.keys(newFilters).sort().forEach(key => {\r\n      const filterOptions = newFilters[key as FilterType];\r\n      // Handle single/multi select filters\r\n      if(Array.isArray(filterOptions)){\r\n        if(!_.isEqual(filterOptions, defaultFilters[key as FilterType])){\r\n          labelString += `${key.toString()} - ${filterOptions.sort()};`\r\n        }\r\n      }\r\n      // Handle checkbox filters\r\n      // we only want to log that a checkbox filter was used \r\n      // if it = true (i.e. it was applied)\r\n      else if(filterOptions === true){\r\n        labelString += `${key.toString()};`\r\n      }\r\n    });\r\n    sendAnalyticsEvent({\r\n      category: 'Filter',\r\n      action: 'selection',\r\n      label: labelString\r\n    })\r\n  }\r\n}\r\n\r\n// `sendFilterAnalyticsEvent` will overreport the number of times \r\n// the Unity filter was applied (it gets called whenever any of the filters change)\r\n// so we need to track when the Unity filter was hit specifically through another event\r\nexport const sendUnityAnalyticsEvent = () => {\r\n  sendAnalyticsEvent({\r\n    category: 'WHO Unity Filter',\r\n    action: 'checked',\r\n    label: \"\"\r\n  })\r\n}\r\n\r\ninterface Props {\r\n  children: JSX.Element;\r\n}\r\nconst GAListener = ({ children }: Props): JSX.Element => {\r\n  const isDev = process.env.NODE_ENV === \"development\";\r\n  const history = useHistory()\r\n  useEffect((): UnregisterCallback | void => {\r\n    sendPageView(history.location, 'REPLACE')\r\n    return history.listen(sendPageView)\r\n  }, [history, isDev])\r\n\r\n  return children\r\n}\r\n\r\nexport default GAListener","import React, { useContext, useEffect, useState } from \"react\";\nimport { AppContext } from \"context\";\nimport { LanguageType } from \"types\";\nimport WhoLogoEn from \"assets/images/WHO-EN-C-H.png\";\nimport WhoLogoFr from \"assets/images/WHO-FR-C-H.png\";\n\n// Note: Consider abstracting this component into a generic TranslationImage and passing the image resource in as props if \n// more images need to be translated in the future.\n\ninterface WhoLogoProps {\n    className?: string | undefined;\n    height?: string;\n}\n\nconst WhoLogo = (props :  WhoLogoProps) => {\n  const [state] = useContext(AppContext);\n  const [imgLanguageResource, setImgLanguageResource] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    // uses a switch statement so we can support more languages in the future if needed\n    switch (state.language) {\n      case LanguageType.english:\n            setImgLanguageResource(WhoLogoEn);\n        break;\n      case LanguageType.french:\n            setImgLanguageResource(WhoLogoFr);\n        break;\n      default:\n        setImgLanguageResource(WhoLogoEn);\n    }\n  }, [state.language]);\n\n  return <img src={imgLanguageResource} className={props?.className} alt=\"World Health Organization\" height={props.height}></img>;\n};\n\nexport default WhoLogo;\n","import React, {useState} from \"react\";\nimport {Input} from \"semantic-ui-react\";\n// import {google} from \"googleapis\";\n\nexport default function NewsletterEmailInput() {\n    const url = `https://sheets.googleapis.com/v4/spreadsheets/1g81L58QA0gu0zeNBTO52Ebnzjh-EwIJy2ydJOXDqAfw/values/Sheet1!A1:C1:append?valueInputOption=USER_ENTERED`\n    const emailRegex = \"^(([^<>()[\\\\]\\\\\\\\.,;:\\\\s@\\\"]+(\\\\.[^<>()[\\\\]\\\\\\\\.,;:\\\\s@\\\"]+)*)|(\\\".+\\\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\])|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$\"\n    const [newsletterEmail, setNewsletterEmail] = useState(\"\");\n    const [invalidEntry, setInvalidEntry] = useState(false);\n\n    const clientId = \"702218053502-fcrju4976lt0p1dntbln2qdolo72qjki.apps.googleusercontent.com\"\n    const clientSecret = \"d_czX--a8VT3JYOy3tw1ET0b\"\n    const refreshToken = \"1//0deroSpHjRem7CgYIARAAGA0SNwF-L9Ir-WddqsdH71PPLoNMC2Ie_Ac24x7A-_gD9t1wsZN_wVg2CRMJlnK-imdNvTfy_eJG2nE\"\n\n    const handleNewsletterSubmit = () => {\n        if(newsletterEmail.match(emailRegex)){\n            fetch(\"https://sheet.best/api/sheets/63b3e9c5-bf7d-4e7d-880b-b65923a84db5\", {\n                method: \"POST\",\n                mode: \"cors\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({Email: newsletterEmail}),\n            })\n                .then((r) => r.json())\n                .then((data) => {\n                    // The response comes here\n                    console.log(data);\n                    alert(newsletterEmail + \" has been signed up for newletters\");\n                    setNewsletterEmail(\"\");\n                })\n                .catch((error) => {\n                    // Errors are reported there\n                    console.log(error);\n                });\n        }\n        else {\n            alert(\"INVALID EMAIL: Please enter a valid email\")\n            setInvalidEntry(true);\n        }\n    }\n\n    return (\n        <>\n            <h5 className={\" text-left mb-2\"}>{\"SEROTRACKER NEWSLETTER\"}</h5>\n            <p className={\"text-left\"}>Monthly summaries of recent seroprevalence literature and product updates</p>\n            <Input\n                action={{content: \"Sign Up\", onClick: handleNewsletterSubmit, color: \"blue\"}}\n                placeholder={\"example@somecompany.ext\"}\n                value={newsletterEmail}\n                className={\"w-100 align-self-end\"}\n                type={\"email\"}\n                error={invalidEntry}\n                onChange={(event) => setNewsletterEmail(event.target.value)}\n            />\n        </>\n    )\n}","import React, { useContext, useState } from 'react'\nimport { useMediaQuery } from 'react-responsive'\nimport { Link } from 'react-router-dom'\nimport { HashLink } from 'react-router-hash-link';\nimport {Accordion, Icon, Input} from 'semantic-ui-react'\nimport { mobileDeviceOrTabletWidth } from '../../../constants'\nimport Translate, {TranslateDate} from '../../../utils/translate/translateService'\nimport { AppContext } from \"../../../context\"\nimport { withLocaleUrl } from \"../../../utils/utils\";\nimport { PAGE_HASHES } from '../../../constants'\nimport WhoLogo from \"components/shared/WhoLogo\";\nimport HealthAgencyLogo from 'assets/images/public-health-agency.svg';\nimport UcalgaryLogo from 'assets/images/University-Of-Calgary-Logo.png';\nimport AmcJoule from 'assets/images/amc-joule.png';\nimport './Footer.scss';\nimport NewsletterEmailInput from \"./NewsletterEmailInput\";\n\ntype UpdatedAtProps = {\n  updatedAt: string;\n}\n//TODO: update footer design for mobile\nexport const Footer = () => {\n  const [{updatedAt}] = useContext(AppContext);\n\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth });\n\n  return isMobileDeviceOrTablet ? renderMobileFooter(updatedAt) : renderDesktopFooter()\n}\n\nconst renderDesktopFooter = () => {\n\n    return (\n          <footer className={'container-fluid mx-0 pt-4 footer'}>\n              <div className=\"row justify-content-center mt-3\">\n                <div className=\"col-10\">\n                  <div className=\"row\">\n                      <div className={\"col-8\"}>\n                          <div className=\"row\">\n                            <PageLinks/>\n                          </div>\n                      </div>\n                      <div className={\"col\"}>\n                          <h5 className={\"mb-2\"}>MAP DISCLAIMER</h5>\n                          <WhoDisclaimer/>\n                      </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"row justify-content-center mt-5\">\n                <div className=\"col-10\">\n                    <div className=\"row\">\n                        <div className={\"col-8\"}>\n                            {\n                                //TODO: translations for this and above\n                            }\n                            <h5 className={\"mb-2\"}>OUR AFFILIATIONS</h5>\n                            <div className=\"footer__sponsers-pill\">\n                                <Sponsers/>\n                            </div>\n                        </div>\n                        <div className={\"col d-flex flex-column\"}>\n                            <NewsletterEmailInput />\n                        </div>\n                    </div>\n                </div>\n              </div>\n              <div className=\"row justify-content-center py-5 text-center\">\n                  <Link className=\"footer__link px-1\" to={withLocaleUrl(\"PrivacyPolicy\")}>{Translate('PrivacyPolicy')}</Link>\n                |\n                  <Link className=\"footer__link px-1\" to={withLocaleUrl(\"CookiePolicy\")}>{Translate('CookiePolicy')}</Link>\n                |\n                  <Link className=\"footer__link px-1\" to={withLocaleUrl(\"TermsOfUse\")}>{Translate('TermsOfUse')}</Link>\n              </div>\n          </footer>\n)}\n\nconst renderMobileFooter = (updatedAt: string) => (\n  <footer className={'container-fluid mx-0 footer'}>\n      <div className=\"row justify-content-center mt-5\">\n        <div className=\"col-10 \">\n          <MobilePageLinks />\n        </div>\n      </div>\n      <div className=\"row justify-content-center mt-5\">\n        <div className=\"col-8\">\n          <div className=\"footer__sponsers-pill row\">\n            <Sponsers/>\n          </div>\n          <WhoDisclaimer/>\n        </div>\n      </div>\n      <div className=\"row justify-content-center mt-5 pb-5 text-center\">\n        <div>\n          <Link className=\"footer__link px-1\" to={withLocaleUrl(\"PrivacyPolicy\")}>{Translate('PrivacyPolicy')}</Link>\n        </div>\n        |\n        <div>\n          <Link className=\"footer__link px-1\" to={withLocaleUrl(\"CookiePolicy\")}>{Translate('CookiePolicy')}</Link>\n        </div>\n        |\n        <div>\n          <Link className=\"footer__link px-1\" to={withLocaleUrl(\"TermsOfUse\")}>{Translate('TermsOfUse')}</Link>\n        </div>\n      </div>\n    </footer>\n)\n\n\nconst UpdatedAt = ({updatedAt}: UpdatedAtProps) => {\n  // only renders 'last updated' when we have a valid date\n  return updatedAt ? (\n  <span className='pr-2'>\n    {Translate(\"Footer\", [\"LastUpdated\"])}: <b className='updated-at-bold'>{TranslateDate(updatedAt)}</b>\n  </span>\n  ): null\n}\n\nconst WhoDisclaimer = () => (\n  <p className=\"whoDisclaimer\">\n    {Translate('WhoSerotrackAndPartnersDisclaimerSmall')}\n  </p>\n)\n\nexport const Sponsers = () => (\n  <div className=\"d-flex justify-content-around row\">\n    <a href=\"https://www.covid19immunitytaskforce.ca/\" target=\"__blank\" rel=\"noopener noreferrer\" className=\"footer__image-wrapper col-lg-auto justify-content-center\">\n      <img src=\"https://www.covid19immunitytaskforce.ca/wp-content/themes/pena-lite-child/CITF_logo_ENG.svg\" className=\"footer__image d-flex\" alt=\"COVID-19 Immunity Task Force Logo\"></img>\n    </a>\n    <a href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\" target=\"__blank\" rel=\"noopener noreferrer\" className=\"footer__image-wrapper col-lg-auto justify-content-center\">\n      <img src={UcalgaryLogo} className=\"footer__image d-flex\" alt=\"Centre for Health Informatics\"></img>\n    </a>\n    <a href=\"https://www.canada.ca/en/public-health.html/\" target=\"__blank\" rel=\"noopener noreferrer\" className=\"footer__image-wrapper col-lg-auto justify-content-center\">\n      <img src={HealthAgencyLogo} className=\"footer__image d-flex\" alt=\"Public Health Agency Logo\"></img>\n    </a>\n    <a href=\"https://www.who.int/\" target=\"__blank\" rel=\"noopener noreferrer\" className=\"footer__image-wrapper col-lg-auto justify-content-center\">\n      <WhoLogo className=\"footer__image d-flex\" />\n    </a>\n    <a href=\"https://joulecma.ca/\" target=\"__blank\" rel=\"noopener noreferrer\" className=\"footer__image-wrapper col-lg-auto justify-content-center\">\n      <img src={AmcJoule} className=\"footer__image d-flex\" alt=\"CMA Joule\"></img>\n    </a>\n  </div>\n)\n\nconst PageLinks = () => (\n\n  <div className=\"d-flex flex-row justify-content-between w-100\" style={{maxHeight: \"360px\"}}>\n    {\n      Object.keys(PAGE_HASHES).map((page) => {\n        return(\n        <div className=\"d-flex flex-column flex-1 mr-1\" style={{flexGrow: 1, flexBasis: 0}}>\n          <h5>{Translate(page).toUpperCase()}</h5>\n          {\n          Object.keys(PAGE_HASHES[page]).map(h => (\n          <HashLink to={`${withLocaleUrl(page)}#${h}`} className=\"mt-2 footer__link\">\n            {Translate(h)}\n          </HashLink>))\n          }\n        </div>)})\n    }\n  </div>)\n\nconst MobilePageLinks = () => {\n  const [activeIndex, setIndex] = useState(0);\n\n  return (<Accordion fluid styled className='footer-accordion'>\n    {\n      Object.keys(PAGE_HASHES).map((page, i) => {\n        return(\n          <>\n          <Accordion.Title\n            className='footer accordion__title footer__link'\n            active={activeIndex === i}\n            index={i}\n            onClick={\n              ()=>setIndex(i)\n            }\n          >\n            <Icon name='dropdown' />\n            {Translate(page)}\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === i}>\n            {\n            Object.keys(PAGE_HASHES[page]).map(h => (\n              <HashLink to={`${withLocaleUrl(page)}#${h}`} className=\"row mt-3 footer__link\">\n                {Translate(h)}\n              </HashLink>))\n            }\n          </Accordion.Content>\n          </>)})\n    }\n  </Accordion>)\n  }","import { faLinkedin, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { mobileDeviceOrTabletWidth, PAGE_HASHES } from \"../../constants\";\nimport Translate from \"../../utils/translate/translateService\";\nimport WhoLogo from \"components/shared/WhoLogo\";\nimport \"./static.css\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport {Sponsers} from \"../shared/Footer/Footer\"\nimport HealthAgencyLogo from \"../../assets/images/public-health-agency.png\";\nimport UcalgaryLogo from \"../../assets/images/University-Of-Calgary-Logo.png\";\n\nexport default function About() {\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxWidth: mobileDeviceOrTabletWidth,\n  });\n\n  const selectItem = (label: string, name: string) => {\n    sendAnalyticsEvent({\n      category: \"Social Media Link\",\n      action: \"click\",\n      label: `${label} - ${name}`,\n    });\n  };\n\n  const selectLink = (link: string) => {\n    sendAnalyticsEvent({\n      category: \"About Page Link\",\n      action: \"click\",\n      label: link,\n    });\n  };\n\n  function renderBioBlock(\n    name: string,\n    description: string[],\n    linkedIn: string | null = null,\n    email: string | null = null,\n    twitter: string | null = null\n  ) {\n    return (\n      <div>\n        <b>{name}</b>\n        <br />\n        {description.map((line) => {\n          return (\n            <div key={line}>\n              {line}\n              <br />\n            </div>\n          );\n        })}\n        {linkedIn ? (\n          <a href={linkedIn} onClick={() => selectItem(\"LinkedIn\", name)} target=\"_blank\" rel=\"noopener noreferrer\">\n            <FontAwesomeIcon icon={faLinkedin} className=\"mr-2 linked-in\" />\n          </a>\n        ) : null}\n        {twitter ? (\n          <a href={twitter} onClick={() => selectItem(\"Twitter\", name)} target=\"_blank\" rel=\"noopener noreferrer\">\n            <FontAwesomeIcon icon={faTwitter} className=\"mr-2 twitter\" />\n          </a>\n        ) : null}\n        {email ? (\n          <a href={`mailto:${email}`} onClick={() => selectItem(\"Email\", name)}>\n            <FontAwesomeIcon icon={faEnvelope} className=\"mr-2 email\" />\n          </a>\n        ) : null}\n      </div>\n    );\n  }\n  return (\n    <div className=\"page col-12\">\n      <div className={isMobileDeviceOrTablet ? \"pb-2 static-mobile\" : \"static-content pb-2\"}>\n        <h1>{Translate(\"AboutPage\", [\"Headers\", \"AboutSeroTracker\"])}</h1>\n        <p>\n        <b>{Translate(\"AboutPage\", [\"AboutSection\", \"PartOne\"])}</b>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"PartTwo\"], null, [true, false])}\n        </p>\n        <Sponsers />\n        <p>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"SupportedBy\"])}\n          <a target=\"_blank\" rel=\"noreferrer noopener\" onClick={() => selectLink(\"Public Health Agency\")} href=\"https://www.canada.ca/en/public-health.html\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"PublicHealthAgency\"], null, [true, true])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"ThroughThe\"])}\n          <a target=\"_blank\" rel=\"noreferrer noopener\" onClick={() => selectLink(\"ITF Website\")} href=\"https://www.covid19immunitytaskforce.ca/\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"Covid19ImmunityTaskForce\"], null, [true, true])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"HostedAt\"])}\n          <a\n            onClick={() => selectLink(\"Centre for Health Informatics\")}\n            href=\"https://cumming.ucalgary.ca/centres/centre-health-informatics\"\n            target=\"_blank\" rel=\"noreferrer noopener\"\n          >\n            {Translate(\"AboutPage\", [\"AboutSection\", \"HealthInformatics\"], null, [true, true])}\n          </a>\n        </p>\n        <p>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"WHO1\"])}\n          <a onClick={() => selectLink(\"WorldHealthOrganization\")} href=\"https://www.who.int/\" target=\"_blank\" rel=\"noreferrer noopener\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"WorldHealthOrganization\"], null, [true, true])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"WHO2\"])}\n          <a target=\"_blank\" rel=\"noreferrer noopener\" onClick={() => selectLink(\"UnityStudies\")} href=\"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/technical-guidance/early-investigations\">\n            {Translate(\"AboutPage\", [\"AboutSection\", \"UnityStudies\"], null, [true, false])}\n          </a>\n          {Translate(\"AboutPage\", [\"AboutSection\", \"WHO3\"], null, [true, true])}\n        </p>\n        <p>\n          <a onClick={() => selectLink(\"Mapbox\")} href=\"https://www.mapbox.com/\" target=\"_blank\" rel=\"noreferrer noopener\">\n            Mapbox\n          </a>{\" \"}\n          {Translate(\"AboutPage\", [\"Mapbox\"])}\n        </p>\n        <h2 id={PAGE_HASHES.About.ContactUs}>{Translate(\"AboutPage\", [\"Headers\",\"ContactUs\"])}</h2>\n        <div>\n          <p>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartOne\"], null, [true, true])}\n            <a target=\"_blank\" rel=\"noreferrer noopener\" href=\"mailto:rahul.arora@balliol.ox.ac.uk\">rahul.arora@balliol.ox.ac.uk</a>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartTwo\"], null, [true, true])}\n            <a target=\"_blank\" rel=\"noreferrer noopener\" href=\"mailto:tingting.yan@mail.utoronto.ca\">tingting.yan@mail.utoronto.ca</a>.\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartThree\"], null, [true, true])}\n            <a target=\"_blank\" rel=\"noreferrer noopener\" href=\"mailto:media@covid19immunitytaskforce.ca\">media@covid19immunitytaskforce.ca</a>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointOne\", \"PartFour\"], null, [true, true])}\n            <a target=\"_blank\" rel=\"noreferrer noopener\" href=\"mailto:kelly.johnston2@ucalgary.ca\">kelly.johnston2@ucalgary.ca</a>.\n          </p>\n          <p>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointFive\", \"PartOne\"])}\n            <b>{Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointFive\", \"PartTwo\"], null, [true, false])}</b>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointFive\", \"PartThree\"], null, [true, true])}\n            <a\n              onClick={() => selectLink(\"Form Open\")}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n              href=\"https://forms.gle/XWHQ7QPjQnzQMXSz8\"\n            >\n              {Translate(\"ThisForm\")}\n            </a>\n            {Translate(\"AboutPage\", [\"ContactSection\", \"BulletPointFive\", \"PartFour\"], null, [true, true])}\n          </p>\n        </div>\n        <h1 id={PAGE_HASHES.About.Team}>{Translate(\"AboutPage\", [\"Headers\",\"OurTeam\"])}</h1>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"TeamLead\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Rahul Arora\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }), Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n            \"https://www.linkedin.com/in/rahularorayyc/\",\n            \"rahularoradfs@gmail.com\"\n          )}\n          {renderBioBlock(\n            \"Tingting Yan\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n            \"https://www.linkedin.com/in/tingting-yan/\",\n            \"\",\n            \"https://twitter.com/TingtingYan_\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"DataCuration\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n              \"Anabel Selemon\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              null,\n              \"anabel.selemon@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n              \"Caseng Zhang\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McMaster\" })],\n              \"www.linkedin.com/in/caseng\",\n              \"zhangcaseng@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Dayoung Kim\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              \"https://www.linkedin.com/in/dayoung-kim-448425198/\",\n              \"dayoung.kim1@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n              \"Emma Loeschnik\",\n              [Translate(\"BlankUniversity\", null, {NAME: \"Western\"}), Translate(\"BlankUniversity\", null, { NAME: \"Brock\" })],\n              \"https://www.linkedin.com/in/emma-loeschnik-97bb48220\",\n              \"eloeschn@uwo.ca\",\n              \"https://twitter.com/emma_loeschnik\"\n          )}\n          {renderBioBlock(\n              \"Kim Nol\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n              \"https://www.linkedin.com/in/kim-noel-aa27821b8\",\n              \"kim.noel@mail.mcgill.ca\"\n          )}\n          {renderBioBlock(\n              \"Mercedes Yanes\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" }), \"Universidad Autonoma de San Luis Potosi\"],\n              \"https://www.linkedin.com/in/mercedes-yanes-lane-64b25a19b\",\n              \"mercedes.yaneslane@mcgill.ca\",\n              null\n          )}\n          {renderBioBlock(\n            \"Niklas Bobrovitz \",\n            [Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }), Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n            \"https://www.linkedin.com/in/nik-bobrovitz-19a117179/\",\n            \"niklas.bobrovitz@mail.utoronto.ca\",\n            \"https://twitter.com/nikbobrovitz\"\n          )}\n          {renderBioBlock(\n              \"Sara Perlman-Arrow\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n              \"https://www.linkedin.com/in/sara-perlman-arrow-5075421b6/\",\n              \"sara.perlman-arrow@mail.mcgill.ca\"\n          )}\n          {renderBioBlock(\n              \"Jane Yuan\",\n              [Translate(\"BlankUniversity\", null, {NAME: \"Western\"})],\n              \"https://www.linkedin.com/in/jane-yuan-291682152/?originalSubdomain=ca\",\n              \"jyuan58@uwo.ca\"\n          )}\n          {renderBioBlock(\n              \"Sabah Shaikh\",\n              [Translate(\"BlankUniversity\", null, {NAME: \"New York\"})],\n              null,\n              \"sabah.nshaikh@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Margaret Jamieson\",\n              [Translate(\"UniversityOf\", null, {NAME: \"Toronto\"})],\n              null,\n              \"margaret.jamieson@mail.utoronto.ca\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"DataInfrastructure\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n              \"Christian Cao\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              \"https://ca.linkedin.com/in/christian-cao-275b78190\",\n              \"ccao.canada@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Harriet Ware\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" }), Translate(\"BlankUniversity\", null, { NAME: \"Queen's\"})],\n              null,\n              \"ware.harriet@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Judy Chen\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n              null,\n              \"judy.chen@mail.mcgill.ca\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"GlobalPartnerships\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n              \"Harriet Ware\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" }), Translate(\"BlankUniversity\", null, { NAME: \"Queen's\"})],\n              null,\n              \"ware.harriet@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Mairad Whelan\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }), Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              \"https://www.linkedin.com/in/mairead-whelan\",\n              \"mairead.whelan@ucalgary.ca\",\n              \"https://twitter.com/Mairead_GWhelan\"\n          )}\n          {renderBioBlock(\n              \"Xiaomeng Ma\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n              \"https://www.linkedin.com/in/xiaomeng-simone-ma-6a8156b9/\",\n              \"xiaomeng.ma@mail.utoronto.ca\"\n          )}\n          {renderBioBlock(\n              \"Zihan Li\",\n              [Translate(\"UniversityOf\", null, {NAME: \"Waterloo\"})],\n              \"https://www.linkedin.com/in/zihanli/\",\n              \"zihan.li@uwaterloo.ca\",\n              \"https://twitter.com/emma_loeschnik\"\n          )}\n          {renderBioBlock(\n              \"Brianna Cheng\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\"})],\n              null,\n              \"brianna.cheng2@mail.mcgill.ca\",\n              null\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"DevelopmentTeam\"])}</h2>\n\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n            \"Austin Atmaja\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/austinatmaja\",\n            \"atatmaja@uwaterloo.ca\",\n            \"https://twitter.com/atatmaja_\"\n          )}\n          {renderBioBlock(\n              \"Flora Guo\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/floraguolr/\",\n              \"floraguolr@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Himanshu Ranka\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\" })],\n              \"https://www.linkedin.com/in/himanshu-ranka-635a02181/\",\n              \"himanshu.ranka@mail.mcgill.ca\"\n          )}\n          {renderBioBlock(\n            \"Simona Rocco\",\n            [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n            \"https://www.linkedin.com/in/simona-rocco/\",\n            \"serocco@uwaterloo.ca\"\n          )}\n          {renderBioBlock(\n              \"Gurman Brar\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/gurman-brar/\",\n              \"g9brar@uwaterloo.ca\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"Alumni\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\n              \"Abel Joseph\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/abel-joseph/\",\n              \"abel.joseph@uwaterloo.ca\"\n          )}\n          {renderBioBlock(\n              \"Abhinav Pillai\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              null,\n              \"abhinav.arunpillai@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n              \"Brett Dziedzic\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Lethbridge\" })],\n              \"https://www.linkedin.com/in/brett-dziedzic/\",\n              \"brettdziedzic@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Emily Boucher\",\n              [Translate(\"SchoolName\", [\"Cumming\"]), Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              null,\n              \"emily.boucher@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n              \"Ewan May\",\n              [Translate(\"SchoolName\", [\"Schulich\"]), Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              \"https://www.linkedin.com/in/ewan-may\",\n              \"ewan.may@ucalgary.ca\"\n          )}\n          {renderBioBlock(\n              \"Hannah Rahim\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              \"https://www.linkedin.com/in/hannah-rahim/\",\n              \"hannahrahim2@gmail.com\",\n              \"https://twitter.com/Hannah_Rahim1\"\n          )}\n          {renderBioBlock(\n              \"Jordan Van Wyk\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/jordanvanwyk/\",\n              \"jordanvanwyk@outlook.com\",\n              \"https://twitter.com/jordanvw_\"\n          )}\n          {renderBioBlock(\n              \"Lucas Penny\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n              \"https://www.linkedin.com/in/lucaspenny/\",\n              \"lucas.penny@mail.utoronto.ca\",\n              \"https://twitter.com/lucasjpenny\"\n          )}\n          {renderBioBlock(\n              \"Michael Liu\",\n              [\n                Translate(\"UniversityOf\", null, { NAME: \"Oxford\" }),\n                Translate(\"BlankUniversity\", null, { NAME: \"Harvard\" }),\n              ],\n              \"https://www.linkedin.com/in/michael-liu-8728249a/\",\n              \"liu.michael222@gmail.com\",\n              \"https://twitter.com/mliu_canada\"\n          )}\n          {renderBioBlock(\n              \"Mitchell Segal\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n              null,\n              \"mitchell.segal@mail.utoronto.ca\"\n          )}\n          {renderBioBlock(\n              \"Nathan Duarte\",\n              [Translate(\"BlankUniversity\", null, { NAME: \"McGill\"}), Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/duartenathan/\",\n              \"nathanduarte1@gmail.com\",\n              \"https://twitter.com/niduarte_canada\"\n          )}\n          {renderBioBlock(\n              \"Noel Loo\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Cambridge\" })],\n              null,\n              \"noel.loo.188@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Prannoy Lal\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/prannoylal/\",\n              \"p4lal@uwaterloo.ca\"\n          )}\n          {renderBioBlock(\n              \"Sean D'Mello\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Waterloo\" })],\n              \"https://www.linkedin.com/in/dmellosean/\",\n              \"sean.dmello@uwaterloo.ca\",\n              \"https://twitter.com/SeanDMello1\"\n          )}\n          {renderBioBlock(\n              \"Natalie Duarte\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" })],\n              null,\n              \"natalieaduarte@gmail.com\")}\n          {renderBioBlock(\n              \"Natasha Ilincic\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Toronto\" }), Translate(\"UniversityOf\", null, { NAME: \"Guelph\" })],\n              \"https://www.linkedin.com/in/natasha-ilincic/\",\n              \"natasha.ilincic@gmail.com\"\n          )}\n          {renderBioBlock(\n              \"Claire Donnici\",\n              [Translate(\"UniversityOf\", null, { NAME: \"Calgary\" })],\n              null,\n              \"claire.donnici@ucalgary.ca\",\n              \"https://twitter.com/ClaireDonnici\"\n          )}\n          {renderBioBlock(\n              \"Gabriel Deveaux\",\n              [Translate(\"MemorialUniversityOfNewfoundland\")],\n              \"https://www.linkedin.com/in/grdeveaux/\",\n              \"grbdeveaux@dal.ca\"\n          )}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"ScientificAdvisors\"])}</h2>\n        <div className=\"bio-grid-container\">\n          {renderBioBlock(\"Tim Evans\", [\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n            Translate(\"COVIDImmunityTaskForce\"),\n          ])}\n          {renderBioBlock(\"Tyler Williamson\", [\n            Translate(\"CentreHealthInformatics\"),\n            Translate(\"UniversityOf\", null, {NAME: \"Calgary\"}),\n          ])}\n          {renderBioBlock(\"Matthew Cheng\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n          ])}\n          {renderBioBlock(\"David Naylor\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"UniversityOf\", null, {NAME: \"Toronto\"}),\n          ])}\n          {renderBioBlock(\"David Buckeridge\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n          ])}\n          {renderBioBlock(\"Bruce Mazer\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n          ])}\n          {renderBioBlock(\"Jesse Papenburg\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n          ])}\n          {renderBioBlock(\"Catherine Hankins\", [\n            Translate(\"COVIDImmunityTaskForce\"),\n            Translate(\"BlankUniversity\", null, {NAME: \"McGill\"}),\n          ])}\n        </div>\n        <h2 className=\"team-name-text\">{Translate(\"AboutPage\", [\"SubHeaders\", \"ProjectStaff\"])}</h2>\n        <div className=\"bio-grid-container mb-5\">\n          {renderBioBlock(\"Erin O'Connor\", [\n            Translate(\"CentreHealthInformatics\"),\n            Translate(\"UniversityOf\", null, {NAME: \"Calgary\"}),\n          ])}\n          {renderBioBlock(\"Catherine Eastwood\", [\n            Translate(\"CentreHealthInformatics\"),\n            Translate(\"UniversityOf\", null, {NAME: \"Calgary\"}),\n          ])}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBiohazard } from \"@fortawesome/free-solid-svg-icons\";\nimport { Button } from 'semantic-ui-react'\nimport React, { useContext } from \"react\";\nimport { AppContext } from \"../../context\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\nimport Translate from \"../../utils/translate/translateService\";\nimport \"./static.css\";\nimport { useHistory } from 'react-router-dom';\nimport BrokenAb from '../../assets/images/BrokenAb.gif'\n\nexport default function NotFoundPage(){\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxWidth: mobileDeviceOrTabletWidth,\n  });\n\n  const history = useHistory();\n\n  const [{ language }, _] = useContext(AppContext);\n\n  return (\n    <div className=\"page col-12\">\n      <div className=\"center-container\">\n        <img src={BrokenAb} height={\"30%\"} alt=\"\" />\n        <p className=\"not-found-subheader\">{Translate(\"NotFound\", [\"PartOne\"])}</p>\n        <p>{Translate(\"NotFound\", [\"PartTwo\"])}</p>\n        <Button \n          className=\"not-found-button\"\n          onClick={() => history.push(`/${language}/Explore`)}>\n            {Translate(\"NotFound\", [\"Button\"])}\n        </Button>\n      </div>\n    </div>\n  );\n}","import React, { useEffect } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function CookiePolicy() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n\r\n    script.text = \"(function(d, s, id) { var js, tjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = 'https://app.termly.io/embed-policy.min.js'; tjs.parentNode.insertBefore(js, tjs); }(document, 'script', 'termly-jssdk'));\"\r\n\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n      <div className={isMobileDeviceOrTablet ? \"policy-div-mobile\" : \"policy-div-desktop\"}>\r\n        <iframe title=\"CookiePolicy\" className={isMobileDeviceOrTablet ? \"policy-frame-mobile\" : \"policy-frame-desktop\"} src=\"https://app.termly.io/embed/terms-of-use/4cfb8f90-983a-40b4-bea2-2cdd373f14b5\"></iframe>\r\n      </div>\r\n  )\r\n}\r\n","import { AirtableRecord, FiltersConfig, StudiesFilters } from \"./types\";\nimport { formatDates } from \"./utils/utils\";\nimport {parseISO, format } from \"date-fns\";\n\nconst RECORDS_URL = \"/data_provider/records\";\nconst RECORD_DETAILS_URL = \"/data_provider/record_details\";\nconst FILTER_OPTIONS_URL = \"/data_provider/filter_options\";\n\n// Making this a global constant so that we can easily change this\n// in case our estimate selection strategy changes in the future\nconst ESTIMATES_SUBGROUP = \"primary_estimates\";\n\n\nexport default class httpClient {\n\n    async httpGet(url: string, useAppRoute: boolean) {\n        let url_full = url;\n        if (useAppRoute && process.env.REACT_APP_ROUTE) {\n            url_full = process.env.REACT_APP_ROUTE + url_full;\n        }\n        const res = await fetch(url_full);\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async httpPost(url: string, data: Record<string, any>) {\n        let url_full = url;\n        if (process.env.REACT_APP_ROUTE) {\n            url_full = process.env.REACT_APP_ROUTE + url_full;\n        }\n        const res = await fetch(url_full, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n        });\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async getStyles(url: string) {\n\n        const res = await fetch(url);\n        if (res.status !== 200) {\n            const error_msg = res.json();\n            console.error(error_msg);\n            return;\n        }\n        else {\n            const response_json = await res.json();\n            return response_json;\n        }\n    }\n\n    async getRecordDetails(source_id : string) {\n        const response = await this.httpGet(`${RECORD_DETAILS_URL}/${source_id}`, true);\n        if (!response) {\n            return null;\n        }\n        const record: AirtableRecord = response as AirtableRecord;\n        return record;\n    }\n\n    async getAllFilterOptions() {\n        const response = await this.httpGet(FILTER_OPTIONS_URL, true);\n\n        const options: Record<string, any> = response;\n        // We know that only these 3 isotypes will ever be reported, thus we can hardcode\n        options.isotypes_reported = [\"IgG\", \"IgA\", \"IgM\"];\n        const updatedAt = format(parseISO(response.updated_at), \"yyyy/MM/dd\");\n\n        const maxDate = parseISO(response.max_publication_end_date);\n        const minDate = parseISO(response.min_publication_end_date);\n        delete options.min_date;\n        delete options.max_date;\n\n        return { options, updatedAt, maxDate, minDate };\n    }\n\n\n    preparePostBody(filters: FiltersConfig){\n        const reqBodyFilters = {...filters} as Record<string, any>;\n        const date = filters.publish_date as Array<Date>;\n        const unity_aligned_only = filters.unity_aligned_only;\n        const [startDate, endDate] = formatDates(date);\n        delete reqBodyFilters.publish_date;\n        delete reqBodyFilters.unity_aligned_only;\n\n        const reqBody: Record<string, any> = {\n            filters: reqBodyFilters,\n            sampling_start_date: startDate,\n            sampling_end_date: endDate,\n            unity_aligned_only,\n            estimates_subgroup: ESTIMATES_SUBGROUP\n        }\n        return reqBody;\n    }\n\n    async getExploreData(filters: FiltersConfig,\n        only_explore_columns: Boolean=false) {\n        const reqBody: Record<string, any> = this.preparePostBody(filters);\n\n        if( only_explore_columns ){\n            reqBody.columns = [\"source_id\", \"estimate_grade\", \"pin_latitude\", \"pin_longitude\"];\n        }\n\n        const response = await this.httpPost(RECORDS_URL, reqBody)\n        if (!response || !response.records || !response.country_seroprev_summary) {\n            return {\n                records: [],\n                estimateGradePrevalences: []\n            };\n        }\n\n        const records = response.records!.map((item: Record<string, any>) => {\n            // Convert response to AirtableRecord type\n            const record: AirtableRecord = item as AirtableRecord;\n            return record;\n        });\n\n        const estimateGradePrevalences = this.formatEstimateGradePrevalences(response);\n\n        return { records, estimateGradePrevalences };\n    }\n\n    formatEstimateGradePrevalences(response: any) {\n        const estimateGradePrevalences = response.country_seroprev_summary!.map((record: Record<string, any>) => {\n            // Convert response to AlternateAggregatedRecord type         \n            const estimateSummary = record.seroprevalence_estimate_summary;\n            return {\n                numberOfStudies: record.n_estimates,\n                testsAdministered: record.n_tests_administered,\n                geographicalName: record.country,          \n                alpha3Code: record.country_iso3,\n                localEstimate: {\n                    maxEstimate: estimateSummary.Local.max_estimate,\n                    minEstimate: estimateSummary.Local.min_estimate,\n                    numEstimates: estimateSummary.Local.n_estimates,\n                },\n                nationalEstimate: {\n                    maxEstimate: estimateSummary.National.max_estimate,\n                    minEstimate: estimateSummary.National.min_estimate,\n                    numEstimates: estimateSummary.National.n_estimates,\n                },\n                regionalEstimate: {\n                    maxEstimate: estimateSummary.Regional.max_estimate,\n                    minEstimate: estimateSummary.Regional.min_estimate,\n                    numEstimates: estimateSummary.Regional.n_estimates,\n                },\n                sublocalEstimate: {\n                    maxEstimate: estimateSummary.Sublocal.max_estimate,\n                    minEstimate: estimateSummary.Sublocal.min_estimate,\n                    numEstimates: estimateSummary.Sublocal.n_estimates,\n                }\n            }\n        });\n        return estimateGradePrevalences;\n    }\n\n    async getCountryPartnershipData(filters: StudiesFilters) {\n\n        const reqBody: Record<string, any> = {\n            filters: filters,\n            include_subgeography_estimates: true,\n            estimates_subgroup: ESTIMATES_SUBGROUP\n        }\n\n        const response = await this.httpPost(RECORDS_URL, reqBody)\n        if (!response || !response.records || !response.country_seroprev_summary) {\n            return {\n                records: [],\n                estimateGradePrevalences: []\n            };\n        }\n\n        const records = response.records!.map((item: Record<string, any>) => {\n            return item as AirtableRecord;\n        });\n\n        const estimateGradePrevalences = this.formatEstimateGradePrevalences(response);\n\n        return {records, estimateGradePrevalences};\n    }\n}\n","import mapboxgl from \"mapbox-gl\";\n\nexport const MapSymbology = {\n    StudyFeature: {\n        National: {\n            Color: '#094180',\n            Size: 11\n        },\n        Regional: {\n            Color: '#F19E66',\n            Size: 9\n        },\n        Local: {\n            Color: '#E15759',\n            Size: 6\n        },\n        Sublocal: {\n            Color: '#E15759',\n            Size: 5\n        },\n        Default: {\n            Color: '#FFFFFF',\n            Size: 0\n        }\n    },\n    CountryFeature: {\n        IsHighlighted: {\n            Color: '#b0c8d4'\n        },\n        HasData: {\n            Color: '#97b1bd',\n            Opacity: 0.5 \n        },\n        Disputed: {\n            Color: '#E1E1E1',\n            Opacity: 1 \n        },\n        Shaded: {\n            Color: '#707070',\n        },\n        Default: {\n            Color: '#FFFFFF',\n            Opacity: 0 \n        }\n    },\n    Border: {\n        Color: \"#455a64\"\n    }\n}\n\nexport const MapResources = {\n    WHO_BASEMAP : \"https://tiles.arcgis.com/tiles/5T5nSi527N4F7luB/arcgis/rest/services/WHO_Polygon_Basemap_no_labels/VectorTileServer\",\n    WHO_COUNTRY_VECTORTILES : \"https://tiles.arcgis.com/tiles/5T5nSi527N4F7luB/arcgis/rest/services/Countries/VectorTileServer\"\n}\n\nexport const DefaultMapboxMapOptions = {\n    center: [10, 30],\n    zoom: 2,\n    minZoom: 2,\n    maxZoom: 14,\n    attributionControl: false,\n    scrollZoom: false\n}\n\nexport const Expressions = {\n    Studies: {\n        \"circle-color\": [\n          \"match\",\n          [\"get\", \"estimate_grade\"],\n          \"National\",\n          MapSymbology.StudyFeature.National.Color,\n          \"Regional\",\n          MapSymbology.StudyFeature.Regional.Color,\n          \"Local\",\n          MapSymbology.StudyFeature.Local.Color,\n          \"Sublocal\",\n          MapSymbology.StudyFeature.Sublocal.Color,\n          MapSymbology.StudyFeature.Default.Color,\n        ],\n        \"circle-radius\": [\n          \"match\",\n          [\"get\", \"estimate_grade\"],\n          \"National\",\n          MapSymbology.StudyFeature.National.Size,\n          \"Regional\",\n          MapSymbology.StudyFeature.Regional.Size,\n          \"Local\",\n          MapSymbology.StudyFeature.Local.Size,\n          \"Sublocal\",\n          MapSymbology.StudyFeature.Sublocal.Size,\n          MapSymbology.StudyFeature.Default.Size,\n        ],\n        'circle-stroke-color':[\n            'case',\n            ['boolean', ['feature-state', 'isSelected'], false],\n            'black',\n            'white'\n        ],\n        'circle-stroke-width': 3,\n        'circle-stroke-opacity': [\n            'case',\n            ['boolean', ['feature-state', 'hover'], false],\n            1,\n            [\n                'case',\n                ['boolean', ['feature-state', 'isSelected'], false],\n                1,\n                0\n            ],\n        ],\n        'circle-opacity': [\n            'case',\n            ['boolean', ['feature-state', 'isBlurred'], false],\n            0.2,\n            0.6\n        ]\n      },\n\n      Countries : {\n        'fill-color': [\n          'case',\n          ['boolean', ['feature-state', 'isHighlighted'], true], MapSymbology.CountryFeature.IsHighlighted.Color,\n          ['boolean', ['feature-state', 'hasData'], true], MapSymbology.CountryFeature.HasData.Color,\n          MapSymbology.CountryFeature.Default.Color\n        ],\n        'fill-opacity': [\n          'case',\n          ['boolean', ['feature-state', 'hasData'], false], MapSymbology.CountryFeature.HasData.Opacity,  \n          MapSymbology.CountryFeature.Default.Opacity\n        ]\n      }\n}","import mapboxgl, { LngLat } from \"mapbox-gl\";\nimport httpClient from \"../httpClient\";\nimport { Expressions } from \"components/map/MapConfig\"\n\n// Params: url - to an esri vector tile service\n// Returns: Modified style object with attributes for Mapbox GL JS compatability \nasync function prepare(url: string) {\n\n  const styleUrl = url + \"/resources/styles/root.json\";\n\n  const api = new httpClient()\n\n  let fetchedStyle = await api.getStyles(styleUrl);\n  fetchedStyle.sprite = url + \"/resources/sprites/sprite\";\n  fetchedStyle.glyphs = url + \"/resources/fonts/{fontstack}/{range}.pbf\";\n  fetchedStyle.sources.esri = {\n    type: 'vector',\n    tiles: [url + \"/tile/{z}/{y}/{x}.pbf\"],\n    maxzoom: 23,\n  };\n\n  return fetchedStyle;\n};\n\n// Params: url - to an esri vector tile service\n// Returns: Mapbox style object with applied serotracker styling expressions\nexport async function getEsriVectorSourceStyle(url: string) {\n    let style = await prepare(url)\n\n    var source = style.sources.esri as mapboxgl.VectorSource;\n\n    const l = style.layers[0] as mapboxgl.Layer;\n    if (l.id === \"Countries\") {\n      source.promoteId = { \"Countries\": \"CODE\" }\n      l.paint = Expressions.Countries as any\n    }\n\n    return style\n}\n\n// Params: mapbox style object, mapbox instance to add layers to\nexport function addEsriLayersFromVectorSourceStyle(style: any, map: mapboxgl.Map) {\n  const sourceLayerId = style?.layers[0][\"source-layer\"] as string;\n\n  map.addSource(sourceLayerId, style.sources.esri);\n  \n  if (sourceLayerId === \"Countries\"){\n    const layer = style?.layers[0]\n    layer.source = sourceLayerId;\n    map.addLayer(layer)\n  }\n  else{\n  style.layers.forEach((layer: any) => {\n    if (layer.source !== \"DISPUTED_AREAS\" && layer.source !== \"DISPUTED_BORDERS\")\n    {\n      layer.source = sourceLayerId;\n      map.addLayer(layer);\n    }\n  });\n}\n}\n\nfunction getBoundingBox(coordinates: any[]) {\n  let bbox: any = {\n    xMin: undefined,\n    xMax: undefined,\n    yMin: undefined,\n    yMax: undefined,\n  }\n\n  coordinates.forEach((c)=>{\n    const longitude = c[0];\n    const latitude = c[1];\n    bbox.xMin = Math.min(bbox.xMin, longitude);\n    bbox.xMax = Math.max(bbox.xMax, longitude);\n    bbox.yMin = Math.min(bbox.yMin , latitude);\n    bbox.yMax = Math.max(bbox.yMax , latitude);\n  })\n  return bbox;\n}\n\nexport function getFeatureBoundingBox(feature: GeoJSON.Feature): mapboxgl.LngLatBounds | undefined {\n  let extent = undefined\n  \n  if(feature.geometry.type === 'Polygon')\n  {\n    extent = getBoundingBox(feature.geometry.coordinates[0]);\n  }\n  else if (feature.geometry.type === 'MultiPolygon')\n  {\n    extent = getBoundingBox(feature.geometry.coordinates[0][0]);\n  }\n\n  return extent ? new mapboxgl.LngLatBounds(\n    new mapboxgl.LngLat(extent.xMin, extent.yMin),\n    new mapboxgl.LngLat(extent.xMax, extent.yMax)\n    ) : undefined;\n}\n\n","import React from \"react\";\nimport { RegionalPrevalenceEstimate } from \"types\";\nimport { LanguageType } from \"types\";\nimport {Button, Divider} from 'semantic-ui-react'\nimport Translate, { getCountryName } from 'utils/translate/translateService';\n\nfunction row(title: string, content: JSX.Element | string | string[] | null | undefined) {\n    return (\n        <div className={\"d-flex justify-content-between mb-2\"}>\n            <div className={\"country-popup-heading\"}>\n                {title}\n            </div>\n            <div className={\"country-popup-text\"}>\n                {content}\n            </div>\n        </div>\n    )\n}\n\nconst createPopupGeographySection = (regionalEstimate: RegionalPrevalenceEstimate, title: string) => {\n  const minString = `${(regionalEstimate.minEstimate * 100).toFixed(2)}%`\n  const maxString = `${(regionalEstimate.maxEstimate * 100).toFixed(2)}%`\n  const regionString = minString === maxString ? minString : `${minString} - ${maxString}`;\n\n  return (\n    <div key={Math.random()}>\n        <div key={Math.random()} className=\"country-popup-header pt-1 mb-2\">\n            {title}\n        </div>\n        {row(Translate('EstimateRange'), (<b>{regionString}</b>))}\n        {row(Translate('NumberEstimates'), (<b>{regionalEstimate.numEstimates}</b>))}\n    </div>\n  )\n}\n\nconst CountryPopup = (country : any, language : LanguageType, onDetailsClick?: any) => {\n\n  const properties = country?.state\n\n  if (properties.testsAdministered) {\n    const regions: Array<any> = []\n    let addRegion = (r: RegionalPrevalenceEstimate, name: string) => { \n      return (r !== undefined && r.numEstimates !== 0 ? regions.push({Region: r, Name: name}) : null) \n    }\n    addRegion(properties.nationalEstimate, Translate('NationalEstimates'));\n    addRegion(properties.regionalEstimate, Translate('RegionalEstimates'));\n    addRegion(properties.localEstimate, Translate('LocalEstimates'));\n    addRegion(properties.sublocalEstimate, Translate('SublocalEstimates'));\n\n    return (\n      <div className=\"country-popup-content p-4\" >\n        <div className=\"country-popup-title\">\n            {getCountryName(properties.geographicalName, language, \"CountryOptions\")}\n        </div>\n          <Divider />\n        {row(Translate(\"TestsAdministered\"), <b>{properties?.testsAdministered}</b>)}\n        {row(Translate('NumSeroprevalenceEstimates'), <b>{properties?.numberOfStudies}</b>)}\n        {regions.map((o) => createPopupGeographySection(o.Region, o.Name))}\n        {onDetailsClick ? \n            <Button className=\"not-found-button mt-2\" onClick={()=>{ onDetailsClick()}}>\n              {Translate(\"ViewPartnership\")}\n            </Button> : \"\"\n        }\n      </div>)\n  }\n\n  return (\n    <div className=\"country-popup-content\">\n      <div className=\"country-popup-title\">{getCountryName(properties.geographicalName, language, \"CountryOptions\")}</div>\n      <div className=\"col-12 p-0 flex country-popup-text\">{Translate('NoData')}</div>\n    </div>)\n}\n\nexport default CountryPopup;","import { Partnership } from './types';\nimport { CANADA_URLS } from \"./constants\";\n\nconst PartnershipsConfig: Partnership[] = [\n        {\n            iso3: 'CAN',\n            routeName: \"Canada\",\n            tableauKey: \"CanadianTableau\",\n            tableauUrl: CANADA_URLS,\n            mapboxMapOptions: {\n                bounds: [\n                    [-148, 39], // Southwest coordinates\n                    [-50, 75] // Northeast coordinates\n                ],\n                /*\n                maxBounds: [\n                    [-147, 37], // Southwest coordinates\n                    [-48, 86] // Northeast coordinates\n                ]\n                */\n            }\n        }\n    ]\n\nexport default PartnershipsConfig;","import { useState, useEffect, useContext } from \"react\"\nimport { AppContext } from \"context\";\nimport ReactDOMServer from \"react-dom/server\";\nimport { EstimateGradePrevalence, CountriesMapConfig } from \"types\";\nimport mapboxgl from \"mapbox-gl\";\nimport CountryPopup from 'components/map/Popups/CountryPopup'\nimport PartnershipsConfig from '../../../PartnershipsConfig'\nimport { useHistory } from 'react-router-dom';\nimport { sendAnalyticsEvent } from \"../../../utils/analyticsUtils\";\nimport {getMapboxLatitudeOffset} from \"../../../utils/utils\";\n\nconst COUNTRY_LAYER_ID = 'Countries';\n\n// Maps estimate grade prevalence data to a match ISO3 code in the countries feature layer\nfunction SetCountryEstimates(map: mapboxgl.Map, estimateGradePrevalences: EstimateGradePrevalence[]) {\n\n    map.removeFeatureState({\n        source: COUNTRY_LAYER_ID,\n        sourceLayer: COUNTRY_LAYER_ID\n        });\n\n    estimateGradePrevalences.forEach((country: EstimateGradePrevalence) => {\n        if (country && country.testsAdministered && country.alpha3Code) {\n\n            const partnershipConfig = PartnershipsConfig.find(x => x.iso3 === country.alpha3Code)\n\n            map.setFeatureState(\n                {\n                    source: COUNTRY_LAYER_ID,\n                    sourceLayer: COUNTRY_LAYER_ID,\n                    id: country.alpha3Code,\n                },\n                {\n                    hasData: true,\n                    isHighlighted: false,\n                    testsAdministered: country.testsAdministered,\n                    geographicalName: country.geographicalName,\n                    numberOfStudies: country.numberOfStudies,\n                    localEstimate: country.localEstimate,\n                    nationalEstimate: country.nationalEstimate,\n                    regionalEstimate: country.regionalEstimate,\n                    sublocalEstimate: country.sublocalEstimate,\n                    partnershipConfig: partnershipConfig\n                }\n            );\n        }\n    });\n}\n\nfunction SetMapData(map: mapboxgl.Map, estimateGradePrevalences: EstimateGradePrevalence[]) {\n    if(map.getSource(COUNTRY_LAYER_ID))\n    {\n    SetCountryEstimates(map, estimateGradePrevalences);\n    }\n}\n\nconst Countries = (map: mapboxgl.Map | undefined, {estimateGradePrevalences, countryFocus}: CountriesMapConfig) => {\n\n    const [state] = useContext(AppContext);\n    const [highlight, setHighlight] = useState<string | undefined>(undefined);\n    const [countriesLoaded, setCountriesLoaded] = useState<boolean>(false);\n    const history = useHistory();\n\n    // If estimates are updated, maps estimate data to country features\n    useEffect(() => {\n        if (map && estimateGradePrevalences && countriesLoaded)\n        {\n            SetMapData(map, estimateGradePrevalences);\n        }\n    }, [map, estimateGradePrevalences, countryFocus, countriesLoaded]);\n\n    // Waits until map is loaded\n    useEffect(() => {\n        if (map)\n        {\n            if (!map.getSource(COUNTRY_LAYER_ID)) \n            {\n                map.on('styledata', ()=>setCountriesLoaded(true));\n            }\n            else\n            {\n                setCountriesLoaded(true);\n            }\n        }\n    }, [map]);\n\n\n    // wait until map is loaded then creates and binds popup to map events\n    useEffect(() => {\n        if (map) {\n            map.on('click', COUNTRY_LAYER_ID, function(e: any) {\n                if (map.queryRenderedFeatures(e.point).filter((f) => f.source === \"study-pins\").length === 0) {\n                    const country = e.features[0];\n                    const offset = getMapboxLatitudeOffset(map)\n                   \n                    new mapboxgl.Popup({offset: 25, className: \"pin-popup\",})\n                      .setMaxWidth(\"370px\")\n                      .setHTML(ReactDOMServer.renderToString(CountryPopup(country, state.language)))\n                      .setLngLat(e.lngLat)\n                      .addTo(map);\n                    map.flyTo({\n                        center: [e.lngLat.lng, e.lngLat.lat - offset],\n                        curve: 0.5,\n                        speed: 0.5,\n                    });\n                    sendAnalyticsEvent({\n                        category: \"Country popup\",\n                        action: \"open\",\n                        label: e.features[0].id,\n                    });\n                }\n            });\n        }\n    }, [map, state.language, history])\n\n    useEffect(() => {\n        if (map) {\n            map.on('mousemove', COUNTRY_LAYER_ID, function(e: any){\n                if(e.features && e.features.length > 0 && e.features[0].state.hasData) {\n                    if (highlight !== undefined){\n                        map.setFeatureState(\n                            { source: COUNTRY_LAYER_ID, sourceLayer: COUNTRY_LAYER_ID, id: highlight },\n                            { isHighlighted: false }\n                        );\n                    }    \n                    \n                    setHighlight(e.features[0].id)\n                    map.setFeatureState(\n                        { source: COUNTRY_LAYER_ID, sourceLayer: COUNTRY_LAYER_ID, id: e.features[0].id },\n                        { isHighlighted: true }\n                    );\n                }\n            })\n            map.on('mouseleave', COUNTRY_LAYER_ID, function(){\n                if (highlight !== undefined){\n                    map.setFeatureState(\n                        { source: COUNTRY_LAYER_ID, sourceLayer: COUNTRY_LAYER_ID, id: highlight },\n                        { isHighlighted: false }\n                    );\n                }\n                setHighlight(undefined)\n            })\n        }\n    }, [map, highlight])\n\n    return;\n}\n\nexport default Countries;","import React from \"react\";\nimport { AirtableRecord } from \"types\";\nimport Translate, { TranslateDate, getLanguageType } from 'utils/translate/translateService';\nimport {getGeography, translateAntibodyTargets} from 'utils/utils';\n\n/**\n * @param title: left column of study modal: title of content\n * @param content: right content of study modal: the actual content for this record\n */\nfunction row(title: string, content: JSX.Element | string | string[] | null | undefined) {\n    return (\n        <div className={\"d-flex justify-content-between mb-2\"}>\n            <div className={\"popup-heading\"}>\n                {title}\n            </div>\n            <div className={\"popup-text\"}>\n                {content}\n            </div>\n        </div>\n    )\n}\n\nfunction riskTag(riskLevel: string) {\n    return(\n        <div className={\"popup-risk-tag popup-risk-\" + riskLevel}>\n            {Translate(\"RiskOfBiasOptions\", [riskLevel])} {Translate(\"RiskOfBias\")}\n        </div>\n    )\n}\n\n/**\n * @param popGroupOptions: List of population group options, each option being a dictionary with key = language and value = translated option string\n * @param englishPopGroup: English population group string\n */\nfunction getTranslatedPopulationGroup(popGroupOptions: Record<string, string>[], englishPopGroup: string){\n    let result = englishPopGroup;\n    const popGroupWithTranslations = popGroupOptions.find(x => x.english === englishPopGroup)\n    // TODO: refactor so that popGroupOptions keys directly map to languages on the frontend\n    const languageTypeMapping = {\n      'en': 'english',\n      'fr': 'french',\n      'de': 'german'\n    }\n\n    if(popGroupWithTranslations){\n      const lang = languageTypeMapping[getLanguageType()]\n      result = popGroupWithTranslations[lang]\n    }\n    return result\n}\n\nexport default function StudyPopup(record: AirtableRecord, popGroupOptions: Record<string, string>[]) {\n    return (\n        <div className=\"popup-content pt-2\" >\n            {/*Header section*/}\n            <div className={\"popup-section\"}>\n                <div className=\"popup-title\">\n                    {Translate(`${record.estimate_grade}StudyDetails`)}\n                </div>\n                <div className=\"popup-subtitle\">\n                    {record.url ? <a href={record.url} target=\"_blank\" rel=\"noopener noreferrer\">{record.source_name}</a> : record.source_name}\n                </div>\n            </div>\n            {/*SeroPrev section*/}\n            <div className={\"popup-seroprev-level popup-section\"}>\n                <div className={\"popup-heading\"}>\n                    {Translate(\"BestSeroprevalenceEstimate\")}: <b> {record.serum_pos_prevalence ? `${(record.serum_pos_prevalence * 100).toFixed(1)}%` : \"N/A\"}</b>\n                </div>\n                <div className={\"popup-text\"}>\n                    {(record.sampling_start_date && record.sampling_end_date) && (\n                        <>\n                            {`${TranslateDate(record.sampling_start_date)} ${Translate(\"DateRangeTo\")} ${TranslateDate(record.sampling_end_date)}`}\n                        </>)\n                    }\n                </div>\n            </div>\n            {/*Content section*/}\n            <div className={\"popup-section\"}>\n                {row(Translate(\"PopulationGroup\"), record.population_group ? getTranslatedPopulationGroup(popGroupOptions, record.population_group) : Translate(\"NotReported\"))}\n                {row(Translate(\"Location\"), getGeography(record.city, record.state, record.country))}\n                {row(Translate(\"SampleSize\"), record.denominator_value?.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, Translate(\",\")))}\n                {row(Translate(\"AntibodyTarget\"), record.antibody_target && record.antibody_target.length > 0 ? translateAntibodyTargets(record.antibody_target) : \"N/A\")}\n                {row(Translate(\"PositiveCases\"), (record.cases_per_hundred ? record.cases_per_hundred.toFixed(1) + Translate(\"Per100\") : \"N/A\"))}\n                {row(Translate(\"Vaccinations\"), (record.full_vaccinations_per_hundred ? record.full_vaccinations_per_hundred.toFixed(1) + Translate(\"Per100\") : \"N/A\"))}\n            </div>\n            {/*RiskTag section*/}\n            {riskTag(`${record.overall_risk_of_bias}`)}\n        </div>)\n}\n","import { useEffect, useRef } from \"react\";\n\nfunction usePrevious(value: any) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nexport default usePrevious;","import { useState, useEffect, useContext } from \"react\"\nimport ReactDOMServer from \"react-dom/server\";\nimport StudyPopup from \"components/map/Popups/StudyPopup\";\nimport { AppContext } from \"context\";\nimport { StudyPinsMapConfig } from \"types\";\nimport httpClient from \"httpClient\";\nimport usePrevious from \"utils/usePrevious\"\nimport mapboxgl from \"mapbox-gl\";\nimport generateSourceFromRecords from \"utils/GeoJsonGenerator\";\nimport {Expressions} from \"components/map/MapConfig\"\nimport { sendAnalyticsEvent } from \"../../../utils/analyticsUtils\";\nimport {getMapboxLatitudeOffset} from \"../../../utils/utils\";\nimport {useMediaQuery} from \"react-responsive\";\nimport {mobileDeviceOrTabletWidth} from \"../../../constants\";\n\n// Checks and blurs all pins that are not selected whgen a certain pin is clicked\nconst togglePinBlur = (map: mapboxgl.Map, selectedPinId?: string) => {\n  const features = map.querySourceFeatures('study-pins', {\n    sourceLayer: 'study-pins'\n    });\n  \n  features.forEach(x => {\n    const isBlurred = !(selectedPinId === x?.id || selectedPinId === undefined)\n    if (x && x.id)\n    {\n      map.setFeatureState(\n        {\n          source: \"study-pins\",\n          id: x.id,\n        },\n        {\n          isBlurred: isBlurred,\n          // a safety net because sometimes the hover state is skipped on click, makes sure to reset the map everytime something is clicked\n          hover: false\n        }\n      );\n    }\n  })\n}\n\nconst StudyPins = (map: mapboxgl.Map | undefined, {records}: StudyPinsMapConfig) => {\n\n  const [state] = useContext(AppContext);\n  const [api] = useState(new httpClient());\n  const [selectedPinId, setSelectedPinId] = useState<string | undefined>(undefined);\n  const prevSelectedPinId = usePrevious(selectedPinId)\n  const [hoveredOverId, setHoveredOverId] = useState<string | undefined>(undefined);\n  const prevHoveredOverId = usePrevious(hoveredOverId)\n\n  useEffect(() => {\n    if(map){\n      const src = generateSourceFromRecords(records);\n      if(map.getLayer(\"study-pins\") === undefined){\n        map.addSource(\"study-pins\", src);\n        map.addLayer({\n          id: \"study-pins\",\n          type: \"circle\",\n          source: \"study-pins\",\n          paint: Expressions.Studies as mapboxgl.CirclePaint\n        });\n      }\n      else{\n        const studyPinsSource = map.getSource(\"study-pins\") as any;\n        studyPinsSource.setData(src.data);\n      }\n    }\n  }, [map, records]);\n\n  useEffect(() => {\n    if (map) {\n      map?.setFilter('study-pins',\n      [\n        \"match\",\n        [\"get\", \"estimate_grade\"],\n        \"National\", state.explore.legendLayers.National,\n        \"Regional\", state.explore.legendLayers.Regional,\n        \"Local\", state.explore.legendLayers.Local,\n        \"Sublocal\", state.explore.legendLayers.Local,\n        false,\n      ]\n      );\n    }\n  }, [map, state.explore.legendLayers]);\n\n  useEffect(() => {\n    if (map) {\n      let pinPopup: mapboxgl.Popup | undefined = undefined;\n\n      map.on(\"click\", \"study-pins\", function (e: mapboxgl.MapMouseEvent & mapboxgl.EventData) {\n        if (pinPopup !== undefined)\n        {\n          pinPopup.remove()\n        }\n        const source_id = e.features[0].properties.source_id;\n        const offset = getMapboxLatitudeOffset(map)\n        api.getRecordDetails(source_id).then((record) => {\n          if (record !== null) {\n            setSelectedPinId(source_id);\n            togglePinBlur(map, source_id);\n            pinPopup = new mapboxgl.Popup({ offset: 5, className: \"pin-popup\" })\n              .setLngLat(e.lngLat)\n              .setMaxWidth(\"480px\")\n              .setHTML(ReactDOMServer.renderToString(StudyPopup(record, state.allFilterOptions.population_group)))\n              .addTo(map);\n            map.flyTo({\n              center: [e.lngLat.lng, e.lngLat.lat - offset],\n              curve: 0.5,\n              speed: 0.5,\n              });\n            sendAnalyticsEvent({\n              category: \"Study pin popup\",\n              action: \"open\",\n              label: `${source_id} - ${record.source_name}`,\n            });\n            pinPopup.on(\"close\",()=>{\n              setSelectedPinId(undefined);\n              togglePinBlur(map);\n            })\n          }\n        });\n      });\n\n      map.on(\"mouseenter\", \"study-pins\", function () {\n        map.getCanvas().style.cursor = \"pointer\";\n      });\n      map.on(\"mouseleave\", \"study-pins\", function () {\n        map.getCanvas().style.cursor = \"\";\n      });\n\n      // Toggles the hover state\n      map.on(\"mousemove\", \"study-pins\", function (e: mapboxgl.MapMouseEvent & mapboxgl.EventData) {\n        setHoveredOverId(e.features[0].properties.source_id)\n      })\n    }\n  }, [map, api])\n\n  // Changes hover state of each circle\n  useEffect(() => {\n    if(map){\n      if(hoveredOverId && !selectedPinId){\n        map.setFeatureState(\n            {\n              source: \"study-pins\",\n              id: hoveredOverId,\n            },\n            {\n              hover: true,\n            }\n        )\n\n        map.setFeatureState(\n            {\n              source: \"study-pins\",\n              id: prevHoveredOverId,\n            },\n            {\n              hover: false,\n            }\n        )\n      }\n    }\n\n  }, [map, hoveredOverId])\n\n  // changes select state styling of each circle\n  useEffect(() => {\n    if (map) {\n      if (prevSelectedPinId) {\n        map.setFeatureState(\n          {\n            source: \"study-pins\",\n            id: prevSelectedPinId,\n          },\n          {\n            isSelected: false,\n          }\n        );\n      }\n\n      if(selectedPinId)\n      {\n        map.setFeatureState(\n          {\n            source: \"study-pins\",\n            id: selectedPinId,\n          },\n          {\n            isSelected: true,\n          }\n        );\n      }\n    }\n  }, [map, selectedPinId, prevSelectedPinId]);\n\n  return;\n}\n\nexport default StudyPins;","import { AirtableRecord } from \"../types\";\n\n// Please refer to GeoJSON spec rfc7946 if adding addiontal members: https://tools.ietf.org/html/rfc7946#section-3.1.1\nfunction recordsToGeoJsonFeatures(records: AirtableRecord[]): GeoJSON.Feature[] {\n    return records.flatMap((record) => {\n        if (!record.pin_latitude && !record.pin_longitude){\n            return [];\n        }\n        return {\n            type: \"Feature\",\n            properties: { // We can add any properties here to modify how we want to render the pin - helpful for WHO data\n                estimate_grade: record.estimate_grade,\n                source_id: record.source_id ?? undefined\n            },\n            geometry: {\n                type: \"Point\",\n                coordinates: [record.pin_longitude, record.pin_latitude],\n            },\n        };\n    });\n}\n\nexport default function generateSourceFromRecords(records: AirtableRecord[]): mapboxgl.GeoJSONSourceRaw {\n    const f = recordsToGeoJsonFeatures(records);\n    const source = {\n        type: \"geojson\",\n        promoteId: 'source_id',\n        data: {\n            type: \"FeatureCollection\",\n            features: f,\n        },\n    } as mapboxgl.GeoJSONSourceRaw;\n\n    return source;\n}","import React, { useContext, useEffect, useRef, useState, Dispatch } from \"react\";\nimport { AppContext } from \"context\";\nimport { getEsriVectorSourceStyle, addEsriLayersFromVectorSourceStyle } from \"utils/MappingUtil\";\nimport Countries from \"components/map/Layers/Countries\";\nimport StudyPins from \"components/map/Layers/StudyPins\";\nimport { MapResources, DefaultMapboxMapOptions } from 'components/map/MapConfig'\nimport { CountriesMapConfig, StudyPinsMapConfig } from \"types\";\n// @ts-ignore\n// eslint-disable-next-line\nimport mapboxgl, { Style } from '!mapbox-gl';\nimport \"components/map/MapboxMap.scss\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\n\n// @ts-ignore\n// eslint-disable-next-line import/no-webpack-loader-syntax\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_API_KEY as string;\n\nfunction mapOnLoad(map: mapboxgl.Map, dispatch: Dispatch<any>) {\n  getEsriVectorSourceStyle(MapResources.WHO_COUNTRY_VECTORTILES).then((style: mapboxgl.Style) => {\n    addEsriLayersFromVectorSourceStyle(style, map);\n    const styleJson: Style = map.getStyle();\n    let CountryPolygonsMoved = false;\n    if (styleJson && styleJson.layers) {\n      for (let layer of styleJson.layers as any) {\n        const source = layer[\"source-layer\"];\n        if (source === \"DISPUTED_AREAS\") {\n          if (!CountryPolygonsMoved)\n          {\n            map.moveLayer(\"Countries\", layer.id); // HACK for now, moves countries layer behind border once loaded.\n          }\n\n          map.on(\"mouseenter\", layer.id, function (e: any) {\n            dispatch({ type: 'HIDE_COUNTRY_HOVER' })\n          });\n          map.on(\"mouseleave\", layer.id, function (e: any) {\n            dispatch({ type: 'SHOW_COUNTRY_HOVER' })\n          });\n        }\n      }\n    }\n  });\n}\n\ninterface MapboxMapProps {\n  mapConfig?: any\n  countriesConfig: CountriesMapConfig,\n  studyPinsConfig: StudyPinsMapConfig\n}\n\nconst MapboxMap = ( {mapConfig, countriesConfig, studyPinsConfig}: MapboxMapProps ): any => {\n  const mapContainerRef = useRef<HTMLDivElement>(null);\n  const [state, dispatch] = useContext(AppContext);\n  const [map, setMap] = useState<mapboxgl.Map | undefined>(undefined);\n\n  // Creates map, only runs once\n  useEffect(() => {\n    (async () => {\n      const baseMapStyle = await getEsriVectorSourceStyle(MapResources.WHO_BASEMAP);\n\n      const mergedOptions = { // Merges options together to configure map\n        ...{\n          container: mapContainerRef.current,\n          style: baseMapStyle,\n        },\n        ...DefaultMapboxMapOptions,\n        ...mapConfig,\n      };\n\n      const m = new mapboxgl.Map(mergedOptions).addControl(new mapboxgl.NavigationControl());\n\n      m.on(\"load\", () => {\n        mapOnLoad(m, dispatch);\n        setMap(m);\n      });\n    })();\n\n    return () => map?.remove();\n  }, []);\n\n  // Adds country data to map and binds pin behaviour with map popups\n  Countries(map, countriesConfig);\n  // Adds pins to map and binds pin behaviour with map popups\n  StudyPins(map, studyPinsConfig);\n\n  return (\n    //@ts-ignore\n    <div className=\"w-100 h-100 overflow-hidden\" ref={(el) => (mapContainerRef.current = el)}></div>\n  );\n};\n\nexport default MapboxMap;\n","import httpClient from '../httpClient'\r\nimport { FiltersConfig, FilterType } from '../types'\r\nimport { sendFiltersAnalyticsEvent } from \"../utils/analyticsUtils\";\r\nimport { getEmptyFilters} from \"../context\";\r\n\r\nexport const updateFilters = async (\r\n  dispatch: any,\r\n  filters: FiltersConfig,\r\n  filterType: FilterType,\r\n  filterValue: any,\r\n  page: string) => {\r\n  dispatch({\r\n    type: 'UPDATE_FILTER',\r\n    payload: {\r\n      filterType,\r\n      filterValue,\r\n      pageStateEnum: page\r\n    }\r\n  });\r\n\r\n  const updatedFilters: FiltersConfig = Object.assign({}, filters);\r\n  updatedFilters[filterType] = filterValue;\r\n  sendFiltersAnalyticsEvent(updatedFilters);\r\n\r\n  fetchExploreData(dispatch, updatedFilters, page);\r\n}\r\n\r\nexport const clearFilters = async (\r\n  dispatch: any,\r\n  page: string) => {\r\n  dispatch({\r\n    type: 'CLEAR_ALL_FILTERS',\r\n    payload: {\r\n      pageStateEnum: page\r\n    }\r\n  });\r\n\r\n  fetchExploreData(dispatch, getEmptyFilters(), page);\r\n}\r\n\r\nexport const fetchExploreData = async (dispatch: any, filters: FiltersConfig, page: string) => {\r\n\r\n  const api = new httpClient()\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: true\r\n    }\r\n  })\r\n  \r\n  const { records, estimateGradePrevalences } = await api.getExploreData(filters, true);\r\n\r\n  dispatch({\r\n    type: 'GET_AIRTABLE_RECORDS',\r\n    payload: { pageStateEnum: page, records }\r\n  });\r\n  dispatch({\r\n    type: 'UPDATE_ESTIMATE_PREVALENCES',\r\n    payload: { pageStateEnum: page, estimateGradePrevalences }\r\n  });\r\n\r\n  dispatch({\r\n    type: \"CHANGE_LOADING\",\r\n    payload: {\r\n      pageStateEnum: page,\r\n      isLoading: false\r\n    }\r\n  })\r\n}","import { faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport { Popup } from \"semantic-ui-react\";\r\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\r\n\r\ninterface InformationIconProps {\r\n  color: string;\r\n  size: \"xs\" | \"lg\" | \"sm\" | \"1x\" | \"2x\" | \"3x\" | \"4x\" | \"5x\" | \"6x\" | \"7x\" | \"8x\" | \"9x\" | \"10x\" | undefined,\r\n  position?: \"top left\" | \"top right\" | \"bottom right\" | \"bottom left\" | \"right center\" | \"left center\" | \"top center\" | \"bottom center\" | undefined,\r\n  tooltip: string | React.ReactNode;\r\n  tooltipHeader?: string;\r\n  offset: string | number;\r\n  popupSize?: \"mini\" | \"tiny\" | \"small\" | \"large\" | \"huge\";\r\n}\r\n\r\nexport default function InformationIcon(props: InformationIconProps) {\r\n  const { color, size, tooltip, tooltipHeader, offset, position, popupSize = \"small\" } = props;\r\n  \r\n  return (\r\n    <div className=\"px-2\">\r\n      <Popup\r\n        key={Math.random()}\r\n        offset={offset}\r\n        position={position}\r\n        size={popupSize}\r\n        hoverable\r\n        onOpen={() => {\r\n          sendAnalyticsEvent({\r\n            category: 'Tooltip',\r\n            action: 'opening',\r\n            label: tooltipHeader || \"Unknown tooltip\"\r\n          })\r\n        }}\r\n        //fix for janky popup positioning due to overflow styling\r\n        popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }}\r\n        trigger={\r\n          <FontAwesomeIcon\r\n            icon={faInfoCircle}\r\n            color={color}\r\n            size={size} />}>\r\n        {tooltipHeader && (\r\n\r\n          <Popup.Header className=\"flex left\">{tooltipHeader}</Popup.Header>\r\n        )}\r\n        <Popup.Content className=\"flex left\">{tooltip}</Popup.Content>\r\n      </Popup>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport InformationIcon from \"../../shared/InformationIcon\";\n\ninterface SectionHeaderProps {\n    header_text: string,\n    tooltip_text?: string | React.ReactNode,\n    tooltip_header?: string\n}\n\nexport default function SectionHeader({header_text, tooltip_text, tooltip_header}: SectionHeaderProps){\n    return (\n        <div className=\"pb-2 flex\">\n        <div className=\"filter-section-header\">{header_text}</div>\n        {tooltip_text && (\n            <div className=\"tooltip-vert-adj\">\n            <InformationIcon\n                offset={10}\n                position=\"bottom right\"\n                color=\"#455a64\"\n                tooltipHeader={tooltip_header ? tooltip_header : header_text}\n                popupSize=\"small\"\n                size=\"sm\"\n                tooltip={tooltip_text} />\n            </div>\n        )}\n        </div>\n    )\n}","import * as React from \"react\";\nimport { SliderItem } from \"react-compound-slider\";\n\n\nconst { Component, Fragment } = React;\n\ninterface HandleProps {\n    key: string;\n    handle: SliderItem;\n    isActive: Boolean;\n    disabled?: Boolean;\n    domain: number[];\n    getHandleProps: (id: string, config: object) => object;\n}\n\nexport default class Handle extends Component<HandleProps> {\n    static defaultProps = {\n      disabled: false\n    };\n  \n    state = {\n      mouseOver: false\n    };\n  \n    onMouseEnter = () => {\n      this.setState({ mouseOver: true });\n    };\n  \n    onMouseLeave = () => {\n      this.setState({ mouseOver: false });\n    };\n  \n    render() {\n      const {\n        domain: [min, max],\n        handle: { id, value, percent },\n        isActive,\n        disabled,\n        getHandleProps\n      } = this.props;\n      const { mouseOver } = this.state;\n  \n      return (\n        <Fragment>\n          {(mouseOver || isActive) && !disabled ? (\n            <div\n                className={\"active-handle-style\"}\n              style={{\n                left: `${percent}%`\n              }}\n            >\n              <div className=\"tooltip\">\n                <span className=\"tooltiptext\">Value: {value}</span>\n              </div>\n            </div>\n          ) : null}\n          <div\n            role=\"slider\"\n            aria-valuemin={min}\n            aria-valuemax={max}\n            aria-valuenow={value}\n            className={\"handle-style\"}\n            style={{\n              left: `${percent}%`,\n              backgroundColor: disabled ? \"#666\" : \"#f1f5f7\",\n            }}\n            {...getHandleProps(id, {\n              onMouseEnter: this.onMouseEnter,\n              onMouseLeave: this.onMouseLeave\n            })}\n          />\n        </Fragment>\n      );\n    }\n  }","import * as React from \"react\";\nimport { SliderItem } from \"react-compound-slider\";\n\ninterface TrackProps {\n    source: SliderItem;\n    target: SliderItem;\n    disabled?: Boolean;\n    getTrackProps: () => object;\n}\n\nexport default function Track({\n    source,\n    target,\n    getTrackProps,\n    disabled = false\n  }: TrackProps) {\n    return (\n      <div\n        className={\"track-style\"}\n        style={{\n          backgroundColor: disabled ? \"#999\" : \"#455a6a\",\n          left: `${source.percent}%`,\n          width: `${target.percent - source.percent}%`\n        }}\n        {...getTrackProps()}\n      />\n    );\n  }","import * as React from \"react\";\n\nconst { Component, Fragment } = React;\n\ninterface TooltipRailProps {\n  activeHandleID: string;\n  getRailProps: (props: object) => object;\n  getEventData: (e: Event) => object;\n}\n\nexport default class TooltipRail extends Component<TooltipRailProps> {\n  state = {\n    value: null,\n    percent: null\n  };\n\n  static defaultProps = {\n    disabled: false\n  };\n\n  onMouseEnter = () => {\n    document.addEventListener(\"mousemove\", this.onMouseMove);\n  };\n\n  onMouseLeave = () => {\n    this.setState({ value: null, percent: null });\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\n  };\n\n  onMouseMove = (e: Event) => {\n    const { activeHandleID, getEventData } = this.props;\n\n    if (activeHandleID) {\n      this.setState({ value: null, percent: null });\n    } else {\n      this.setState(getEventData(e));\n    }\n  };\n\n  render() {\n    const { value, percent } = this.state;\n    const { activeHandleID, getRailProps } = this.props;\n\n    return (\n      <Fragment>\n        {!activeHandleID && value ? (\n          <div\n              className={\"handle-style\"}\n            style={{\n              left: `${percent}%`,\n            }}\n          >\n            <div className=\"tooltip\">\n              <span className=\"tooltiptext\">Value: {value}</span>\n            </div>\n          </div>\n        ) : null}\n        <div\n          className={\"rail-style\"}\n          {...getRailProps({\n            onMouseEnter: this.onMouseEnter,\n            onMouseLeave: this.onMouseLeave\n          })}\n        />\n        <div className={\"rail-center-style\"} />\n      </Fragment>\n    );\n  }\n}","import * as React from \"react\";\nimport { Slider, Rail, Handles, Tracks } from \"react-compound-slider\";\nimport Handle from './Handle';\nimport Track from './Track';\nimport TooltipRail from './TooltipRail';\nimport {useEffect, useState} from \"react\";\n\n//TODO: not sure if I can remove this one - heman\nconst sliderStyle: React.CSSProperties = {\n  position: \"relative\",\n  width: \"80%\",\n  margin: \"5% 10%\"\n};\n\ninterface DateSliderProps {\n  minPossibleValue: number; //minimum possible value for slider in milliseconds - unix time\n  maxPossibleValue: number; //maximum possible value for slider in milliseconds - unix time\n  values: number[];\n  minDate: Date;\n  onMouseUp: (isStart: Boolean, date: Date) => void;\n  onSliderMove: (dates: number[]) => void;\n}\n\nexport default function DateSlider({minPossibleValue, maxPossibleValue, minDate, values, onMouseUp, onSliderMove}: DateSliderProps) {\n  const milliSecondsPerDay = 86400000;\n  const [updatedValues, setUpdatedValues] = useState([minPossibleValue, maxPossibleValue])\n  // min date and max date\n  const domain = [minPossibleValue, maxPossibleValue]\n  //running update\n  const onUpdate = (update: ReadonlyArray<number>) => {\n    setUpdatedValues(update.concat());\n    onSliderMove(updatedValues)\n  };\n\n  useEffect(() => {\n      setUpdatedValues(values)\n  }, [values])\n\n  //set update\n  const onChange = (newValues: ReadonlyArray<number>) => {\n      if (newValues[0] === values[0]){\n          onMouseUp(false, toDateSinceMinDate(newValues.concat()[1]))\n      }\n      else{\n          onMouseUp(true, toDateSinceMinDate(newValues.concat()[0]))\n      }\n  };\n\n  const toDateSinceMinDate = (val: number) => {\n    return new Date(minDate.getTime() + (val*milliSecondsPerDay));\n  }\n\n  const toDateString = (date: Date) => {\n    return \"\" + date.getFullYear() + \"/\" + (date.getMonth()+1) + \"/\" + (date.getDate());\n  }\n\n  return(\n      <div style={{ height: 10  , width: \"100%\" }}>\n        <Slider\n          mode={1}\n          step={1}\n          domain={domain}\n          rootStyle={sliderStyle}\n          onUpdate={onUpdate}\n          onChange={onChange}\n          values={values}\n        >\n          <Rail>{railProps => <TooltipRail {...railProps} />}</Rail>\n          <Handles>\n            {({ handles, activeHandleID, getHandleProps }) => (\n              <div className=\"slider-handles\">\n                {handles.map(handle => (\n                  <Handle\n                    key={handle.id}\n                    handle={handle}\n                    domain={domain}\n                    isActive={handle.id === activeHandleID}\n                    getHandleProps={getHandleProps}\n                  />\n                ))}\n              </div>\n            )}\n          </Handles>\n          <Tracks left={false} right={false}>\n            {({ tracks, getTrackProps }) => (\n              <div className=\"slider-tracks\">\n                {tracks.map(({ id, source, target }) => (\n                  <Track\n                    key={id}\n                    source={source}\n                    target={target}\n                    getTrackProps={getTrackProps}\n                  />\n                ))}\n              </div>\n            )}\n          </Tracks>\n        </Slider>\n        <div className={\"pt-4 d-flex justify-content-between\"}>\n          <div>\n            {toDateString(toDateSinceMinDate(updatedValues[0]))}\n          </div>\n          <div>\n            {toDateString(toDateSinceMinDate(updatedValues[1]))}\n          </div>\n         </div>\n    </div>\n  )\n}\n\n\n","import React, { useContext, useEffect, useState } from \"react\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Input } from \"semantic-ui-react\";\nimport { AppContext } from \"../../../../context\";\nimport { FilterType, PageState, State } from '../../../../types';\nimport { updateFilters } from \"../../../../utils/stateUpdateUtils\";\nimport Translate from \"../../../../utils/translate/translateService\";\nimport SectionHeader from \"../SectionHeader\";\nimport {enUS, fr, de} from 'date-fns/locale'\nimport DateSlider from './DateSlider';\nimport '../datepicker/DateSlider.css'\n\ninterface DatepickerProps {\n  page: string\n}\n\nexport default function Datepicker({ page }: DatepickerProps) {\n\n  const [state, dispatch] = useContext(AppContext);\n  const filters = (state[page as keyof State] as PageState).filters;\n  const earliestPublicationDate = state.calendarStartDates.minDate;\n  const latestPublicationDate = state.calendarStartDates.maxDate;\n  const millisecondsPerDay = 86400000;\n  const [sliderRange, setSliderRange] = useState<number>((latestPublicationDate.getTime()-earliestPublicationDate.getTime())/millisecondsPerDay); //in days\n  const [filterStartDate, filterEndDate]: Date[] = Array.from(filters.publish_date);\n\n  const fromDateToNumber = (date: Date) => {\n    return (date.getTime()-earliestPublicationDate.getTime())/millisecondsPerDay\n  }\n  const toDateSinceMinDate = (val: number) => {\n    return new Date(earliestPublicationDate.getTime() + (val*millisecondsPerDay));\n  }\n\n  //dates as number of days since mindate\n  const [chosenDates, setChosenDates] = useState<number[]>([fromDateToNumber(filterStartDate), fromDateToNumber(filterEndDate)])\n\n  useEffect(() => {\n    registerLocale(\"en\", enUS)\n    registerLocale(\"fr\", fr)\n    registerLocale(\"de\", de)\n  }, [])\n\n  useEffect(() => {\n    const [filterStartDate, filterEndDate]: Date[] = Array.from(filters.publish_date);\n    setChosenDates([fromDateToNumber(filterStartDate), fromDateToNumber(filterEndDate)]);\n  }, [filters.publish_date])\n\n  useEffect(() => {\n    setSliderRange(fromDateToNumber(latestPublicationDate));\n    }, [latestPublicationDate, earliestPublicationDate])\n\n  const onChange = (dates: number[]) => {\n      setChosenDates(dates)\n  }\n\n  const onUpdate = (isStart: Boolean, date: Date) => {\n    let newDates: Date[];\n\n    if (isStart) {\n      newDates = [date, toDateSinceMinDate(chosenDates[1])];\n      setChosenDates([fromDateToNumber(date), chosenDates[1]])\n    }\n    else {\n      newDates = [toDateSinceMinDate(chosenDates[0]), date];\n      setChosenDates([chosenDates[0], fromDateToNumber(date)])\n    }\n\n    updateFilters(dispatch,\n        filters,\n        \"publish_date\" as FilterType,\n        newDates,\n        page)\n  }\n\n  const CustomInput = ({ value, onClick, text }: any) => (\n      <div className=\"col-12 p-0 flex input-seperate\">\n        <Input className=\"col-12 p-0 cursor\"\n               value={value}\n               fluid={true}\n               type=\"text\"\n   \n               placeholder={Translate('SelectDate')}\n               onClick={onClick} />\n      </div>\n  )\n\n  return (\n      <div className=\"row justify-content-center\">\n        <div className=\"col-10 col align-items-center p-0\">\n          <div className=\"pb-1\">\n            <div>\n              <SectionHeader header_text={Translate('DateRange')} tooltip_text={Translate('DateRangeTooltip')} />\n            </div>\n            <DateSlider maxPossibleValue={sliderRange} minPossibleValue={0} onMouseUp={onUpdate} onSliderMove={onChange} values={chosenDates} minDate={earliestPublicationDate}/>\n            <div className=\"space-between mt-3 mb-3\">\n              <DatePicker\n                  selected={toDateSinceMinDate(chosenDates[0])}\n                  onChange={() => { }}\n                  onSelect={(date: Date) => onUpdate(true, date)}\n                  dateFormatCalendar={\"MMMM yyyy \"}\n                  dateFormat=\"yyyy/MM/dd\"\n                  minDate={earliestPublicationDate}\n                  maxDate={toDateSinceMinDate(chosenDates[1])}\n                  showYearDropdown\n                  yearDropdownItemNumber={5}\n                  scrollableYearDropdown\n                  showMonthDropdown\n                  locale={state.language}\n                  customInput={<CustomInput value={toDateSinceMinDate(chosenDates[0])} onClick={onclick} />}\n                  withPortal\n                  closeOnScroll={true}\n                  shouldCloseOnSelect={false}\n                  dropdownMode=\"select\"\n                  // TODO: also add translation in german.json\n                  todayButton={Translate(\"Today\")}\n              />\n               <DatePicker\n                  selected={toDateSinceMinDate(chosenDates[1])}\n                  onChange={() => { }}\n                  onSelect={(date: Date) => onUpdate(false, date)}\n                  dateFormat=\"yyyy/MM/dd\"\n                  dateFormatCalendar={\"MMM yyyy\"}\n                  minDate={toDateSinceMinDate(chosenDates[0])}\n                  maxDate={latestPublicationDate}\n                  showYearDropdown\n                  yearDropdownItemNumber={5}\n                  scrollableYearDropdown\n                  showMonthDropdown\n                  locale={state.language}\n                  customInput={<CustomInput value={toDateSinceMinDate(chosenDates[1])} onClick={onclick} />}\n                  withPortal\n                  closeOnScroll={true}\n                  shouldCloseOnSelect={false}\n                  dropdownMode=\"select\"\n                  todayButton=\"Today\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n  )\n}","import React, { useContext, useState } from \"react\";\r\nimport { Dropdown, Button } from 'semantic-ui-react';\r\nimport { AppContext } from \"../../../context\";\r\nimport { FilterType, PageState, State } from '../../../types';\r\nimport { sendUnityAnalyticsEvent } from \"../../../utils/analyticsUtils\";\r\nimport { updateFilters, clearFilters } from \"../../../utils/stateUpdateUtils\";\r\nimport { toPascalCase } from \"../../../utils/translate/caseChanger\";\r\nimport Translate, { getCountryName } from \"../../../utils/translate/translateService\";\r\nimport InformationIcon from \"../../shared/InformationIcon\";\r\nimport SectionHeader from \"./SectionHeader\";\r\nimport Datepicker from './datepicker/Datepicker';\r\nimport \"./Filters.css\";\r\nimport { LanguageType } from \"../../../types\";\r\n\r\ninterface FilterProps {\r\n  page: string,\r\n}\r\n\r\ninterface PopulationGroupFilterOption {\r\n  german: string;\r\n  english: string,\r\n  french: string\r\n}\r\n\r\nexport default function Filters({ page }: FilterProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const filters = (state[page as keyof State] as PageState).filters;\r\n\r\n  const formatOptions = (options: any, filter_type: FilterType) => {\r\n    if (!options) {\r\n      return\r\n    }\r\n    const formatted_options: Record<string, string>[] = [];\r\n    const optionString = toPascalCase(filter_type.toString());\r\n    const jsonObjectString = `${optionString}Options`;\r\n    switch (filter_type) {\r\n      case 'country':\r\n        options.forEach((o: string) => {\r\n          formatted_options.push({\r\n            key: o,\r\n            text: getCountryName(o, state.language, jsonObjectString),\r\n            value: o\r\n          })\r\n        });\r\n        break;\r\n      case 'population_group':\r\n         // This code block will be deprecated once as this becomes the standardized filter option logic\r\n        options.forEach((o: PopulationGroupFilterOption) => {\r\n          o = o as PopulationGroupFilterOption;\r\n          let optionString = \"\"\r\n          if (state.language === LanguageType.english) {\r\n            optionString = o.english;\r\n          } else if (state.language === LanguageType.french) {\r\n            optionString = o.french;\r\n          } else if (state.language === LanguageType.german) {\r\n            optionString = o.german;\r\n          }\r\n          formatted_options.push({\r\n            key: optionString,\r\n            text: optionString,\r\n            value: optionString\r\n          })\r\n        })\r\n        break;\r\n      default:\r\n        options.forEach((o: string) => {     \r\n            const translatedString = Translate(jsonObjectString, [toPascalCase(o as string)]);\r\n            const alternativeString = Translate(jsonObjectString, [(o as string).replace(/ /g, '')]);\r\n            let text = !alternativeString && !translatedString ? o as string : (translatedString ? translatedString : alternativeString);\r\n            formatted_options.push({\r\n              key: o as string,\r\n              text: text,\r\n              value: o as string\r\n            })\r\n        });\r\n    };\r\n    return formatted_options;\r\n  }\r\n\r\n  const addFilter = (data: any, filterType: FilterType) => {\r\n    updateFilters(\r\n      dispatch,\r\n      filters,\r\n      filterType,\r\n      data,\r\n      page)\r\n  }\r\n\r\n  const clearFilter = async () => {\r\n    // remove filters in backend\r\n    clearFilters(\r\n      dispatch,\r\n      page\r\n    )\r\n  }\r\n\r\n  const buildFilterDropdown = (filter_type: FilterType, placeholder: string) => {\r\n    return (\r\n      <div className=\"pb-3\">\r\n        <Dropdown\r\n          text={placeholder}\r\n          fluid\r\n          multiple\r\n          search\r\n          clearable\r\n          selection\r\n          options={formatOptions(state.allFilterOptions[filter_type], filter_type)}\r\n          onChange={(e: any, data: any) => {\r\n            addFilter(data.value, filter_type)\r\n          }}\r\n          value={filters[filter_type] as string[]}\r\n          defaultValue={filters[filter_type] as string[]}\r\n        />\r\n \r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  const buildFilterCheckbox = (filter_type: FilterType, label: string, title?: string, link?: string) => {\r\n    return(\r\n      <div title={title ? title: label} className={\"checkbox-item pb-3 \" } id=\"National\" onClick={(e: React.MouseEvent<HTMLElement>) => {\r\n        if(filter_type === \"unity_aligned_only\" && filters[filter_type]){\r\n          sendUnityAnalyticsEvent();\r\n        }\r\n        addFilter(\r\n          !filters[filter_type], \r\n          filter_type\r\n        )\r\n      }}>\r\n        <input className={\"ui checkbox \" + (state.pulsateUnityFilter ? \"pulse\" : \"\")} type=\"checkbox\" onClick={() => {dispatch({type: \"SET_UNITY_FILTER_PULSATE\", payload: false})}} checked={filters[filter_type] as boolean} readOnly />\r\n        <label><a href={link}\r\n                  target=\"_blank\" rel=\"noopener noreferrer\">{label}</a></label>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-12 p-0\">\r\n      <div className=\"py-3 center flex\">\r\n        <div className=\"subheading\">\r\n          {Translate(\"Filter\")}\r\n        </div>\r\n        <div className=\"tooltip-vert-adj\">\r\n          <InformationIcon\r\n            offset={10}\r\n            position=\"bottom right\"\r\n            color=\"#455a64\"\r\n            tooltipHeader={Translate(\"Filter\")}\r\n            popupSize=\"small\"\r\n            size=\"sm\"\r\n            tooltip={Translate('FilterTooltip')} />\r\n        </div>\r\n      </div>\r\n      <div className=\"row justify-content-center\">   \r\n        <div className=\"col-10 col align-items-center p-0\">\r\n          <div className=\"p-0\">\r\n            <div>\r\n              {\r\n                <SectionHeader \r\n                  header_text={Translate('StudyInformation')} \r\n                  tooltip_text={\r\n                  <div>\r\n                    <p>{Translate('StudyInformationTooltip', ['FirstParagraph'])}</p>\r\n                    <p>\r\n                      <b>{Translate('StudyInformationTooltip', ['SecondParagraph', 'PartOne'], null, [false, true])}</b>\r\n                      {Translate('StudyInformationTooltip', ['SecondParagraph', 'PartTwo'])}\r\n                    </p>\r\n                    <p>\r\n                      <b>{Translate('StudyInformationTooltip', ['ThirdParagraph', 'PartOne'], null, [false, true])}</b>\r\n                      {Translate('StudyInformationTooltip', ['ThirdParagraph', 'PartTwo'], null, [false, true])}\r\n                      <a href=\"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/technical-guidance/early-investigations\" \r\n                      target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        {Translate('StudyInformationTooltip', ['ThirdParagraph', 'PartThree'], null, [false, true])}\r\n                      </a>\r\n                      {Translate('StudyInformationTooltip', ['ThirdParagraph', 'PartFour'])}\r\n                    </p>\r\n                  </div>\r\n                  }\r\n                />\r\n              }\r\n            </div>\r\n        \r\n            <div>\r\n              {buildFilterCheckbox('unity_aligned_only', Translate('UnityStudiesOnly'), Translate('UnityStudiesOnlyLong'), \"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/technical-guidance/early-investigations\")}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('source_type', Translate('SourceType'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('overall_risk_of_bias', Translate('OverallRiskOfBias'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"p-0\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('Demographics')} tooltip_text={Translate('DemographicsTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('population_group', Translate('PopulationGroup'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('sex', Translate('Sex'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('age', Translate('Age'))}\r\n            </div>\r\n          </div>\r\n          <div className=\"p-0\">\r\n            <div>\r\n              <SectionHeader header_text={Translate('TestInformation')} tooltip_text={Translate('TestInformationTooltip')}/>\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('test_type', Translate('TestType'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('isotypes_reported', Translate('IsotypesReported'))}\r\n            </div>\r\n            <div>\r\n              {buildFilterDropdown('antibody_target', Translate('AntibodyTarget'))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      \r\n      </div>\r\n      <Datepicker page={page}/>\r\n      <div className=\"row justify-content-center\">   \r\n        <div className=\"col-10 col align-items-center p-0\">\r\n          <div className=\"pb-3\">\r\n          <Button  className=\"clear-filters-btn\" size=\"medium\" onClick={clearFilter}> {Translate('ClearAllFilters')}</Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useContext } from \"react\";\r\nimport { AppContext } from \"../../context\";\r\nimport \"./Legend.css\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport { MapSymbology } from \"components/map/MapConfig\"\r\nimport { Checkbox } from 'semantic-ui-react'\r\n\r\ninterface LegendProps {\r\n  hideLayers?: boolean\r\n}\r\n\r\nexport default function Legend({hideLayers}: LegendProps) {\r\n  const [state, dispatch] = useContext(AppContext);\r\n  const handleLegendToggle = (e: React.MouseEvent<HTMLElement>) => {\r\n    const layerName: string = e.currentTarget.id;\r\n    switch (layerName) {\r\n      case \"National\": {\r\n        return dispatch({ type: \"TOGGLE_NATIONAL_PIN_LAYER\" });\r\n      }\r\n      case \"Regional\": {\r\n        return dispatch({ type: \"TOGGLE_REGIONAL_PIN_LAYER\" });\r\n      }\r\n      case \"Local\": {\r\n        return dispatch({ type: \"TOGGLE_LOCAL_PIN_LAYER\" });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex legend-container\" key={Math.random()}>\r\n      <div className=\"legend-item\" id=\"National\" onClick={handleLegendToggle}>\r\n        <i className=\"circleBase legend-icon\" style={{ background: MapSymbology.StudyFeature.National.Color }}></i>\r\n        <label className='legend-label'>{Translate(\"NationalStudies\")}</label>\r\n        <Checkbox className=\"legend-checkbox\" checked={state.explore.legendLayers.National}/>\r\n      </div>\r\n      <div className=\"legend-item\" id=\"Regional\" onClick={handleLegendToggle}>\r\n        <i className=\"circleBase legend-icon\" style={{ background: MapSymbology.StudyFeature.Regional.Color }}></i>\r\n        <label className='legend-label'>{Translate(\"RegionalStudies\")}</label>\r\n        <Checkbox className=\"legend-checkbox\" checked={state.explore.legendLayers.Regional}/>\r\n      </div>\r\n      <div className=\"legend-item mb-1\" id=\"Local\" onClick={handleLegendToggle}>\r\n        <i className=\"circleBase legend-icon\" style={{ background: MapSymbology.StudyFeature.Local.Color }}></i>\r\n        <label className='legend-label'>{Translate(\"LocalStudies\")}</label>\r\n        <Checkbox className=\"legend-checkbox\" checked={state.explore.legendLayers.Local}/>\r\n      </div>\r\n      { hideLayers ? null : \r\n      <>\r\n      <div className=\"legend-item\">\r\n        <i className=\"block legend-icon\" style={{ background: MapSymbology.CountryFeature.HasData.Color, outlineWidth: 1, outlineStyle: \"solid\" }}></i>\r\n        <label>{Translate(\"CountryEstimatesExist\")}</label>\r\n      </div>\r\n      <div className=\"legend-item\">\r\n        <i className=\"block legend-icon\" style={{ background: MapSymbology.CountryFeature.Default.Color, outlineWidth: 1, outlineStyle: \"solid\" }}></i>\r\n        <label>{Translate(\"CountryEstimatesNotExist\")}</label>\r\n      </div>\r\n      <div className=\"legend-item\">\r\n        <i className=\"block legend-icon\" style={{ background: MapSymbology.CountryFeature.Disputed.Color, outlineWidth: 1, outlineStyle: \"solid\" }}></i>\r\n        <label>{Translate(\"NotApplicable\")}</label>\r\n      </div>\r\n      </>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AppContext } from \"../../../context\";\r\nimport { State, PageState } from \"../../../types\";\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport \"./TotalStats.css\";\r\n\r\ninterface TotalStatsProps {\r\n  page: string;\r\n}\r\n\r\nexport default function TotalStats({ page }: TotalStatsProps) {\r\n  const [state] = useContext(AppContext);\r\n  const [countries, setNumCountries] = useState(0);\r\n  const [numStudies, setNumStudies] = useState(0);\r\n  const [n, setN] = useState(0);\r\n  const pageState = state[page as keyof State] as PageState;\r\n\r\n  useEffect(() => {\r\n    const updateCountryPrevalence = async () => {\r\n      setNumCountries(pageState.estimateGradePrevalences.length);\r\n      setN(\r\n        pageState.estimateGradePrevalences\r\n          .map((o: Record<string, any>) => o.testsAdministered)\r\n          .reduce((a: number, b: number) => a + b, 0)\r\n      );\r\n      setNumStudies(\r\n        pageState.estimateGradePrevalences\r\n          .map((o: Record<string, any>) => o.numberOfStudies)\r\n          .reduce((a: number, b: number) => a + b, 0)\r\n      );\r\n    };\r\n    updateCountryPrevalence();\r\n  }, [pageState.estimateGradePrevalences]);\r\n\r\n  return (\r\n    <div className=\"col-12 p-0 stats-container\">\r\n      <div className=\"mt-3 mb-2 center subheading\">\r\n        {Translate(\"SummaryStatistics\")}\r\n      </div>\r\n      <div className=\"flex middle py-2\">\r\n        <div className=\"secondary-statistic\">{numStudies}</div>\r\n        <div className=\"secondary-statistic-title px-1 center\">\r\n          {Translate(\"SeroprevalenceStudies\")}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex middle py-2\">\r\n        <div className=\"secondary-statistic-title px-1 center\">\r\n          {Translate(\"CountriesIncluded\", [\"PartOne\"])}\r\n        </div>\r\n        <div className=\"secondary-statistic\">{countries}</div>\r\n        <div className=\"secondary-statistic-title px-1 center\">\r\n          {Translate(\"CountriesIncluded\", [\"PartTwo\"])}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex middle py-2\">\r\n        <div className=\"secondary-statistic-title center px-1\">\r\n          {Translate(\"IncludingParticipants\", [\"PartOne\"])}\r\n        </div>\r\n        <div className=\"secondary-statistic center\">{n.toLocaleString()}</div>\r\n        <div className=\"secondary-statistic-title px-1 center \">\r\n          {Translate(\"IncludingParticipants\", [\"PartTwo\"])}\r\n        </div>\r\n      </div>\r\n      <br />\r\n      <div className=\"flex middle py-2\">\r\n        <div className=\"secondary-statistic-title px-1 center\">\r\n        <span className=\"text-right\">\r\n          {Translate(\"SummaryStatisticsLink1\")}\r\n            <a\r\n              href=\"https://serotracker.com/en/Publications#BiblioDigests\"\r\n              target=\"__blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"cite-link\"\r\n            >\r\n              {\" \"}\r\n              {Translate(\"SummaryStatisticsLink2\")}\r\n            </a>\r\n          </span>\r\n        </div>\r\n      </div>     \r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from \"react\";\nimport Translate from \"../../utils/translate/translateService\";\nimport { sendAnalyticsEvent } from '../../utils/analyticsUtils';\nimport { Button, Popup } from \"semantic-ui-react\";\nimport { Icon } from 'semantic-ui-react';\nimport { SemanticICONS } from \"semantic-ui-react/dist/commonjs/generic\";\nimport airtableLogo from '../../assets/images/airtable-icon.svg';\nimport { IconName } from '../../types';\ninterface DownloadButtonProps {\n    buttonLabelKey?: string;\n    downloadLink?: string;\n    formLink?: string;\n    iconName: IconName;\n    popupText: string;\n    id?: string;\n  }\n\nexport default function DownloadButton(props: DownloadButtonProps) {\n    const [letDownload, setLetDownload] = useState(false);\n    const { buttonLabelKey,\n            downloadLink ,\n            formLink,\n        iconName, popupText} = props;\n    \n    useEffect(() => {\n        const doneSurvey = localStorage.getItem(\"DownloadFormCompleted\");\n        if (doneSurvey) {\n            setLetDownload(true);\n        }\n    }, [])\n\n    const clickButton = async () => {\n        sendAnalyticsEvent({ category: 'Data Link Click', action: 'click', label: buttonLabelKey as string})\n        localStorage.setItem('DownloadFormCompleted', \"true\");\n        // Only allow users to access download form 3 mins after they clicked the original link\n        // to deter users from getting data without actually filling out the form\n        await new Promise(resolve => { setTimeout(resolve, 60 * 3 * 1000) });\n        setLetDownload(true);\n    }\n\n\n    const getButtonLink = () => {\n        return letDownload ? downloadLink : formLink;\n    }\n    \n    return (\n        iconName === IconName.airtable ?       \n        <Popup  popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }} content={Translate(popupText)} size=\"small\" style={{textAlign: \"left\"}} position=\"top left\" trigger={\n            <Button key={buttonLabelKey} size=\"large\" iconName={iconName} className=\"download-data-btn mb-2\" id={props.id} >\n                <a\n                    onClick={() => clickButton()}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    href={getButtonLink()}\n                    className='d-flex align-items-center'\n                >\n                    <span className=\"button-text\"> {Translate(buttonLabelKey as string)}</span>\n                    <img className=\"ml-3\" src={airtableLogo} alt=\"airtable-logo\" width=\"24\" height=\"24\"/>\n                </a>\n            </Button>\n        }/>\n  \n    :  \n\n    <Popup  popperModifiers={{ preventOverflow: { boundariesElement: \"window\" } }} id={props.id} size=\"small\" style={{textAlign: \"left\"}}content={Translate(popupText)} position=\"top left\" trigger={\n        <Button id={props.id} key={buttonLabelKey}  size=\"large\" iconName={iconName} className=\"download-data-btn mb-2\">\n            <a\n                onClick={() => clickButton()}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href={getButtonLink()}\n                className='d-flex align-items-center'\n            >\n                <span className=\"button-text\"> {Translate(buttonLabelKey as string)}</span>\n                <Icon\n                    name={iconName as SemanticICONS}\n                    size=\"large\"\n                    className=\"ml-3\"\n                />\n            </a>\n        </Button>\n    }/>\n    );\n  }\n  ","import React, { useContext, useState } from \"react\";\r\nimport Translate, { TranslateDate } from \"utils/translate/translateService\";\r\nimport TotalStats from \"./TotalStats\";\r\nimport { Divider } from \"semantic-ui-react\";\r\nimport DownloadButton from \"components/shared/DownloadButton\";\r\nimport { PAGE_HASHES } from \"../../../constants\";\r\nimport { IconName } from \"../../../types\";\r\nimport \"../sidebar.scss\";\r\nimport { AppContext } from \"../../../context\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../../constants\";\r\n\r\ninterface SideBarProps {\r\n  page: string;\r\n}\r\n\r\nconst UpdatedAt = ({ updatedAt }: { updatedAt: string }) => {\r\n  // only renders 'last updated' when we have a valid date\r\n  console.log(\"updatedAt\", updatedAt);\r\n  return updatedAt ? (\r\n    <span className=\"pr-2\">\r\n      {Translate(\"Footer\", [\"LastUpdated\"])}:{\" \"}\r\n      <b className=\"updated-at-bold\">{TranslateDate(updatedAt)}</b>\r\n    </span>\r\n  ) : null;\r\n};\r\n\r\nconst lancetId =\r\n  \"https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30631-9/fulltext#%20\";\r\n\r\nconst Citation = () => (\r\n  <span className=\"text-right\">\r\n    {Translate(\"Footer\", [\"CiteAs\"])}\r\n    <a\r\n      href={lancetId}\r\n      target=\"__blank\"\r\n      rel=\"noopener noreferrer\"\r\n      className=\"cite-link\"\r\n    >\r\n      <i>{Translate(\"Footer\", [\"LancetInfDis\"])}</i>{\" \"}\r\n      {Translate(\"Footer\", [\"Article\"])}\r\n    </a>\r\n  </span>\r\n);\r\n\r\nexport default function LeftSidebar({ page }: SideBarProps) {\r\n  const [{ updatedAt }] = useContext(AppContext);\r\n\r\n  const airtableDownloadProps = {\r\n    buttonLabelKey: \"DownloadCsv\",\r\n    downloadLink:\r\n      \"https://airtable.com/shraXWPJ9Yu7ybowM/tbljN2mhRVfSlZv2d?backgroundColor=blue&viewControls=on\",\r\n    formLink:\r\n      \"https://docs.google.com/forms/d/e/1FAIpQLSdGd_wlq8YSyVPs2AOi1VfvxuLzxA8Ye5I3HkQwW_9yrumsCg/viewform\",\r\n    iconName: IconName.airtable,\r\n    popupText: \"DownloadAirtable\",\r\n  };\r\n\r\n  const githubDownloadProps = {\r\n    buttonLabelKey: \"AccessGithub\",\r\n    downloadLink: \"https://github.com/serotracker/sars-cov-2-data\",\r\n    formLink:\r\n      \"https://docs.google.com/forms/d/e/1FAIpQLSdGd_wlq8YSyVPs2AOi1VfvxuLzxA8Ye5I3HkQwW_9yrumsCg/viewform\",\r\n    iconName: IconName.github,\r\n    popupText: \"DownloadGithub\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"sidebar-container flex left-sidebar\">\r\n      <TotalStats page={page} />\r\n      <Divider />\r\n      <div className=\"mt-3 mb-2 center subheading\">\r\n        <p>{Translate(\"Welcome\")}</p>\r\n      </div>\r\n      <div>\r\n        <p>{Translate(\"ExploreBlurb\", [\"FirstParagraph\"])}</p>\r\n        {\"\\n\"}\r\n        <p>{Translate(\"ExploreBlurb\", [\"SecondParagraph\"])}</p>\r\n      </div>\r\n\r\n      <div className=\"d-flex justify-content-center mt-3\">\r\n        <span style={{ margin: \"0\" }}>\r\n          <DownloadButton {...airtableDownloadProps} />\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"d-flex justify-content-center mt-1 full-width-button\">\r\n        <span style={{ margin: \"0\" }} id={PAGE_HASHES.Explore.AccessGithub}>\r\n          <DownloadButton {...githubDownloadProps} />\r\n        </span>\r\n      </div>\r\n\r\n      <Divider />\r\n      <div>\r\n        <p>\r\n          <Citation /> \r\n        </p>\r\n        <p>\r\n          <UpdatedAt updatedAt={updatedAt} />\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, {useState, useContext, useEffect} from \"react\";\nimport { AppContext } from \"context\";\nimport { Menu, Segment, Sidebar, Icon } from \"semantic-ui-react\";\nimport { PageStateEnum } from \"../../../types\";\nimport MapboxMap from \"components/map/MapboxMap\"\nimport Datepicker from \"../../sidebar/right-sidebar/datepicker/Datepicker\";\nimport Filters from \"../../sidebar/right-sidebar/Filters\";\nimport Legend from \"components/map/Legend\";\nimport LeftSidebar from \"../../sidebar/left-sidebar/LeftSidebar\";\nimport './Explore.scss';\n\nexport default function ExploreMobile() {\n  const [showMobileFilters, setShowFilters] = useState(false);\n  const [showSummary, setShowSummary] = useState(false);\n  const [showLegend, setShowLegend] = useState(false);\n  const [state] = useContext(AppContext);\n\n  const handleFilterToggle = (showMobile: boolean = false, showSummary: boolean = false, showLegend: boolean = false) => {\n    setShowFilters(showMobile);\n    setShowSummary(showSummary);\n    setShowLegend(showLegend);\n  }\n\n  useEffect(() => {\n    setShowFilters(state.pulsateUnityFilter);\n  }, [state.pulsateUnityFilter])\n\n  return (\n    <div className=\"fill flex explore\" style={{height: \"100%\"}}>\n      <Sidebar.Pushable as={Segment} className=\"fill flex\">\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showMobileFilters}\n          width='wide'\n        >\n        <Filters page={PageStateEnum.explore} />\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle()}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n        </Sidebar>\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          direction=\"left\"\n          visible={showSummary}\n          width='wide'\n        >\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle()}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n          <LeftSidebar page={PageStateEnum.explore}/>\n        </Sidebar>\n        <Sidebar\n          as={Menu}\n          animation='overlay'\n          icon='labeled'\n          className=\"col-10 p-0\"\n          vertical\n          visible={showLegend}\n          width='wide'\n        >\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => handleFilterToggle()}\n            className={'icon'}\n            color={'#455a64'}\n            style={{ fontWeight: 300, position: 'absolute', zIndex: 3000, top: 10, right: 20 }}\n            size={\"lg\"} />\n            <div className='m-3 mt-5'>\n              <Legend/>\n            </div>\n        </Sidebar>\n        <Sidebar.Pusher className=\"fill flex\">\n          <MapboxMap\n              countriesConfig={{\n                estimateGradePrevalences: state.explore.estimateGradePrevalences\n              }}\n              studyPinsConfig={{\n                records: state.explore.records\n              }}\n              />\n          {/* Icons */}\n          <div className=\"sidebar__info-btn\">\n             <Icon\n             name='filter'\n             size='large'\n             className='ml-1 mt-1'\n             onClick={() => handleFilterToggle(!showMobileFilters, false, false)}\n             />\n          </div>\n          <div className=\"sidebar__filter-btn\">\n          <Icon\n             name='question circle'\n             size='large'\n             className='ml-1 mt-1'\n             onClick={() => handleFilterToggle(false, !showSummary, false)}\n             />\n          </div>\n          <div className=\"sidebar__map-btn\">\n          <Icon\n             name='map'\n             size='large'\n             className='ml-1 mt-1'\n             onClick={() => handleFilterToggle(false, false, !showMobileFilters)}\n             />\n          </div>\n        </Sidebar.Pusher>\n      </Sidebar.Pushable>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { Modal } from \"semantic-ui-react\";\nimport 'sass/components/shared.scss';\nimport Translate from \"../../utils/translate/translateService\";\n\ninterface MaintenanceModalProps {\n    isOpen: boolean,\n    headerText: string // specifies if analysis or explore page\n  }\n\nexport default function MaintenanceModal(props: MaintenanceModalProps) {\n\n    const { isOpen, headerText } = props;\n\n    return (\n        <Modal\n          className=\"maintenance-modal\"\n          closeOnEscape={false}\n          closeOnDimmerClick={false}\n          open={isOpen}\n        >\n          <Modal.Header>{Translate('TemporaryMaintenance')}</Modal.Header>\n          <Modal.Content>\n            <p>{Translate('TemporaryMaintenanceDescription')}</p>\n          </Modal.Content>\n        </Modal>\n    );\n}\n","import React, {useContext, useEffect, useState} from \"react\";\nimport {useMediaQuery} from \"react-responsive\";\nimport {Loader, Icon, Modal, Button} from \"semantic-ui-react\";\nimport {isMaintenanceMode, mobileDeviceOrTabletWidth, PAGE_HASHES} from \"../../../constants\";\nimport {AppContext} from \"../../../context\";\nimport {PageStateEnum, FiltersConfig} from \"../../../types\";\nimport MapboxMap from '../../map/MapboxMap';\nimport MobileComponents from './ExploreMobile';\nimport MaintenanceModal from \"../../shared/MaintenanceModal\";\nimport LeftSidebar from \"../../sidebar/left-sidebar/LeftSidebar\";\nimport Filters from \"../../sidebar/right-sidebar/Filters\";\nimport Legend from \"components/map/Legend\";\nimport { fetchExploreData } from \"../../../utils/stateUpdateUtils\";\nimport { sendFiltersAnalyticsEvent, sendUnityAnalyticsEvent } from \"../../../utils/analyticsUtils\";\nimport Translate from \"../../../utils/translate/translateService\";\n\ninterface ExploreProps {\n    initialFilters?: FiltersConfig;\n}\n\nexport default function Explore({initialFilters}: ExploreProps) {\n    const isMobileDeviceOrTablet = useMediaQuery({maxDeviceWidth: mobileDeviceOrTabletWidth});\n    const [state, dispatch] = useContext(AppContext);\n    const [showUnityBanner, setShowUnityBanner] = useState(false);\n    const [mobileModalOpen, setMobileModalOpen] = useState(isMobileDeviceOrTablet);\n\n    // Apply initial input filters and get records\n    useEffect(() => {\n        if (initialFilters) {\n            setShowUnityBanner(true);\n            dispatch({\n                type: 'UPDATE_ALL_FILTERS',\n                payload: {\n                    newFilters: initialFilters,\n                    pageStateEnum: PageStateEnum.explore\n                }\n            });\n            sendFiltersAnalyticsEvent(initialFilters);\n            if (initialFilters.unity_aligned_only) {\n                sendUnityAnalyticsEvent();\n            }\n        }\n\n        fetchExploreData(dispatch, state.explore.filters, PageStateEnum.explore)\n        // We only want this to run once so we pass no dependencies. Do not remove this\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    return (\n        <>\n            <Modal\n                onClose={() => {setMobileModalOpen(false)}}\n                open={mobileModalOpen}\n                size=\"mini\"\n                closeOnEscape={true}\n                closeOnDimmerClick={true}\n            >\n                <Modal.Header className={\"flex justify-content-center text-center\"}>\n                    {Translate(\"Welcome\")}\n                </Modal.Header>\n                <Modal.Content className={\"text-center\"}>\n                    {Translate(\"OptimisedFunctionality\")}\n                </Modal.Content>\n                <Modal.Actions className={\"flex justify-content-center\"}>\n                    <Button onClick={() => setMobileModalOpen(false)} style={{backgroundColor: \"#094180\", color:\"#FFFFFF\"}}>\n                        {Translate(\"Okay\")}\n                    </Button>\n                </Modal.Actions>\n            </Modal>\n            <div className=\"fill flex dashboard\">\n                {!isMobileDeviceOrTablet ?\n                    (<>\n                    {showUnityBanner && (<div className={ \"px-4 flex center-item justify-content-between w-100 visible\"} style={{backgroundColor: \"#E8EBEF\", height: \"50px\"}}>\n                            <div style={{width: \"80%\"}}>\n                                {Translate(\"UnityBanner\", [\"Currently\"])}\n                              <a href={\"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/technical-guidance/early-investigations\"}\n                                 target=\"_blank\" rel=\"noopener noreferrer\">\n                                {Translate(\"UnityBanner\", [\"ProtocolLink\"])}\n                              </a> {Translate(\"UnityBanner\",[\"ViewDatabase\"])} <span className={\"link\"} onClick={() => {dispatch({type: \"SET_UNITY_FILTER_PULSATE\", payload: true})}}> {Translate(\"UnityBanner\", [\"WHOUnityFilter\"])} </span>\n                                {Translate(\"UnityBanner\", [\"Filter\"])}\n                            </div>\n                            <Icon link onClick={() => {setShowUnityBanner(false)}} name='close'/>\n                    </div>)}\n                        <div className=\"flex h-100 w-100\">\n                            <div className=\"col-2 p-0 flex\">\n                                <LeftSidebar page={PageStateEnum.explore}/>\n                            </div>\n                            <div className=\"col-8 p-0 flex\" id={PAGE_HASHES.Explore.Map}>\n                                <Loader indeterminate active={state.explore.isLoading}/>\n                                <div className=\"info flex legend center-item\">\n                                    <Legend/>\n                                </div>\n                                <MapboxMap\n                                    countriesConfig={{\n                                        estimateGradePrevalences: state.explore.estimateGradePrevalences\n                                    }}\n                                    studyPinsConfig={{\n                                        records: state.explore.records\n                                    }}\n                                />\n                            </div>\n                            <div className=\"col-2 p-0 flex sidebar-container\">\n                                <Filters page={PageStateEnum.explore}/>\n                            </div>\n                        </div>\n                    </>) :\n                    (\n\n                          <div className=\"flex w-100\">\n                              {showUnityBanner && (<div className={\"px-4 flex center-item justify-content-between w-100\"}\n                                                       style={{backgroundColor: \"#E8EBEF\", height: \"150px\"}}>\n                                  <div style={{width: \"80%\"}}>\n                                      {Translate(\"UnityBanner\", [\"Currently\"])}\n                                      <a href={\"https://www.who.int/emergencies/diseases/novel-coronavirus-2019/technical-guidance/early-investigations\"}\n                                         target=\"_blank\" rel=\"noopener noreferrer\">\n                                          {Translate(\"UnityBanner\", [\"ProtocolLink\"])}\n                                      </a> {Translate(\"UnityBanner\", [\"ViewDatabase\"])} <span className={\"link\"}\n                                                                                              onClick={() => {\n                                                                                                  dispatch({type: \"SET_UNITY_FILTER_PULSATE\", payload: true})\n                                                                                              }}> {Translate(\"UnityBanner\", [\"WHOUnityFilter\"])} </span>\n                                      {Translate(\"UnityBanner\", [\"Filter\"])}\n                                  </div>\n                                  <Icon link onClick={() => {\n                                      setShowUnityBanner(false)\n                                  }} name='close'/>\n                              </div>)}\n                            <MobileComponents/>\n                          </div>\n                    )}\n            </div>\n            <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Explore\"}/>\n        </>\n    )\n}\n","import React, { useState } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { Link } from \"react-router-dom\";\nimport { Segment, Button, Accordion, Icon, AccordionTitleProps, SemanticICONS } from \"semantic-ui-react\";\nimport { isMaintenanceMode, mobileDeviceOrTabletWidth, PAGE_HASHES } from \"../../constants\";\nimport { sendAnalyticsEvent } from \"../../utils/analyticsUtils\";\nimport Translate, { TranslateObject } from \"../../utils/translate/translateService\";\nimport \"./static.css\";\nimport MaintenanceModal from \"../shared/MaintenanceModal\";\nimport DownloadButton from \"../shared/DownloadButton\";\nimport {IconName} from \"../../types\";\ninterface DropdownQuestion {\n  Question: string;\n  Answer: string | object;\n  Links?: { [index: string]: string };\n  LinkTexts?: { [index: string]: string };\n}\n\nconst clickLink = (link: string) => {\n  sendAnalyticsEvent({\n    category: \"Data Link Click\",\n    action: \"click\",\n    label: link,\n  });\n};\n\nfunction DataButtons() {\n  const dataButtons: { label: string; link: string; id?: string }[] = [\n    {\n      label: \"OurProtocol\",\n      link: \"https://docs.google.com/document/d/1NYpszkr-u__aZspFDFa_fa4VBzjAAAAxNxM1rZ1txWU/edit\",\n    },\n    {\n      label: \"DataDictionary\",\n      link: \"https://airtable.com/shr9XzggGpYFqMdJF/tblIdx2b6ZOLevdJr\",\n      id: PAGE_HASHES.Data.DataDictionary,\n    },\n    {\n      label: \"ChangeLog\",\n      link: \"https://airtable.com/shrxpAlF6v0LeRYkA\",\n      id: PAGE_HASHES.Data.ChangeLog,\n    },\n    {\n      label: \"SubmitSource\",\n      link: \"https://docs.google.com/forms/d/e/1FAIpQLSdvNJReektutfMT-5bOTjfnvaY_pMAy8mImpQBAW-3v7_B2Bg/viewform\",\n      id: PAGE_HASHES.Data.SubmitSource,\n    },\n  ];\n  const buttons = dataButtons.map((b, index) => (\n    <Button key={index} color=\"blue\" size=\"large\" className=\"mb-2 mr-2\" id={b?.id}>\n      <a onClick={() => clickLink(b.label)} target=\"_blank\" rel=\"noopener noreferrer\" href={b.link}>\n        <p className=\"button-text\"> {Translate(b.label)}</p>\n      </a>\n    </Button>\n  ));\n\n\n  const airtableDownloadProps = {\n    id: PAGE_HASHES.Data.DownloadCsv,\n    buttonLabelKey: \"DownloadCsv\", \n    downloadLink: \"https://airtable.com/shraXWPJ9Yu7ybowM/tbljN2mhRVfSlZv2d?backgroundColor=blue&viewControls=on\" ,\n    formLink: \"https://docs.google.com/forms/d/e/1FAIpQLSdGd_wlq8YSyVPs2AOi1VfvxuLzxA8Ye5I3HkQwW_9yrumsCg/viewform\" ,\n    iconName: IconName.airtable,\n    popupText: \"DownloadAirtable\",\n  }\n\n  const githubDownloadProps = {\n    id: PAGE_HASHES.Data.AccessGithub,\n    buttonLabelKey: \"AccessGithub\", \n    downloadLink: \"https://github.com/serotracker/sars-cov-2-data\" ,\n    formLink: \"https://docs.google.com/forms/d/e/1FAIpQLSdGd_wlq8YSyVPs2AOi1VfvxuLzxA8Ye5I3HkQwW_9yrumsCg/viewform\" ,\n    iconName: IconName.github,\n    popupText: \"DownloadGithub\",\n  }\n\n  return (\n    <div>\n      {buttons}\n      <span>\n        <span className=\"mr-2\">\n          <DownloadButton\n          {...airtableDownloadProps}\n          />\n        </span>\n        <span className=\"mr-2\">\n          <DownloadButton\n          {...githubDownloadProps}\n          />\n        </span>\n      </span>\n    </div>\n  );\n}\n\nfunction DataDropdowns() {\n  const [activeIndex, setActiveIndex] = useState(-1);\n  const handleClick = (e: any, data: AccordionTitleProps) => {\n    const { index, titleText } = data;\n    const newIndex = activeIndex === index ? -1 : index;\n    setActiveIndex(newIndex as number);\n    if(newIndex != -1){\n      // Only send event if question was opened, not closed\n      sendAnalyticsEvent({\n        category: \"Data FAQ\",\n        action: \"open\",\n        label: titleText,\n      });\n    } \n  };\n\n  const dropdownContent = Object.entries(TranslateObject(\"DropdownQuestions\")).map(\n    (dropdownQuestion: [string, DropdownQuestion], index: number) => (\n      <Accordion key={index} fluid styled>\n        <Accordion.Title active={activeIndex === index} index={index} onClick={handleClick} className=\"accordion-title\">\n          <Icon name=\"dropdown\" /> {dropdownQuestion[1][\"Question\"]}\n        </Accordion.Title>\n        <Accordion.Content active={activeIndex === index}>\n          {dropdownQuestion[1][\"Links\"] ? (\n            <div>\n              {Object.entries(dropdownQuestion[1][\"Answer\"]).map((answer, index) => (\n                <p className=\"no-space\">\n                  {\" \"}\n                  {answer[1]}{\" \"}\n                  <a\n                    href={dropdownQuestion[1][\"Links\"]?.[`Link${index + 1}`]}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {dropdownQuestion[1][\"LinkTexts\"]?.[`LinkText${index + 1}`]}\n                  </a>\n                </p>\n              ))}\n            </div>\n          ) : (\n            <p>{dropdownQuestion[1][\"Answer\"]}</p>\n          )}\n        </Accordion.Content>\n      </Accordion>\n    )\n  );\n  return <div>{dropdownContent}</div>;\n}\n\nexport default function Data() {\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxDeviceWidth: mobileDeviceOrTabletWidth,\n  });\n\n  return (\n    <>\n      <div className=\"col-12 page pb-5\">\n        <div className={isMobileDeviceOrTablet ? \"static-mobile py-2\" : \"static-content py-2\"}>\n          <div className={isMobileDeviceOrTablet ? \"pt-3\" : \"pt-0\"}>\n            <h1>{Translate(\"OurData\")}</h1>\n            <p>{Translate(\"WhatWeDoText\", [\"FirstParagraph\"])}</p>\n            <p>{Translate(\"WhatWeDoText\", [\"SecondParagraph\"])}</p>\n            <DataButtons />\n          </div>\n\n          <div className={isMobileDeviceOrTablet ? \"pt-3\" : \"pt-0\"} id={PAGE_HASHES.Data.FAQ}>\n            <h1 >{Translate(\"FrequentlyAskedQuestions\")}</h1>\n            <DataDropdowns />\n          </div>\n\n          <div className={isMobileDeviceOrTablet ? \"pb-3 pt-3\" : \"pt-0 pb-0\"} id={PAGE_HASHES.Data.DataTable}>\n            <h1>{Translate(\"DataTable\")}</h1>\n            <p>\n              <span>{Translate(\"UseOfData\", null, null, [false, true])}</span>\n              <Link to=\"/TermsOfUse\">{Translate(\"TermsOfUse\")}</Link>.\n            </p>\n            <Segment>\n              <iframe\n                title=\"Data Table\"\n                className=\"iframe-style\"\n                src={\n                  isMobileDeviceOrTablet\n                    ? \"https://airtable.com/embed/shrtuN7F8x4bdkdDA?backgroundColor=cyan&layout=card&viewControls=on\"\n                    : \"https://airtable.com/embed/shrtuN7F8x4bdkdDA?backgroundColor=cyan&viewControls=on\"\n                }\n              ></iframe>\n            </Segment>\n          </div>\n        </div>\n      </div>\n      <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"Data\"} />\n    </>\n  );\n}\n","import { faFile } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport Translate, {TranslateDate} from \"../../../utils/translate/translateService\";\r\nimport { Card } from \"semantic-ui-react\";\r\nimport {PublicationProps} from \"./PublicationsConstants\"\r\n\r\nexport function MediaCard(props: PublicationProps) {\r\n  return (\r\n    <div className=\"py-4 px-2 flex justify-content-center\">\r\n      <Card className={\"publications-card\"}>\r\n        {props.img && (\r\n          <Card.Content>\r\n            <div className=\"flex center-item publications-card-image mb-2\">\r\n              <img src={props.img} alt=\"\" className=\"fit publications-card-image\"/>\r\n              <a href={props.url}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"overlay flex publication-link\">\r\n                <div className=\"publications-card-image-overlay flex fill center-item column\">\r\n                  <div>{Translate('ViewFile')}</div>\r\n                  <div className=\"flex center-item\">\r\n                    <FontAwesomeIcon\r\n                      icon={faFile}\r\n                      className={'icon'}\r\n                      color={'white'}\r\n                      size={\"lg\"} />\r\n                  </div>\r\n                </div>\r\n              </a>\r\n            </div>\r\n          </Card.Content>\r\n        )}\r\n        <Card.Content>\r\n          <div className=\"publications-card-title m-0\">\r\n            <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"publication-link\">\r\n              {props.italicize ? <i>{props.italicize}&nbsp;</i> : null}{Translate(props.titleKey1, props.titleKey2)}\r\n            </a>\r\n          </div>\r\n          {(props.date) && (\r\n            <div className=\"publications-card-date\">\r\n              {TranslateDate(props.date + \"T00:00:00\")}\r\n            </div>\r\n          )}\r\n        </Card.Content>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\nimport Translate, {TranslateDate} from \"../../../utils/translate/translateService\";\nimport { Card } from \"semantic-ui-react\";\nimport {BiblioDigestProps} from \"./PublicationsConstants\";\nimport \"./biblioDigestStyles.scss\";\n\nexport function BiblioDigestCard(props: BiblioDigestProps) {\n  return (\n    <div className=\"py-4 px-2 flex justify-content-center\">\n      <Card className={\"biblio-digest-card\"}>\n        <Card.Content className=\"my-2 mx-4\">\n            <h4 className=\"biblio-digest-card-title pb-4\">\n                <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"publication-link\">\n                {Translate(\"BiblioDigestCard\", [\"Title\"])} {TranslateDate(props.screeningStartDate + \"T00:00:00\")} - {TranslateDate(props.screeningEndDate + \"T00:00:00\")}\n                </a>\n            </h4>\n            <div className=\"pb-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"Published\"])} {TranslateDate(props.publishDate + \"T00:00:00\")}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pb-2\">\n                <div className=\"biblio-digest-card-text-bold\">{Translate(\"BiblioDigestCard\", [\"NewSerosurveys\"])}</div>\n                <div className=\"biblio-digest-card-text-bold\">{props.serosurveysTotal}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"AFRO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysAFRO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"EMRO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysEMRO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"EURO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysEURO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"PAHO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysPAHO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"SEARO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysSEARO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"WPRO\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysWPRO}</div>\n            </div>\n            <div className=\"biblio-digest-card-row pl-3\">\n                <div className=\"biblio-digest-card-text\">{Translate(\"BiblioDigestCard\", [\"NonMember\"])}</div>\n                <div className=\"biblio-digest-card-text\">{props.serosurveysNonMember}</div>\n            </div>\n            {(props.sourcesAdded) && (\n                <div className=\"biblio-digest-card-row pt-2\">\n                    <div className=\"biblio-digest-card-text-bold\">{Translate(\"BiblioDigestCard\", [\"NewSources\"])}</div>\n                    <div className=\"biblio-digest-card-text-bold\">{props.sourcesAdded}</div>\n                </div>\n            )}\n        </Card.Content>\n      </Card>\n    </div>\n  )\n}\n","import YearInReview2020 from '../../../assets/images/YearInReview2020.png'\nimport PreprintUpdate from '../../../assets/images/IndustryUpdatePre_2020.png'\nimport BloodBank from '../../../assets/images/SeroTrackerBloodBank_July_2020.png'\nimport MedRxiv from '../../../assets/images/Prepublication.png'\nimport LancetId from '../../../assets/images/LancetIDArticle.png'\nimport InsuringTheEconomy from '../../../assets/images/InsuringTheEconomy.png'\nimport PlosOnePub from '../../../assets/images/PlosOnePub.png'\nimport theEconomist from '../../../assets/images/PubMedia/1200px-The_Economist_Logo.svg.png'\nimport newScientist from '../../../assets/images/PubMedia/3622.1582633003.png'\nimport bloomberg from '../../../assets/images/PubMedia/Bloomberg_Logo.jpg'\nimport chi from '../../../assets/images/PubMedia/chi_logo_89px.png'\nimport cision from '../../../assets/images/PubMedia/cision_logo.svg'\nimport CITF from '../../../assets/images/PubMedia/CITF-logo-BIL-700.png'\nimport taz from '../../../assets/images/PubMedia/download.png'\nimport forbes from '../../../assets/images/PubMedia/Forbes-logo.png'\nimport HIMSS from '../../../assets/images/PubMedia/HIMSSlogo_Hfullcolor_RGB.png'\nimport joule from '../../../assets/images/PubMedia/joule.png'\nimport journalQuebec from '../../../assets/images/PubMedia/JournalQuebec_Logo2013-.png'\nimport marcia from '../../../assets/images/PubMedia/marcia news.png'\nimport mars from '../../../assets/images/PubMedia/mars.jpg'\nimport mcgill from '../../../assets/images/PubMedia/mcgill-university-logo-png-transparent-cropped.png'\nimport mckinsey from '../../../assets/images/PubMedia/mckinsey_logo.png'\nimport NYT from '../../../assets/images/PubMedia/New-York-Times-Logo8x6_0.png'\nimport oxford from '../../../assets/images/PubMedia/oxford.jpg'\nimport UCalgary from '../../../assets/images/PubMedia/UCalgary.svg'\nimport waterloo from '../../../assets/images/PubMedia/waterloo.png'\nimport covidend from '../../../assets/images/PubMedia/covidend-global-logo.png'\n\n\n// Note: Dates should be strings in YYYY-MM-DD format\nexport interface PublicationProps {\n    date?: string,\n    titleKey1: string,\n    titleKey2: string[],\n    publicationName?: string,\n    img?: string,\n    url: string,\n    authors?: string,\n    italicize?: string\n    collection?: string,\n}\n\n\n\nexport interface BiblioDigestProps {\n    url: string,\n    sourcesAdded?: number,\n    serosurveysTotal: number,\n    serosurveysAFRO: number,\n    serosurveysEMRO: number,\n    serosurveysEURO: number,\n    serosurveysPAHO: number,\n    serosurveysSEARO: number,\n    serosurveysWPRO: number,\n    serosurveysNonMember: number,\n    screeningStartDate: string,\n    screeningEndDate: string,\n    publishDate: string\n}\n\nexport const listOfReports: PublicationProps[] = [\n    {\n        date: \"2021-01-15\",\n        img: YearInReview2020,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['YearInReview2020'],\n        url: \"https://drive.google.com/file/d/14u0GroEadFQ__Gdvoe104HI-y0LWDwSu/view?usp=sharing\",\n    },\n    {     \n        date: \"2020-08-20\",      \n        img: InsuringTheEconomy,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['InsuringTheEconomy'],\n        url: \"https://drive.google.com/file/d/1kEl6xv54yPGoDXZoPq9h2q4SqYnL2OU-/view?usp=sharing\"\n    },\n    {      \n        date: \"2020-07-22\",     \n        img: BloodBank,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['BloodBank'],\n        url: \"https://drive.google.com/file/d/1It2CzAwEfTcQ1zIC6z2fO7i7XEfmWfom/view?usp=sharing\"\n    },\n    {    \n        date: \"2020-05-19\",       \n        img: PreprintUpdate,\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['PreliminaryReport'],\n        url: \"https://drive.google.com/file/d/1I1gY1lZndwp4_eUqoZviU8L2_izmkmQP/view?usp=sharing\"\n    },\n]\n\nexport const listOfResearchArticles: PublicationProps[] = [\n    {\n        date: \"2022-02-25\",\n        img: MedRxiv,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['MedRxivNLP'],\n        publicationName: \"medRxiv\",\n        authors: \"Sara Perlman-Arrow, Noel Loo, Niklas Bobrovitz et al.\",\n        url: \"https://www.medrxiv.org/content/10.1101/2022.02.24.22268947v1\"\n    },\n    {\n        date: \"2022-02-15\",\n        img: MedRxiv,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['MedRxivAfr'],\n        publicationName: \"medRxiv\",\n        authors: \"Hannah Lewis, Harriet Ware, Mairead Whelan, et al.\",\n        url: \"https://www.medrxiv.org/content/10.1101/2022.02.14.22270934v1\"\n    },\n    {\n        date: \"2021-12-15\",\n        img: MedRxiv,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['MedRxivMeta'],\n        publicationName: \"medRxiv\",\n        authors: \"Isabel Bergeri, Mairead Whelan, Harriet Ware et al.\",\n        url: \"https://www.medrxiv.org/content/10.1101/2021.12.14.21267791v1\"\n    },\n    {\n        date: \"2021-11-21\",\n        img: MedRxiv,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['MedRxivROB'],\n        publicationName: \"medRxiv\",\n        authors: \"Niklas Bobrovitz, Kim Nol, Zihan Li et al.\",\n        url: \"https://www.medrxiv.org/content/10.1101/2021.11.17.21266471v1\"\n    },\n    {\n        date: \"2021-07-03\",\n        img: MedRxiv,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['MedRxivPrivate'],\n        publicationName: \"medRxiv\",\n        authors: \"Nathan Duarte, Sean D'Mello, Nathalie A Duarte et al.\",\n        url: \"https://www.medrxiv.org/content/10.1101/2021.06.29.21259730v1\"\n    },\n    {\n        date: \"2021-06-23\",\n        img: PlosOnePub,\n        titleKey1: 'ResearchArticleTitles',\n        titleKey2: ['PlosOnePub'],\n        publicationName: \"Plos One\",\n        authors: \"Niklas Bobrovitz, Rahul Krishan Arora, Christian Cao et al.\",\n        url: \"https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0252617\"\n    },\n    {   \n        date: \"2020-08-14\",        \n        img: LancetId,\n        titleKey1: \"ResearchArticleTitles\",\n        titleKey2: ['LancetID'],\n        publicationName: \"The Lancet: Infectious Diseases\",\n        authors: \"Rahul K Arora, Abel Joseph, Jordan Van Wyk et al.\",\n        url: \"https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30631-9/fulltext#%20\"\n    },\n    {     \n        date: \"2020-05-14\",      \n        img: MedRxiv,\n        titleKey1: \"ResearchArticleTitles\",\n        titleKey2: ['PrePrint'],\n        publicationName: \"medRxiv\",\n        authors: \"Niklas Bobrovitz, Rahul Krishan Arora, Tingting Yan et al.\",\n        url: \"https://www.medrxiv.org/content/10.1101/2020.05.10.20097451v1\"\n    },\n]\n\nexport const listOfMediaPublicationsProps: PublicationProps[] = [\n    {\n        date: \"2021-06-25\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['StillVulnerable'],\n        publicationName: \"Le Journal de Quebec\",\n        img: journalQuebec,\n        authors: \"\",\n        url: \"https://www.journaldequebec.com/2021/06/25/la-population-mondiale-toujours-vulnerable-a-la-covid-19\",\n    },\n    {\n        date: \"2021-05-25\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['NYTIndia'],\n        publicationName: \"The New York Times\",\n        authors: \"\",\n        url: \"https://www.nytimes.com/interactive/2021/05/25/world/asia/india-covid-death-estimates.html\",\n        img: NYT\n    },\n    {\n        date: \"2021-05-13\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['EconomistDeathToll'],\n        publicationName: \"The Economist\",\n        authors: \"\",\n        url: \"https://www.economist.com/graphic-detail/2021/05/13/how-we-estimated-the-true-death-toll-of-the-pandemic\",\n        img: theEconomist\n    },\n    {\n        date: \"2021-01-23\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleAnnounce'],\n        publicationName: \"Cision\",\n        authors: \"\",\n        url: \"https://www.newswire.ca/news-releases/joule-announces-2020-innovation-grant-recipients-867798355.html\",\n        img: cision\n    },\n    {\n        date: \"2021-01-20\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['WhenEnd'],\n        publicationName: \"McKinsey & Company\",\n        authors: \"\",\n        url: \"https://www.mckinsey.com/industries/healthcare-systems-and-services/our-insights/when-will-the-covid-19-pandemic-end\",\n        img: mckinsey\n    },\n    {\n        date: \"2021-01-15\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleInnovation'],\n        publicationName: \"AMC Joule\",\n        authors: \"\",\n        url: \"https://joulecma.ca/innovate/grants/serotracker \",\n        img: joule\n    },\n    {\n        date: \"2021-01-14\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['JouleRecipients'],\n        publicationName: \"Markets Insider\",\n        authors: \"\",\n        url: \"https://markets.businessinsider.com/amp/news/joule-announces-2020-innovation-grant-recipients-1029968953\",\n        img: joule\n    },\n    {\n        date: \"2021-01-01\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['McKinseyHealthcare'],\n        publicationName: \"McKinsey & Company\",\n        authors: \"\",\n        url: \"https://www.mckinsey.com/~/media/McKinsey/Industries/Healthcare%20Systems%20and%20Services/Our%20Insights/McKinsey%20on%20Healthcare%202020%20Year%20in%20Review/McKinsey-on-Healthcare-2020-Year-in-Review.pdf\",\n        img: mckinsey\n    },\n    {\n        date: \"2020-11-24\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['InfectionRate'],\n        publicationName: \"taz\",\n        authors: \"\",\n        url: \"https://taz.de/Studie-zu-globaler-Corona-Infektionsrate/!5730030/\",\n        img: taz\n    },\n    {\n        date: \"2020-11-23\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['AlumniAndStudents'],\n        publicationName: \"University of Calgary\",\n        authors: \"\",\n        url: \"https://cumming.ucalgary.ca/news/serotracker\",\n        img: UCalgary\n    },\n    {\n        date: \"2020-11-10\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['Webinar'],\n        publicationName: \"HIMSS\",\n        authors: \"\",\n        url: \"http://www.himsschapter.org/event/serotracker-covid-19-journey-himss-canadian-prairies-chapter-webinar\",\n        img: HIMSS\n    },\n    {\n        date: \"2020-08-17\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['HomeTests'],\n        publicationName: \"Forbes\",\n        authors: \"\",\n        url: \"https://www.forbes.com/sites/williamhaseltine/2020/08/17/cheap-daily-home-tests-are-the-first-step-to-containing-the-pandemic/?sh=677d47d14ad4\",\n        img: forbes\n    },\n    {\n        date: \"2020-08-03\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['Lecturership'],\n        publicationName: \"Computational Health Informatics\",\n        authors: \"\",\n        url: \"https://eng.ox.ac.uk/chi/news/adjunct-lecturership-for-rahul/\",\n        img: chi\n    },\n    {\n        date: \"2020-07-22\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['HowMany'],\n        publicationName: \"NewScientist\",\n        authors: \"\",\n        url: \"https://www.newscientist.com/article/mg24632873-000-how-many-of-us-are-likely-to-have-caught-the-coronavirus-so-far/\",\n        img: newScientist\n    },\n    {\n        date: \"2020-07-07\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['CovidRadar'],\n        publicationName: \"M1 Marica News\",\n        authors: \"\",\n        url: \"https://m1newstv.com/subnotificacao-no-brasil-e-na-rocinha-e-a-media-mundial/\",\n        img: marcia\n    },\n    {\n        date: \"2020-06-11\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['VeteranDoctor'],\n        publicationName: \"MaRS\",\n        authors: \"\",\n        url: \"https://www.marsdd.com/magazine/what-if-there-is-no-covid-19-vaccine/\",\n        img: mars\n    },\n    {\n        date: \"2020-06-02\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['NewlyLaunched'],\n        publicationName: \"McGill Publications\",\n        authors: \"\",\n        url: \"https://publications.mcgill.ca/medenews/2020/06/16/newly-launched-serotracker-will-monitor-global-antibody-testing-efforts/\",\n        img: mcgill\n    },\n    {\n        date: \"2020-06-02\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['StudentsBuild'],\n        publicationName: \"University of Waterloo\",\n        authors: \"\",\n        url: \"https://uwaterloo.ca/stories/engineering-students/students-build-online-dashboard-track-covid-19-antibody\",\n        img: waterloo\n    },\n    {\n        date: \"2020-05-28\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['GlobalLaunch'],\n        publicationName: \"Covid-19 Immunity Task Force\",\n        authors: \"\",\n        url: \"https://www.covid19immunitytaskforce.ca/global-launch-of-serotracker-a-covid-19-antibody-testing-hub-in-partnership-with-canadas-covid-19-immunity-task-force/\",\n        img: CITF\n    },\n    {\n        date: \"2020-05-24\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['KnowledgeHub'],\n        publicationName: \"University of Oxford\",\n        authors: \"\",\n        url: \"https://www.research.ox.ac.uk/Article/2020-05-28-knowledge-hub-developed-to-track-sars-cov-antibody-studies\",\n        img: oxford\n    },\n    {\n        date: \"2020-05-23\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['UnderstandingVirus'],\n        publicationName: \"Bloomberg\",\n        authors: \"\",\n        url: \"https://www.bloomberg.com/news/articles/2020-05-06/understanding-the-virus-and-its-unanswered-questions-quicktake\",\n        img: bloomberg\n    },\n    {\n        date: \"2022-01-12\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['EconomistDeathToll2'],\n        publicationName: \"The Economist\",\n        authors: \"\",\n        url: \"https://www.economist.com/graphic-detail/coronavirus-excess-deaths-estimates\",\n        img: theEconomist\n    },\n    {\n        date: \"2021-06-29\",\n        titleKey1: 'IndustryMediaTitles',\n        titleKey2: ['InventoryEvidenceSynthesis'],\n        publicationName: \"COVID-END\",\n        authors: \"\",\n        url: \"https://www.mcmasterforum.org/networks/covid-end/resources-to-support-decision-makers/Inventory-of-best-evidence-syntheses/public-health-measures\",\n        img: covidend\n    }\n]\n\n\n// Note: for biblio digests, date = date published\nexport const listOfBiblioDigests: BiblioDigestProps[] = [\n    {\n        url: \"https://drive.google.com/file/d/1_1YXlK8DrUsJz533Lu8do11g5TuF-ATS/view?usp=sharing\",\n        sourcesAdded: 106,\n        serosurveysTotal: 172,\n        serosurveysAFRO: 22,\n        serosurveysEMRO: 3,\n        serosurveysEURO: 61,\n        serosurveysPAHO: 63,\n        serosurveysSEARO: 13,\n        serosurveysWPRO: 10,\n        serosurveysNonMember: 0,\n        publishDate: \"2022-04-07\",\n        screeningStartDate: \"2022-03-05\",\n        screeningEndDate: \"2022-04-01\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1h7RpDI_EWi2qu2KTjErME03jlhY1hS5Y/view?usp=sharing\",\n        sourcesAdded: 128,\n        serosurveysTotal: 310,\n        serosurveysAFRO: 29,\n        serosurveysEMRO: 4,\n        serosurveysEURO: 185,\n        serosurveysPAHO: 58,\n        serosurveysSEARO: 21,\n        serosurveysWPRO: 13,\n        serosurveysNonMember: 0,\n        publishDate: \"2022-03-10\",\n        screeningStartDate: \"2022-02-05\",\n        screeningEndDate: \"2022-03-04\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1PME1WFA-ItYAzzuPfGNSvLvJyKXQAezl/view?usp=sharing\",\n        sourcesAdded: 98,\n        serosurveysTotal: 160,\n        serosurveysAFRO: 20,\n        serosurveysEMRO: 3,\n        serosurveysEURO: 66,\n        serosurveysPAHO: 36,\n        serosurveysSEARO: 14,\n        serosurveysWPRO: 20,\n        serosurveysNonMember: 1,\n        publishDate: \"2022-02-11\",\n        screeningStartDate: \"2022-01-08\",\n        screeningEndDate: \"2022-02-04\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1J51-liWMXACBdMgl2Yqc_litXSIukkBQ/view?usp=sharing\",\n        sourcesAdded: 65,\n        serosurveysTotal: 102,\n        serosurveysAFRO: 6,\n        serosurveysEMRO: 2,\n        serosurveysEURO: 49,\n        serosurveysPAHO: 24,\n        serosurveysSEARO: 15,\n        serosurveysWPRO: 6,\n        serosurveysNonMember: 0,\n        publishDate: \"2022-01-14\",\n        screeningStartDate: \"2021-12-11\",\n        screeningEndDate: \"2022-01-07\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1ibebgdbG5C-k0whOJfjeEuECrybmHlQ2/view?usp=sharing\",\n        sourcesAdded: 85,\n        serosurveysTotal: 176,\n        serosurveysAFRO: 37,\n        serosurveysEMRO: 5,\n        serosurveysEURO: 67,\n        serosurveysPAHO: 40,\n        serosurveysSEARO: 11,\n        serosurveysWPRO: 15,\n        serosurveysNonMember: 1,\n        publishDate: \"2021-12-17\",\n        screeningStartDate: \"2021-11-20\",\n        screeningEndDate: \"2021-12-10\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1v1Tzyatwzg-1v7f0H6qO1JGfL9Hk3_jN/view?usp=sharing\",\n        sourcesAdded: 133,\n        serosurveysTotal: 269,\n        serosurveysAFRO: 14,\n        serosurveysEMRO: 10,\n        serosurveysEURO: 153,\n        serosurveysPAHO: 55,\n        serosurveysSEARO: 24,\n        serosurveysWPRO: 13,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-11-26\",\n        screeningStartDate: \"2021-10-23\",\n        screeningEndDate: \"2021-11-09\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1Fy-fQS0fVzMPW75ZpWQRLZoU1EVYdeaF/view?usp=sharing\",\n        sourcesAdded: 171,\n        serosurveysTotal: 263,\n        serosurveysAFRO: 18,\n        serosurveysEMRO: 24,\n        serosurveysEURO: 134,\n        serosurveysPAHO: 66,\n        serosurveysSEARO: 11,\n        serosurveysWPRO: 10,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-10-29\",\n        screeningStartDate: \"2021-09-25\",\n        screeningEndDate: \"2021-10-22\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/12u72w5ZpgNV1JykEasxVD1QYWi3F9mV4/view?usp=sharing\",\n        sourcesAdded: 117,\n        serosurveysTotal: 289,\n        serosurveysAFRO: 6,\n        serosurveysEMRO: 8,\n        serosurveysEURO: 136,\n        serosurveysPAHO: 117,\n        serosurveysSEARO: 18,\n        serosurveysWPRO: 4,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-10-01\",\n        screeningStartDate: \"2021-08-28\",\n        screeningEndDate: \"2021-09-24\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/16Bi6Si2Ph0wwCSkDR15l-gNYzB91aOei/view?usp=sharing\",\n        serosurveysTotal: 147,\n        serosurveysAFRO: 2,\n        serosurveysEMRO: 11,\n        serosurveysEURO: 53,\n        serosurveysPAHO: 63,\n        serosurveysSEARO: 14,\n        serosurveysWPRO: 4,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-09-03\",\n        screeningStartDate: \"2021-07-31\",\n        screeningEndDate: \"2021-08-27\"\n    },\n    {\n        url: \"https://drive.google.com/file/d/1c7OWeVdGwL2Hix-RIHs8y-EZHdKGv8kV/view?usp=sharing\",\n        serosurveysTotal: 271,\n        serosurveysAFRO: 98,\n        serosurveysEMRO: 7,\n        serosurveysEURO: 94,\n        serosurveysPAHO: 46,\n        serosurveysSEARO: 12,\n        serosurveysWPRO: 14,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-08-06\",\n        screeningStartDate: \"2021-07-03\",\n        screeningEndDate: \"2021-07-30\"\n    },\n    {           \n        url: \"https://drive.google.com/file/d/1u6mix47HTUwSLraj4eMcD1rvGj7N7Z4g/view?usp=sharing\",\n        serosurveysTotal: 214,\n        serosurveysAFRO: 51,\n        serosurveysEMRO: 7,\n        serosurveysEURO: 71,\n        serosurveysPAHO: 44,\n        serosurveysSEARO: 21,\n        serosurveysWPRO: 20,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-07-09\",\n        screeningStartDate: \"2021-06-05\",\n        screeningEndDate: \"2021-07-02\"\n    },\n    {          \n        url: \"https://drive.google.com/file/d/1qxAa3xnqEQzFwsph75wI4_zBj84iJ2FZ/view?usp=sharing\",\n        serosurveysTotal: 162,\n        serosurveysAFRO: 17,\n        serosurveysEMRO: 3,\n        serosurveysEURO: 72,\n        serosurveysPAHO: 51,\n        serosurveysSEARO: 11,\n        serosurveysWPRO: 8,\n        serosurveysNonMember: 0,\n        publishDate: \"2021-06-10\",\n        screeningStartDate: \"2021-04-25\",\n        screeningEndDate: \"2021-06-04\"\n    },\n]\n\nexport const listOfPrivateSectorReports: PublicationProps[] = [\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: [\"OctoberReport\"],\n        collection: \"A Pillai, N Duarte, M Rocco.\",\n        authors: \"N Duarte, R Arora.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/1aCgxzxv9J5Zvh4EVyI5REmSVgWLQ_Ip3/view?usp=sharing\"\n    },\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['SeptemberReport'],\n        collection: \"A Pillai, N Duarte, M Rocco.\",\n        authors: \"N Duarte, R Arora.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/1CjMcs7UZzu4_E_QFJVYZdv0QhyfoNMAe/view?usp=sharing\"\n    },\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['AugustReport'],\n        collection: \"A Pillai, N Duarte, M Rocco.\",\n        authors: \"N Duarte, J Chen, R Arora.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/1m7BlfUKCYs32_D1jnFUEQHPr3Qjg5Eyt/view?usp=sharing\"\n    },\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['JulyReport'],\n        collection: \"A Pillai, N Duarte, M Rocco.\",\n        authors: \"Jamie Chen, N Duarte, R Arora.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/1Rx3i_Sy01suu-ZZYV7LRpo2KEclbXCNN/view?usp=sharing\"\n    },\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['JuneReport'],\n        collection: \"A Pillai, N Duarte, M Rocco.\",\n        authors: \"J Chen, N Duarte, R Arora.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/1HO--VWYdyEqd5Dc3xcZBwERXWDBjCfxN/view\"\n    },\n    {\n        titleKey1: 'IndustryReportTitles',\n        titleKey2: ['MayReport'],\n        collection: \"by S Rocco, N Duarte, M Rocco, J Van Wyk.\",\n        authors: \"N Duarte, A Pillai.\",\n        date: \"2020\",\n        url: \"https://drive.google.com/file/d/16pCR-zh1UiWjQFhTDxW_2adSGuq0pCgz/view?usp=sharing\"\n    },\n]","import React from \"react\";\nimport Translate, {TranslateDate} from \"../../../utils/translate/translateService\";\nimport {Item} from \"semantic-ui-react\";\nimport {PublicationProps} from \"./PublicationsConstants\"\n\nexport function PublicationsItem(props: PublicationProps) {\n    return (\n        <div className=\"py-2\">\n            <Item className={\"publication-item\"}>\n                <Item.Content>\n                    <Item.Meta className={\"text-default\"}>\n                        {props.publicationName && props.publicationName}\n                    </Item.Meta>\n                    <Item.Header>\n                        <h4 className={\"m-0\"}>\n                            <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"publication-link\">\n                                {props.italicize ? <i>{props.italicize}&nbsp;</i> : null}{Translate(props.titleKey1, props.titleKey2)}\n                            </a>\n                        </h4>\n                    </Item.Header>\n                    {\n                        //Could potentially add a description in the hover state if we feel like we need it.\n                    }\n                    <Item.Meta>\n                        {props.date && (\n                            <div className={\"text-small\"}>\n                                {TranslateDate(props.date + \"T00:00:00\")}\n                            </div>\n                        )}\n                        <div className={\"text-small\"}>\n                            {props.authors ? Translate(\"Authors: \") + props.authors : \"\"}\n                        </div>\n                    </Item.Meta>\n                </Item.Content>\n            </Item>\n        </div>\n    )\n}\n","import React from \"react\";\nimport Translate from \"../../../utils/translate/translateService\";\nimport { Card } from \"semantic-ui-react\";\nimport {PublicationProps} from \"./PublicationsConstants\"\n\nexport function PrivateReportsCard(props: PublicationProps) {\n    return (\n        <div className=\"py-4 px-2 flex justify-content-center\">\n            <Card className={\"private-reports-card\"}>\n                <Card.Content>\n                    <div className=\"publications-card-title m-0 mb-2\">\n                        <a href={props.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"publication-link\">\n                            {props.italicize ? <i>{props.italicize}&nbsp;</i> : null}{Translate(props.titleKey1, props.titleKey2)}\n                        </a>\n                    </div>\n                    <Card.Meta className={\"text-small mb-1\"}>\n                        {props.date}\n                    </Card.Meta>\n                    <Card.Description className={\"text-small mb-1\"}>\n                        Authored by: {props.authors}\n                    </Card.Description>\n                    <Card.Description className={\"text-small mb-1\"}>\n                        Collected by: {props.collection}\n                    </Card.Description>\n\n                </Card.Content>\n            </Card>\n        </div>\n    )\n}\n","import React from \"react\";\r\n\r\nimport {useMediaQuery} from \"react-responsive\";\r\nimport {mobileDeviceOrTabletWidth, PAGE_HASHES} from \"../../../constants\";\r\nimport {MediaCard} from \"./MediaCard\";\r\nimport {BiblioDigestCard} from \"./BiblioDigestCard\";\r\nimport {\r\n    listOfReports, \r\n    listOfBiblioDigests, \r\n    listOfMediaPublicationsProps, \r\n    listOfPrivateSectorReports, \r\n    listOfResearchArticles,\r\n    PublicationProps\r\n} from \"./PublicationsConstants\";\r\nimport './styles.scss';\r\nimport Translate from \"../../../utils/translate/translateService\";\r\nimport {PublicationsItem} from \"./PublicationsItem\";\r\nimport Slider from \"react-slick\";\r\nimport {PrivateReportsCard} from \"./PrivateReportsCard\";\r\nimport {publicationCarouselCollectionNames} from \"../../../types\";\r\n\r\nexport default function Publications() {\r\n    const isMobileDeviceOrTablet = useMediaQuery({maxDeviceWidth: mobileDeviceOrTabletWidth})\r\n    return (\r\n        <div className=\"col-12 page pb-4\">\r\n            <div className={isMobileDeviceOrTablet ? \"pb-2 policy-container static-content w-100\" : \"policy-container static-content\"}>\r\n                <h1 className=\"col-12 p-0 fit\">\r\n                    {Translate('PublicationsHeader')}\r\n                </h1>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"Publications\"])}\r\n                </p>\r\n                <div className={\"publication-menu\"} style={{flexDirection: isMobileDeviceOrTablet ? \"column\" : \"row\"}}>\r\n                    <p className={isMobileDeviceOrTablet ? \"publication-menu-item\" : \"pl-0 publication-menu-item\"}>\r\n                        <a className={\"publication-link\"} href={\"#\" + PAGE_HASHES.Publications.ResearchArticles}>\r\n                            {Translate(\"ResearchArticles\")}\r\n                        </a>\r\n                    </p>\r\n                    <p className={\"publication-menu-item\"}>\r\n                        <a className={\"publication-link\"} href={\"#\" + PAGE_HASHES.Publications.GeneralSerotrackerCommunications}>\r\n                            {Translate('GeneralSerotrackerCommunications')}\r\n                        </a>\r\n                    </p>\r\n                    <p className={\"publication-menu-item\"}>\r\n                        <a className={\"publication-link\"} href={\"#\" + PAGE_HASHES.Publications.BiblioDigests}>\r\n                            {Translate('BiblioDigests')}\r\n                        </a>\r\n                    </p>\r\n                    <p className={\"publication-menu-item\"}>\r\n                        <a className={\"publication-link\"} href={\"#\" + PAGE_HASHES.Publications.PrivateSectorReports}>\r\n                            {Translate('PrivateSectorReports')}\r\n                        </a>\r\n                    </p>\r\n                    <p className={\"publication-menu-item\"}>\r\n                        <a className={\"publication-link\"} href={\"#\" + PAGE_HASHES.Publications.MediaMentions}>\r\n                            {Translate('MediaMentions')}\r\n                        </a>\r\n                    </p>\r\n                </div>\r\n\r\n\r\n\r\n                <hr style={{borderTop: \"2px solid #bbb\", width: \"100%\"}}/>\r\n\r\n\r\n\r\n                <h2 id={PAGE_HASHES.Publications.ResearchArticles}>\r\n                    {Translate('ResearchArticles')}\r\n                </h2>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"ResearchArticles\"])}\r\n                </p>\r\n                {getPublicationsItems(listOfResearchArticles)}\r\n\r\n\r\n\r\n                <h2 id={PAGE_HASHES.Publications.GeneralSerotrackerCommunications}>\r\n                    {Translate('GeneralSerotrackerCommunications')}\r\n                </h2>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"GeneralSerotrackerCommunications\"])}\r\n                </p>\r\n                {getPublicationsItems(listOfReports)}\r\n\r\n\r\n\r\n                <h2 id={PAGE_HASHES.Publications.BiblioDigests}>\r\n                    {Translate('BiblioDigests')}\r\n                </h2>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"LiteratureUpdateReports\"])}\r\n                </p>\r\n                {getCarousel(\"BiblioDigest\", 2)}\r\n\r\n\r\n\r\n                <h2 id={PAGE_HASHES.Publications.PrivateSectorReports}>\r\n                    {Translate('PrivateSectorReports')}\r\n                </h2>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"PrivateSectorReports\"])}\r\n                </p>\r\n                {getCarousel(\"PrivateReports\", 3)}\r\n\r\n\r\n\r\n                <h2 id={PAGE_HASHES.Publications.MediaMentions}>\r\n                    {Translate('MediaMentions')}\r\n                </h2>\r\n                <p>\r\n                    {Translate(\"PublicationDescriptions\", [\"MediaMentions\"])}\r\n                </p>\r\n                {getCarousel(\"Media\", 3)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst getPublicationsItems = (publications: PublicationProps[]) => {\r\n    return (\r\n        publications.map((publicationsProps) => {\r\n            return <PublicationsItem {...publicationsProps}/>\r\n        }))\r\n}\r\n\r\nconst sliderSettings = (slidesToShow: number) =>{\r\n    return {\r\n        dots: true,\r\n        infinite: true,\r\n        arrows: true,\r\n        speed: 500,\r\n        slidesToShow: slidesToShow,\r\n        slidesToScroll: slidesToShow,\r\n        responsive: [\r\n            {\r\n                breakpoint: 1048,\r\n                settings: {\r\n                    slidesToShow: 2,\r\n                    slidesToScroll: 2,\r\n                    infinite: true,\r\n                    dots: true\r\n                }\r\n            },\r\n            {\r\n                breakpoint: 480,\r\n                settings: {\r\n                    slidesToShow: 1,\r\n                    slidesToScroll: 1,\r\n                    infinite: true,\r\n                    dots: true\r\n                }\r\n            }\r\n        ]\r\n    };\r\n} \r\n\r\nconst renderCorrectCarousel = (pubCollectionName: publicationCarouselCollectionNames) => {\r\n    switch (pubCollectionName) {\r\n        case \"Media\":\r\n            return (\r\n                listOfMediaPublicationsProps.map((publicationsProps) => {\r\n                    return <MediaCard {...publicationsProps}/>\r\n                })\r\n            )\r\n        case \"BiblioDigest\":\r\n            return (\r\n                listOfBiblioDigests.map((publicationsProps) => {\r\n                    return <BiblioDigestCard {...publicationsProps}/>\r\n                })\r\n            )\r\n        case \"PrivateReports\":\r\n            return (\r\n                listOfPrivateSectorReports.map((publicationsProps) => {\r\n                    return <PrivateReportsCard {...publicationsProps}/>\r\n                })\r\n            )\r\n        default:\r\n            return (\r\n                <div>\r\n                    Collections of this nature do not exist\r\n                </div>\r\n            )\r\n    }\r\n}\r\n\r\nconst getCarousel = (pubCollectionName: publicationCarouselCollectionNames, slidesToShow: number) => {\r\n    return (\r\n        <div className=\"publications-slider-container pb-4\">\r\n            <Slider {...sliderSettings(slidesToShow)}>\r\n                {renderCorrectCarousel(pubCollectionName)}\r\n            </Slider>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function PrivacyPolicy() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className={isMobileDeviceOrTablet ? \"policy-div-mobile\" : \"policy-div-desktop\"}>\r\n        <iframe title=\"PrivacyPolicy\" className={isMobileDeviceOrTablet ? \"policy-frame-mobile\" : \"policy-frame-desktop\"} src=\"https://app.termly.io/embed/terms-of-use/796fdf5d-ba75-4a21-9e54-4360f4fc9ccc\"></iframe>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\r\nimport Translate from \"../../utils/translate/translateService\";\r\nimport './static.css';\r\n\r\nexport default function TermsOfUse() {\r\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\r\n\r\n  return (\r\n    <div className=\"col-12 page fill terms pb-2\">\r\n      <div className={isMobileDeviceOrTablet ? \"static-mobile\" : \"static-content\"}>\r\n        <h1 className=\"col-12 pb-2\">\r\n          {Translate('TermsOfUse')}\r\n        </h1>\r\n        <div className=\"col-12 pb-3\">\r\n          <p className={\"p-2\"}>{Translate('WhoSerotrackAndPartnersDisclaimer1')}</p>\r\n          <p className={\"p-2\"}>{Translate('WhoSerotrackAndPartnersDisclaimer2')}</p>\r\n          <p className={\"p-2\"}>{Translate('WhoSerotrackAndPartnersDisclaimer3')}</p>\r\n        </div>\r\n\r\n        <h3 className=\"col-12 p-2\">\r\n          {Translate('DisclaimerListHeader')}\r\n        </h3>\r\n        <ol>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList1')}\r\n          </li>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList2')}\r\n          </li>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList3')}\r\n          </li>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList4')}\r\n          </li>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList5')}\r\n          </li>\r\n          <li className={\"p-2\"}>\r\n            {Translate('DisclaimerList6')}\r\n          </li>\r\n        </ol>\r\n        <div className={\"pb-2\"}>\r\n          {Translate('DisclaimerFooter')}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from 'semantic-ui-react'\r\nimport { AppContext } from '../../context'\r\nimport Translate from '../../utils/translate/translateService'\r\nimport { withLocaleUrl } from '../../utils/utils'\r\nimport \"sass/components/shared.scss\"\r\n\r\nexport const CookieBanner = () => {\r\n  const [state, dispatch] = useContext(AppContext)\r\n\r\n  const acceptCookes = () => {\r\n    localStorage.setItem('acceptedCookies', 'true');\r\n    dispatch({ type: 'CLOSE_COOKIE_BANNER' })\r\n  }\r\n\r\n  if (!localStorage.getItem('acceptedCookies') && !state.showCookieBanner) {\r\n    dispatch({ type: 'OPEN_COOKIE_BANNER' })\r\n  }\r\n\r\n  return (\r\n    state.showCookieBanner ?\r\n      <div className=\"cookie-banner flex\">\r\n        <div className=\"fill flex center-item\">\r\n          <div className=\"col-md-6 p-3 flex column\">\r\n            <div>\r\n              {Translate('CookiePolicyBody', null, null, [false, true])}\r\n              <Link to={withLocaleUrl(\"CookiePolicy\")}>{Translate('CookiePolicy')}</Link>\r\n            </div>\r\n            <div className=\"flex right\">\r\n              <Button color=\"blue\" onClick={acceptCookes}>{Translate('Accept')}</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      : null\r\n  )\r\n}","import React, { useContext, useEffect, useState } from 'react'\nimport { useMediaQuery } from 'react-responsive'\nimport { Link, useHistory, useLocation } from 'react-router-dom'\nimport Img from 'assets/images/SerotrackerLogo.svg'\nimport { mobileDeviceOrTabletWidth } from '../../constants'\nimport { AppContext } from '../../context'\nimport { LanguageType } from '../../types'\nimport Translate from '../../utils/translate/translateService'\nimport { withLocaleUrl } from '../../utils/utils'\nimport PartnershipsConfig from \"PartnershipsConfig\";\nimport { Dropdown, Accordion, Icon } from \"semantic-ui-react\";\n\nexport const Header = () => {\n  const [tab, setTab] = useState(\"\");\n  const [state, dispatch] = useContext(AppContext);\n  const [ partnershipDrownDownActive, setPartnershipDrownDownActive ] = useState(false);\n  const [ languageDropdownActive, setLanguageDropdownActive ] = useState(false); \n\n  const getTabClass = (tabName: string) => {\n    return tab.includes(tabName) ? 'nav__item--active col-auto h-100 flex center-item' : 'nav__item col-auto h-100 flex center-item';\n  }\n\n  const handlePartnershipClick = () => setPartnershipDrownDownActive(!partnershipDrownDownActive)\n\n  const handleLanguageClick = () => setLanguageDropdownActive(!languageDropdownActive)\n\n  const usePageViews = () => {\n    let location = useLocation();\n    useEffect(() => {\n      setTab(location.pathname)\n    }, [location]);\n  }\n\n  const history = useHistory();\n\n  const changeLanguages = (newLanguage: LanguageType) => {\n    let url = history.location.pathname;\n    url = url.replace(`/${state.language}/`, `/${newLanguage}/`)\n    dispatch(\n      {\n        type: \"SELECT_LANGUAGE\",\n        payload: newLanguage\n      })\n\n    history.push(url)\n  }\n\n  usePageViews()\n\n  const AppTitle = () => {\n    return (\n    <div className=\"App-title col-auto py-3 px-0\">\n      <Link to={withLocaleUrl(\"Explore\")} className=\"flex align-items-center\">\n        <img src={Img} width={23} height={23} alt=\"\" />\n        <div className=\"col-auto px-2 align-middle\" >SeroTracker</div>\n      </Link>\n    </div>)\n  }\n  \n  const mobileNav = (partnershipDrownDownActive: boolean, languageDropdownActive: boolean, handlePartnershipClick: any, handleLanguageClick: any, changeLanguages:any, language: any) => {\n    return (\n    <Dropdown icon='bars' direction='left' simple>\n    <Dropdown.Menu>\n      <Dropdown.Item>\n        <Link to={withLocaleUrl(\"Explore\")}>\n            {Translate('Explore')}\n        </Link>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Link to={withLocaleUrl(\"Analyze\")}>\n          {Translate('Analyze')}\n        </Link>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Link to={withLocaleUrl(\"Data\")}>\n          {Translate('Data')}\n        </Link>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Link to={withLocaleUrl(\"Publications\")}>\n          {Translate('Publications')}\n        </Link>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Link to={withLocaleUrl(\"About\")}>\n          {Translate('About')}\n        </Link>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Accordion fluid>\n            <Accordion.Title\n              active={partnershipDrownDownActive}\n              index={0}\n              onClick={handlePartnershipClick}\n              className={'flex center-item py-0'}\n            >\n              {Translate(\"Partnerships\")}\n              <Icon name='dropdown' className={`ml-5 ${partnershipDrownDownActive ? 'dropdown__icon' : 'dropdown__icon--active'} `}/>\n            </Accordion.Title>\n            {renderPartnershipsAccordianContent(partnershipDrownDownActive)}\n          </Accordion>\n      </Dropdown.Item>\n      <Dropdown.Item>\n        <Accordion fluid>\n        <Accordion.Title\n              active={languageDropdownActive}\n              index={0}\n              onClick={handleLanguageClick}\n              className={'flex py-0'}\n            >\n              {state.language.toUpperCase()}\n              <Icon name='dropdown' style={{marginLeft: \"107px\"}}className={`${languageDropdownActive ? 'dropdown__icon' : 'dropdown__icon--active'} `}/>\n              </Accordion.Title>\n              { state.language !== LanguageType.english ?    \n                 <Accordion.Content active={languageDropdownActive} onClick={() => {changeLanguages(LanguageType.english)}} className=\"ml-2\">\n                  { LanguageType.english.toUpperCase() }\n                </Accordion.Content> : \"\" }\n              {state.language !== LanguageType.french ?         \n                <Accordion.Content active={languageDropdownActive}  onClick={() => {changeLanguages(LanguageType.french)}} className=\"ml-2\">\n                { LanguageType.french.toUpperCase() }\n                </Accordion.Content> : \"\"}\n              {state.language !== LanguageType.german ?       \n                <Accordion.Content active={languageDropdownActive} onClick={() => {changeLanguages(LanguageType.german)}} className=\"ml-2\">\n                { LanguageType.german.toUpperCase() }\n                </Accordion.Content> : \"\"}\n        </Accordion>\n      </Dropdown.Item>\n    </Dropdown.Menu>\n  </Dropdown>)\n  }\n  \n  const desktopNav = ( getTabClass: any, changeLanguages:any, language: any) => {\n    return (<div className={`App-tabs col-auto space-evenly p-0`}>\n    <div className={getTabClass('/Explore')}>\n      <Link to={withLocaleUrl(\"Explore\")}>\n        {Translate('Explore')}\n      </Link>\n    </div>\n    <div className={getTabClass('/Analyze')}>\n      <Link to={withLocaleUrl(\"Analyze\")}>\n        {Translate('Analyze')}\n      </Link>\n    </div>\n    <div className={getTabClass('/Data')}>\n      <Link to={withLocaleUrl(\"Data\")}>\n        {Translate('Data')}\n      </Link>\n    </div>\n    <div className={getTabClass('/Publications')}>\n      <Link to={withLocaleUrl(\"Publications\")}>\n        {Translate('Publications')}\n      </Link>\n    </div>\n    <div className={getTabClass('/About')}>\n      <Link to={withLocaleUrl(\"About\")}>\n        {Translate('About')}\n      </Link>\n    </div>\n    <div className={'nav__item col-auto h-100 flex center-item'}>\n      <Dropdown text={Translate(\"Partnerships\")}>\n        {renderPartnershipsDropDownMenu()}\n      </Dropdown>\n    </div>\n    <div className={'col-auto h-100 px-0'}>\n      |\n    </div>\n    <div className={\"nav__item col-auto h-100 flex center-item cursor\"} >\n    <Dropdown text={language.toUpperCase()}>\n        {renderLanguageDropDownMenu()}\n      </Dropdown>\n    </div>\n  </div>)\n  }\n  \n  const renderPartnershipsDropDownMenu = () => (\n    <Dropdown.Menu>{\n      PartnershipsConfig.map( p => (\n        <Dropdown.Item>\n          <Link to={withLocaleUrl(`Partnerships/${p.routeName}`)}>{Translate(\"PartnershipsList\", [p.routeName])}</Link>\n        </Dropdown.Item>\n      ))}\n        <Dropdown.Item>\n          <Link to={withLocaleUrl('Unity')}>{Translate(\"WhoUnity\")}</Link>\n        </Dropdown.Item>\n    </Dropdown.Menu>)\n  \n  const renderLanguageDropDownMenu = () => (\n    <Dropdown.Menu >\n      {state.language !== LanguageType.english ?   \n        <Dropdown.Item onClick={() => {changeLanguages(LanguageType.english)}}>\n          { LanguageType.english.toUpperCase() }\n        </Dropdown.Item> : \"\"}\n     {state.language !== LanguageType.french ?        \n        <Dropdown.Item onClick={() => {changeLanguages(LanguageType.french)}}>\n        { LanguageType.french.toUpperCase() }\n        </Dropdown.Item> : \"\"}\n     {state.language !== LanguageType.german ?      \n         <Dropdown.Item onClick={() => {changeLanguages(LanguageType.german)}}  >\n        { LanguageType.german.toUpperCase() }\n        </Dropdown.Item> : \"\"}\n    </Dropdown.Menu>)\n  \n  const renderPartnershipsAccordianContent = (partnershipDrownDownActive: boolean) => (\n      <Accordion.Content active={partnershipDrownDownActive} className=\"ml-2\">\n        {PartnershipsConfig.map( p => (\n          <p>\n            <Link to={withLocaleUrl(`Partnerships/${p.routeName}`)}>{Translate(\"PartnershipsList\", [p.routeName])}</Link>\n          </p>\n        ))}\n        <p>\n          <Link to={withLocaleUrl('Unity')}>{Translate(\"WhoUnity\")}</Link>\n        </p>\n      </Accordion.Content>)\n\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\n  return (\n    <header className=\"App-header col-12 px-3\">\n      <AppTitle />\n      { isMobileDeviceOrTablet ? mobileNav(partnershipDrownDownActive, languageDropdownActive, handlePartnershipClick, handleLanguageClick, changeLanguages, state.language) : desktopNav( getTabClass, changeLanguages, state.language) }\n    </header >\n  )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport url from 'url';\nimport { Promise } from 'es6-promise';\nimport shallowequal from 'shallowequal';\nimport Tableau from 'tableau-api';\n\nfunction tokenizeUrl(_url, token) {\n    const parsed = url.parse(_url, true);\n    const { protocol, host, pathname } = parsed;\n\n    return `${protocol}//${host}/trusted/${token}${pathname}`;\n}\n\nconst propTypes = {\n  filters: PropTypes.object,\n  url: PropTypes.string,\n  parameters: PropTypes.object,\n  options: PropTypes.object,\n  token: PropTypes.string,\n  refreshSeconds: PropTypes.number,\n  onLoad: PropTypes.func\n};\n\nconst defaultProps = {\n  loading: false,\n  parameters: {},\n  filters: {},\n  options: {},\n  refreshSeconds: 0,\n  onLoad: function(date){}\n};\n\nclass TableauReport extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filters: props.filters,\n      parameters: props.parameters\n    };\n  }\n\n  componentDidMount() {\n    this.initTableau();\n  }\n\n  componentWillUnmount() {\n    // stop refreshing Tableau\n    if (this.refreshTimer)\n    {\n      clearInterval(this.refreshTimer);\n      this.refreshTimer = null;\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const isReportChanged = nextProps.url !== this.props.url;\n    const isFiltersChanged = !shallowequal(this.props.filters, nextProps.filters, this.compareArrays);\n    const isParametersChanged = !shallowequal(this.props.parameters, nextProps.parameters);\n    const isLoading = this.state.loading;\n\n    // Only report is changed - re-initialize\n    if (isReportChanged) {\n      this.initTableau();\n    }\n\n    // Only filters are changed, apply via the API\n    if (!isReportChanged && isFiltersChanged && !isLoading) {\n      this.applyFilters(nextProps.filters);\n    }\n\n    // Only parameters are changed, apply via the API\n    if (!isReportChanged && isParametersChanged && !isLoading) {\n      this.applyParameters(nextProps.parameters);\n    }\n\n    // token change, validate it.\n    if (nextProps.token !== this.props.token) {\n      this.setState({ didInvalidateToken: false });\n    }\n\n    // refresh rate change\n    if (nextProps.refreshSeconds !== this.props.refreshSeconds)\n    {\n      // clear current refresh interval timer if it is set\n      if (typeof(this.refreshTimer) !== \"undefined\")\n      {\n        clearInterval(this.refreshTimer);\n      }\n\n      // if the new refresh rate is > 0, set up the timer\n      if (nextProps.refreshSeconds > 0)\n      {\n        this.refreshTimer = setInterval(this.refresh.bind(this), nextProps.refreshSeconds * 1000);\n      }\n    }\n  }\n\n  /**\n   * Compares the values of filters to see if they are the same.\n   * @param  {Array<Number>} a\n   * @param  {Array<Number>} b\n   * @return {Boolean}\n   */\n  compareArrays(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n      return a.sort().toString() === b.sort().toString();\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Execute a callback when an array of promises complete, regardless of\n   * whether any throw an error.\n   */\n  onComplete(promises, cb) {\n    Promise.all(promises).then(() => cb(), () => cb())\n  }\n\n  /**\n   * Returns a vizUrl, tokenizing it if a token is passed and immediately\n   * invalidating it to prevent it from being used more than once.\n   */\n  getUrl() {\n    const { token } = this.props;\n    const parsed = url.parse(this.props.url, true);\n    const query = '?:embed=yes&:comments=no&:toolbar=yes&:refresh=yes';\n\n    if (!this.state.didInvalidateToken && token) {\n      this.invalidateToken();\n      return tokenizeUrl(this.props.url, token) + query;\n    }\n\n    return parsed.protocol + '//' + parsed.host + parsed.pathname + query;\n  }\n\n  invalidateToken() {\n    this.setState({ didInvalidateToken: true });\n  }\n\n  /**\n   * Asynchronously applies filters to the worksheet, excluding those that have\n   * already been applied, which is determined by checking against state.\n   * @param  {Object} filters\n   * @return {void}\n   */\n  applyFilters(filters) {\n    const REPLACE = Tableau.FilterUpdateType.REPLACE;\n    const promises = [];\n\n    this.setState({ loading: true });\n\n    for (const key in filters) {\n      if (\n        !this.state.filters.hasOwnProperty(key) ||\n        !this.compareArrays(this.state.filters[key], filters[key])\n      ) {\n        promises.push(\n          this.sheet.applyFilterAsync(key, filters[key], REPLACE)\n        );\n      }\n    }\n\n    this.onComplete(promises, () => this.setState({ loading: false, filters }));\n  }\n\n  applyParameters(parameters) {\n    const promises = [];\n\n    for (const key in parameters) {\n      if (\n        !this.state.parameters.hasOwnProperty(key) ||\n        this.state.parameters[key] !== parameters[key]\n      ) {\n        const val = parameters[key];\n        promises.push(this.workbook.changeParameterValueAsync(key, val));\n      }\n    }\n\n    this.onComplete(promises, () => this.setState({ loading: false, parameters }));\n  }\n\n  // refreshes the tableau visualization's data\n  refresh() {\n    if (typeof(this.viz) !== \"undefined\")\n    {\n      this.viz.refreshDataAsync();\n    }\n  }\n\n  /**\n   * Initialize the viz via the Tableau JS API.\n   * @return {void}\n   */\n  initTableau() {\n    const { filters, parameters, refreshSeconds } = this.props;\n    const vizUrl = this.getUrl();\n\n    const options = {\n      ...filters,\n      ...parameters,\n      ...this.props.options,\n      onFirstInteractive: () => {\n        this.workbook = this.viz.getWorkbook();\n        this.sheets = this.workbook.getActiveSheet().getWorksheets();\n        this.sheet = this.sheets[0];\n\n        this.props.onLoad(new Date());\n      }\n    };\n\n    // cleanup\n    if (this.viz) {\n      this.viz.dispose();\n      this.viz = null;\n    }\n\n    this.viz = new Tableau.Viz(this.container, vizUrl, options);\n\n    // set up automatic refreshing if specified\n    if (refreshSeconds > 0)\n    {\n      this.refreshTimer = setInterval(this.refresh.bind(this), refreshSeconds * 1000);\n    }\n  }\n\n  render() {\n    return <div ref={c => this.container = c} />;\n  }\n}\n\nTableauReport.propTypes = propTypes;\nTableauReport.defaultProps = defaultProps;\n\nexport default TableauReport;","import React, { useContext } from \"react\";\n// @ts-ignore\n// The tableau JS API does not have good typescript support\nimport TableauReport from './TableauReport';\nimport '../../pages/static.css';\nimport { useMediaQuery } from \"react-responsive\";\nimport { mobileDeviceOrTabletWidth } from \"../../../constants\";\nimport { LanguageType } from \"../../../types\";\nimport { AppContext } from \"../../../context\";\nimport './TableauEmbed.scss';\n\ninterface TableauEmbedProps {\n    className?: string,\n    url: { [key in LanguageType]?: string },\n    mobileOptions?: Record<string, string>,\n    desktopOptions?: Record<string, string>\n}\n\n// All other vizCreate options are supported here, too\n// They are listed here:\n// https://onlinehelp.tableau.com/current/api/js_api/en-us/JavaScriptAPI/js_api_ref.htm#ref_head_9\n// const options = {\n//     width: \"100%\",\n//     height: \"100%\"\n// }\n\nexport default function TableauEmbed(props: TableauEmbedProps) {\n    const [{ language }, dispatch] = useContext(AppContext);\n    const isMobileDeviceOrTablet = useMediaQuery({ maxWidth: mobileDeviceOrTabletWidth });\n    console.log(props.url)\n    const url = language in props.url ? props.url[language as LanguageType] : props.url[\"en\"];\n\n    let options = {}\n    if(isMobileDeviceOrTablet){\n        options = props.mobileOptions ? props.mobileOptions : {}\n    }\n    else{\n        options = props.desktopOptions ? props.desktopOptions : {}\n    }\n\n    return (\n    <figure className={`tableau-embed ${props.className as string}`}>\n        <TableauReport url={url} options={options}/>\n    </figure>\n    )\n}","\nimport React, { useContext } from \"react\";\nimport { AppContext } from \"context\";\nimport { ANALYZE_URLS, PAGE_HASHES, mobileDeviceOrTabletWidth } from \"../../constants\";\nimport { useMediaQuery } from \"react-responsive\";\nimport TableauEmbed from \"components/shared/TableauEmbed/TableauEmbed\";\nimport \"./static.css\";\n\nconst ANALYZE_MOBILE_HEIGHT = 2900;\nconst ANALYZE_DESKTOP_HEIGHT = 5000;\nconst NUM_ANALYZE_CHARTS = 8;\n\nexport default function Analyze() {\n  const isMobileDeviceOrTablet = useMediaQuery({\n    maxWidth: mobileDeviceOrTabletWidth,\n  });\n  const [{ language }] = useContext(AppContext);\n\n  // function to calculate the number of pixels from the top of the page\n  // the nth chart (0-indexed) is\n  // note: this assumes that charts are the same height\n  const getOffsetForGraphNum = (n: number) => {\n    return 20 + (isMobileDeviceOrTablet ? ANALYZE_MOBILE_HEIGHT/NUM_ANALYZE_CHARTS : ANALYZE_DESKTOP_HEIGHT/NUM_ANALYZE_CHARTS)*n;\n  }\n\n  return (\n    <div className=\"page col-12\">\n      <TableauEmbed\n        url={ANALYZE_URLS}\n        key={`AnalyzeTableau${language}`}\n        desktopOptions={{\n          width: \"82vw\",\n          height: \"5000px\"\n        }}\n        mobileOptions={{\n          width: \"90vw\",\n          height: \"2900px\"\n        }}\n        />\n        {/* These sections are for letting the hash links know where the different sections are inside the embed*/}\n        <section id={PAGE_HASHES.Analyze.ByCountry} style={{ position: 'absolute', top: getOffsetForGraphNum(0)}}></section>\n        <section id={PAGE_HASHES.Analyze.ByPopulation} style={{ position: 'absolute', top: getOffsetForGraphNum(3)}}></section>\n        <section id={PAGE_HASHES.Analyze.AdditionalGraphs} style={{ position: 'absolute', top: getOffsetForGraphNum(4)}}></section>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { AirtableRecord, EstimateGradePrevalence, Partnership } from \"types\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { AppContext } from \"context\";\nimport { mobileDeviceOrTabletWidth } from \"../../constants\";\nimport Translate from \"utils/translate/translateService\";\nimport { Loader } from \"semantic-ui-react\";\nimport Legend from \"components/map/Legend\";\nimport MapboxMap from \"components/map/MapboxMap\";\nimport httpClient from \"httpClient\";\n\ntype PartnerShipsMapProps = {\n  partnershipconfig?: Partnership;\n};\n\n// Not a priority to implement loader here because mobile is deprecated anyways\nconst mobileMap = (\n  partnershipconfig: Partnership,\n  estimateGradePrevalence: EstimateGradePrevalence | undefined,\n  records: AirtableRecord[]\n) => {\n  return (\n      <MapboxMap\n        mapConfig={partnershipconfig.mapboxMapOptions}\n        countriesConfig={{\n          estimateGradePrevalences: estimateGradePrevalence ? [estimateGradePrevalence] : undefined,\n          countryFocus: partnershipconfig?.iso3,\n        }}\n        studyPinsConfig={{\n          records: records,\n        }}\n      />\n  );\n};\n\n\nconst desktopMap = (\n  partnershipconfig: Partnership,\n  estimateGradePrevalence: EstimateGradePrevalence | undefined,\n  records: AirtableRecord[],\n  isLoading: boolean\n) => {\n  return (\n    <>\n      <div className=\"col-9 h-100\">\n        <Loader indeterminate active={isLoading}/>\n        <MapboxMap\n          mapConfig={partnershipconfig.mapboxMapOptions}\n          countriesConfig={{\n            estimateGradePrevalences: estimateGradePrevalence ? [estimateGradePrevalence] : undefined,\n            countryFocus: partnershipconfig?.iso3,\n          }}\n          studyPinsConfig={{\n            records: records,\n          }}\n        />\n      </div>\n      <div className=\"col-3 h-100\">\n        <Legend hideLayers />\n          <div className=\"mt-1\">{Translate(\"PartnershipsView\", [\"MapNote1\"])}</div>\n          <div className=\"mt-1\">\n              {Translate(\"PartnershipsView\", [\"MapNote2\"], {\n                  WEBSITE: \"ourworldindata.org\",\n              })}\n          </div>\n      </div>\n    </>\n  );\n};\n\nexport default function PartnerShipsMap({ partnershipconfig }: PartnerShipsMapProps) {\n  const [state] = useContext(AppContext);\n  const [records, setRecords] = useState<AirtableRecord[]>([]);\n  const [estimateGradePrevalence, setEstimateGradePrevalence] = useState<EstimateGradePrevalence | undefined>();\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    const api = new httpClient();\n    const getPartnershipsData = async () => {\n      setIsLoading(true);\n      const { records, estimateGradePrevalences } = await api.getCountryPartnershipData({country: [partnershipconfig?.routeName]});\n      setRecords(records);\n      setEstimateGradePrevalence(estimateGradePrevalences[0]);\n      setIsLoading(false);\n    }\n    getPartnershipsData();\n  }, [partnershipconfig, state.explore.estimateGradePrevalences])\n  const isMobileDeviceOrTablet = useMediaQuery({ maxDeviceWidth: mobileDeviceOrTabletWidth })\n\n  if (partnershipconfig === undefined) {\n    return <></>;\n  }\n  \n  // Note: Loading spinner doesn't work very well on mobile\n\n  const Map = isMobileDeviceOrTablet ? mobileMap(partnershipconfig, estimateGradePrevalence, records) : desktopMap(partnershipconfig, estimateGradePrevalence, records, isLoading)\n  const mapHeight = isMobileDeviceOrTablet ? \"50vw\" : \"70vh\"\n  return (\n    <div style={{ height: mapHeight }} className=\"row\">\n      {Map}\n    </div>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { Partnership } from \"types\";\nimport { AppContext } from \"../../../context\";\nimport TableauEmbed from \"components/shared/TableauEmbed/TableauEmbed\";\nimport Translate, { getCountryName } from \"utils/translate/translateService\";\nimport PartnerShipsMap from \"components/partnerships/PartnershipsMap\";\n\ntype CanadaPartnershipProps = {\n    partnershipConfig: Partnership;\n  };\n\nexport default function CanadaPartnership({partnershipConfig}:CanadaPartnershipProps) {\n  const [state] = useContext(AppContext);\n    console.log(partnershipConfig.tableauKey + state.language)\n\n    return (\n    <>\n      <h1 className=\"mt-5\">{Translate(\"PartnershipsPageTitle\", [partnershipConfig.routeName])}</h1>\n      <div className=\"mt-2\">\n        {Translate(\"PartnershipsPageDescription\", [partnershipConfig.routeName, \"PartOne\"], null, [false, true])}\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.covid19immunitytaskforce.ca/\">\n          {Translate(\"PartnershipsPageDescription\", [partnershipConfig.routeName, \"PartTwo\"], null, [false, true])}\n        </a>\n        {Translate(\"PartnershipsPageDescription\", [partnershipConfig.routeName, \"PartThree\"], null, [false, true])}\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.covid19immunitytaskforce.ca/seroprevalence-modelling/\">\n          {Translate(\"PartnershipsPageDescription\", [partnershipConfig.routeName, \"PartFour\"], null, [false, true])}\n        </a>\n      </div>\n      <div className=\"mt-5 mb-1\">\n        <h3>\n          {Translate(\"SeroprevalenceEstimatesInRegion\", null, {\n            NAME: getCountryName(partnershipConfig.routeName, state.language, \"CountryOptions\"),\n          })}\n        </h3>\n      </div>\n      <PartnerShipsMap partnershipconfig={partnershipConfig} />\n      <TableauEmbed\n        className=\"row\"\n        url={partnershipConfig.tableauUrl}\n        key={partnershipConfig.tableauKey + state.language}\n        desktopOptions={{\n          width: \"100%\",\n          height: \"3100px\",\n        }}\n        mobileOptions={{\n          width: \"100%\",\n          height: \"2700px\",\n        }}\n      />\n    </>\n  );\n}\n","import React from \"react\";\nimport { isMaintenanceMode } from \"../../constants\";\nimport MaintenanceModal from \"../shared/MaintenanceModal\";\n\ninterface PageBodyProps {\n    className?: string,\n    children?: JSX.Element | JSX.Element[];\n    includeMaintenanceModal: boolean,\n}\n\nconst PageBody = (props: PageBodyProps) => {\n  return (\n    <div className={`container ${props.className}`}>\n    <div className=\"row\">\n      <div className=\"col-md-auto\">\n        {props.children}\n      </div>\n    </div>\n    {props.includeMaintenanceModal && <MaintenanceModal isOpen={isMaintenanceMode} headerText={\"\"} /> }\n  </div>\n  )\n}\n\nexport default PageBody","import React from \"react\";\nimport { Redirect, useParams } from \"react-router-dom\";\nimport { Partnership } from \"types\";\nimport PartnershipsConfig from \"PartnershipsConfig\";\nimport CanadaPartnership from 'components/pages/Partnerships/CanadaPartnership';\nimport PageBody from '../../shared/PageBody'\n\ntype PartnershipProps = {\n  partnershipConfig: Partnership;\n};\n\nfunction RenderSelectedPartnershipComponent({partnershipConfig}: PartnershipProps){\n  let partnership = undefined\n  switch(partnershipConfig.routeName) {\n    case 'Canada':\n      partnership = <CanadaPartnership partnershipConfig={partnershipConfig}/>\n      break;\n    // Add more cases for new parnership components here.\n  }\n\n  return partnership\n}\n\nexport default function Partnerships() {\n  const {name} = useParams<{ name: string }>();\n  const config = PartnershipsConfig.find(x => x.routeName === name);\n\n  return (\n    <>\n      {config !== undefined ? (\n        <PageBody includeMaintenanceModal>\n          {RenderSelectedPartnershipComponent({partnershipConfig: config})}\n        </PageBody>\n      ) : (\n        <Redirect to=\"/404\" />\n      )}\n    </>\n  );\n}\n","import React, {useEffect, useState} from \"react\";\nimport {Button, Icon} from \"semantic-ui-react\";\n\nexport default function NewsletterPopup() {\n    const [hidden, setHidden] = useState(true)\n\n    useEffect(() => {\n        if (!localStorage.getItem(\"SubscribePopupSeen\")){\n            if(localStorage.getItem(\"returnUser\") === \"true\") {\n                setTimeout(function () {\n                    setHidden(false)\n                    localStorage.setItem(\"SubscribePopupSeen\", \"true\")\n                }, 30000) // 30 seconds in ms\n            }\n        }\n    }, [])\n\n    const onClickHandle = () => {\n        setHidden(true)\n    }\n\n    return (\n        <div className={\"newsletter-popup\"} onClick={onClickHandle} style={{visibility: hidden ? \"hidden\" : \"visible\"}}>\n            <Button className={\"newsletter-popup-close-button\"} icon onClick={onClickHandle}>\n                <Icon className={\"newsletter-popup-close-button-icon\"} name={\"close\"} />\n            </Button>\n            <iframe\n                src=\"https://serotracker.substack.com/embed\"\n                width=\"480\" height=\"320\"\n                className={\"newsletter-popup-content\"}\n                frameBorder=\"0\"\n                scrolling=\"no\"\n            />\n        </div>\n    )\n}","import React, { useContext, useEffect } from \"react\";\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\nimport 'sass/app.scss';\nimport About from './components/pages/About';\nimport NotFoundPage from './components/pages/NotFoundPage';\nimport CookiePolicy from \"./components/pages/CookiePolicy\";\nimport Explore from \"./components/pages/Explore/Explore\";\nimport Data from './components/pages/Data';\nimport Publications from \"./components/pages/Publications/Publications\";\nimport PrivacyPolicy from './components/pages/PrivacyPolicy';\nimport TermsOfUse from \"./components/pages/TermsOfUse\";\nimport { CookieBanner } from \"./components/shared/CookieBanner\";\nimport { Header } from \"./components/shared/Header\";\nimport { Footer } from \"./components/shared/Footer/Footer\";\nimport Analyze from \"./components/pages/Analyze\"\nimport { AppContext, getEmptyFilters } from \"./context\";\nimport httpClient from \"./httpClient\";\nimport { LanguageType } from \"./types\";\nimport { setLanguageType } from \"./utils/translate/translateService\";\nimport Partnerships from \"components/pages/Partnerships/Partnerships\";\nimport NewsletterPopup from \"./components/shared/NewsletterPopup\";\n\nfunction App() {\n  const [{ language, explore }, dispatch] = useContext(AppContext);\n  setLanguageType(language);\n\n  // General call that happens once at the start of everything.\n  useEffect(() => {\n    const api = new httpClient()\n    const allFilterOptions = async () => {\n      const { options, updatedAt, maxDate, minDate } = await api.getAllFilterOptions();\n      dispatch({\n        type: 'GET_ALL_FILTER_OPTIONS',\n        payload: options\n      })\n\n      dispatch({\n        type: \"UPDATED_AT\",\n        payload: updatedAt\n      })\n\n      dispatch({\n        type: \"MAX_MIN_DATES\",\n        payload: { maxDate, minDate }\n      })\n    }\n\n    allFilterOptions();\n\n    //track if user is a return user or not. if returnUser does not exist this is the users first time\n    if(!localStorage.getItem(\"returnUser\")) {\n      localStorage.setItem(\"returnUser\", \"true\")\n    }\n\n    // We only want this to run once so we pass no dependencies. Do not remove this\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  // Cookie managing\n  useEffect(() => {\n    const alreadyAcceptedCookes = localStorage.getItem('acceptedCookies');\n    if (alreadyAcceptedCookes) {\n      dispatch({\n        type: 'ACCEPT_COOKIES'\n      });\n    }\n    const handleResize = () => {\n      let vh = window.innerHeight * 0.01;\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n    }\n    window.addEventListener('resize', handleResize)\n\n    handleResize();\n  }, [dispatch])\n\n  const listenForUrlLanguage = (pathname: string) => {\n    if (pathname.includes(\"/en/\") && language !== LanguageType.english) {\n      dispatch({\n        type: \"SELECT_LANGUAGE\",\n        payload: LanguageType.english\n      })\n    } else if (pathname.includes(\"/fr/\") && language !== LanguageType.french) {\n      dispatch({\n        type: \"SELECT_LANGUAGE\",\n        payload: LanguageType.french\n      })\n    } else if (pathname.includes(\"/de/\") && language !== LanguageType.german) {\n      dispatch({\n        type: \"SELECT_LANGUAGE\",\n        payload: LanguageType.german\n      })\n    }\n  }\n\n  const history = useHistory()\n  listenForUrlLanguage(history.location.pathname);\n\n  let unityInitialFilters = getEmptyFilters();\n  unityInitialFilters.unity_aligned_only = true;\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <CookieBanner />\n      <NewsletterPopup />\n      <Switch>\n        <Route path=\"/:language/About\">\n          <About />\n        </Route>\n        <Route path=\"/:language/Explore\">\n          <Explore key=\"Explore\"/>\n        </Route>\n        <Route path=\"/:language/Dashboard\">\n          <Redirect to=\"/:language/Explore\" />\n        </Route>\n        <Route path=\"/:language/Analyze\">\n          <Analyze />\n        </Route>\n        <Route path=\"/:language/Partnerships/:name\">\n          <Partnerships />\n        </Route>\n        <Route path=\"/:language/Data\">\n          <Data />\n        </Route>\n        <Route path=\"/:language/PrivacyPolicy\">\n          <PrivacyPolicy />\n        </Route>\n        <Route path=\"/:language/CookiePolicy\">\n          <CookiePolicy />\n        </Route>\n        <Route path=\"/:language/TermsOfUse\">\n          <TermsOfUse />\n        </Route>\n        <Route path=\"/:language/Publications\">\n          <Publications />\n        </Route>\n        <Route path=\"/:language/Unity\">\n          {/*Key added to differentiate Unity view from Explore view and force a rerender*/}\n          <Explore initialFilters={unityInitialFilters} key=\"Unity\"/>\n        </Route>\n        <Redirect exact from=\"/\" to={`/${language}/Explore`} />\n        {language && [\"About\", \"Explore\", \"Analyze\", \"Data\", \"PrivacyPolicy\", \"CookiePolicy\", \"TermsOfUse\", \"Publications\", \"Canada\"].map(route =>\n          <Redirect from={`/${route}`} to={`${language}/${route}`}></Redirect>)}\n        <Route>\n          <NotFoundPage/>\n        </Route>\n      </Switch>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'sass/index.scss';\nimport * as serviceWorker from './serviceWorker';\nimport { AppContextProvider } from './context'\nimport {Router} from 'react-router-dom';\nimport GAListener from \"./utils/analyticsUtils\";\nimport {createBrowserHistory} from 'history';\nimport ReactGA from 'react-ga';\n\n// Initialize ReactGA\nconst isDev = process.env.NODE_ENV === \"development\";\nReactGA.initialize(process.env.REACT_APP_GA_TRACKERID, {\n  titleCase: false,\n  debug: isDev,\n  gaOptions: {\n    cookieDomain: isDev ? 'none' : 'auto'\n  }\n});\n\nconst history = createBrowserHistory()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router history={history}>\n      <GAListener>\n        <AppContextProvider>\n          <App />\n        </AppContextProvider>\n      </GAListener>\n    </Router>\n  </React.StrictMode >,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/Prepublication.0b43b193.png\";"],"sourceRoot":""}